"use strict";(self.webpackChunkfirebaseRealtimeAngularFire7=self.webpackChunkfirebaseRealtimeAngularFire7||[]).push([[179],{2011:(Xe,me,O)=>{O.d(me,{Dh:()=>ie,GT:()=>te,cc:()=>ye,hO:()=>Oe,on:()=>B,pX:()=>X,xv:()=>re});var f=O(4650),K=O(9260),P=O(2122);Xe=O.hmd(Xe);const ee=["ngOnDestroy"],X=(Ce,ve,Ae,_e={})=>new Proxy(Ce,{get:(pe,De)=>Ae.runOutsideAngular(()=>{var Te;if(Ce[De])return!(null===(Te=_e?.spy)||void 0===Te)&&Te.get&&_e.spy.get(De,Ce[De]),Ce[De];if(ee.indexOf(De)>-1)return()=>{};const Se=ve.toPromise().then(V=>{const he=V&&V[De];return"function"==typeof he?he.bind(V):he&&he.then?he.then(Pe=>Ae.run(()=>Pe)):Ae.run(()=>he)});return new Proxy(()=>{},{get:(V,he)=>Se[he],apply:(V,he,Pe)=>Se.then(Be=>{var tt;const Ge=Be&&Be(...Pe);return!(null===(tt=_e?.spy)||void 0===tt)&&tt.apply&&_e.spy.apply(De,Pe,Ge),Ge})})})}),te=(Ce,ve)=>{ve.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(_e=>{Object.defineProperty(Ce.prototype,_e,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,_e))})})};class le{constructor(ve){return ve}}const ie=new f.OlP("angularfire2.app.options"),re=new f.OlP("angularfire2.app.name");function B(Ce,ve,Ae){const pe="object"==typeof Ae&&Ae||{};pe.name=pe.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const Te=K.Z.apps.filter(Se=>Se&&Se.name===pe.name)[0]||ve.runOutsideAngular(()=>K.Z.initializeApp(Ce,pe));try{JSON.stringify(Ce)!==JSON.stringify(Te.options)&&j("error",`${Te.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Te)}const j=(Ce,...ve)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ce](...ve)},z={provide:le,useFactory:B,deps:[ie,f.R0b,[new f.FiY,re]]};let Oe=(()=>{class Ce{constructor(Ae){K.Z.registerVersion("angularfire",P.q4.full,"core"),K.Z.registerVersion("angularfire",P.q4.full,"app-compat"),K.Z.registerVersion("angular",f.q4F.full,Ae.toString())}static initializeApp(Ae,_e){return{ngModule:Ce,providers:[{provide:ie,useValue:Ae},{provide:re,useValue:_e}]}}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(f.LFG(f.Lbi))},Ce.\u0275mod=f.oAB({type:Ce}),Ce.\u0275inj=f.cJS({providers:[z]}),Ce})();function ye(Ce,ve,Ae,_e,pe){const[,De,Te]=globalThis.\u0275AngularfireInstanceCache.find(Se=>Se[0]===Ce)||[];if(De)return function Ve(Ce,ve){try{return Ce.toString()===ve.toString()}catch{return Ce===ve}}(pe,Te)||(ae("error",`${ve} was already initialized on the ${Ae} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),ae("warn",{is:pe,was:Te})),De;{const Se=_e();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Se,pe]),Se}}const Ye=!!Xe.hot,ae=(Ce,...ve)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ce](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Xe,me,O)=>{O.d(me,{q4:()=>Ma,iC:()=>ko,HU:()=>Wi,vb:()=>Oa,JM:()=>Wn});var f=O(4650),K=O(259),P=O(5861),ee=O(9681),X=O(2090),te=O(4859),le=O(1877),ie=O(8766);const re="@firebase/installations",B="0.6.3",z=`w:${B}`,Oe="FIS_v2",ve=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ae(D){return D instanceof X.ZR&&D.code.includes("request-failed")}function _e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function pe(D){return{token:D.token,requestStatus:2,expiresIn:Be(D.expiresIn),creationTime:Date.now()}}function De(D,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(D,I){const F=(yield I.json()).error;return ve.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Se({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function V(D,{refreshToken:I}){const T=Se(D);return T.append("Authorization",function tt(D){return`${Oe} ${D}`}(I)),T}function he(D){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,P.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function Be(D){return Number(D.replace("s","000"))}function Ge(D,I){return ne.apply(this,arguments)}function ne(){return(ne=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:T}){const F=_e(D),Z=Se(D),Q=I.getImmediate({optional:!0});if(Q){const Qe=yield Q.getHeartbeatsHeader();Qe&&Z.append("x-firebase-client",Qe)}const Le={method:"POST",headers:Z,body:JSON.stringify({fid:T,authVersion:Oe,appId:D.appId,sdkVersion:z})},Je=yield he(()=>fetch(F,Le));if(Je.ok){const Qe=yield Je.json();return{fid:Qe.fid||T,registrationStatus:2,refreshToken:Qe.refreshToken,authToken:pe(Qe.authToken)}}throw yield De("Create Installation",Je)})).apply(this,arguments)}function oe(D){return new Promise(I=>{setTimeout(I,D)})}const Ie=/^[cdef][\w-]{21}$/;function Ne(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const T=function He(D){return function fe(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Ie.test(T)?T:""}catch{return""}}function Ue(D){return`${D.appName}!${D.appId}`}const jt=new Map;function at(D,I){const T=Ue(D);_t(T,I),function Qt(D,I){const T=function Jt(){return!nn&&"BroadcastChannel"in self&&(nn=new BroadcastChannel("[Firebase] FID Change"),nn.onmessage=D=>{_t(D.data.key,D.data.fid)}),nn}();T&&T.postMessage({key:D,fid:I}),function Xt(){0===jt.size&&nn&&(nn.close(),nn=null)}()}(T,I)}function _t(D,I){const T=jt.get(D);if(T)for(const F of T)F(I)}let nn=null;const vr="firebase-installations-store";let Jn=null;function Fi(){return Jn||(Jn=(0,ie.X3)("firebase-installations-database",1,{upgrade:(D,I)=>{0===I&&D.createObjectStore(vr)}})),Jn}function zt(D,I){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(D,I){const T=Ue(D),Z=(yield Fi()).transaction(vr,"readwrite"),Q=Z.objectStore(vr),Ee=yield Q.get(T);return yield Q.put(I,T),yield Z.done,(!Ee||Ee.fid!==I.fid)&&at(D,I.fid),I})).apply(this,arguments)}function rt(D){return di.apply(this,arguments)}function di(){return(di=(0,P.Z)(function*(D){const I=Ue(D),F=(yield Fi()).transaction(vr,"readwrite");yield F.objectStore(vr).delete(I),yield F.done})).apply(this,arguments)}function Rr(D,I){return rn.apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(D,I){const T=Ue(D),Z=(yield Fi()).transaction(vr,"readwrite"),Q=Z.objectStore(vr),Ee=yield Q.get(T),Le=I(Ee);return void 0===Le?yield Q.delete(T):yield Q.put(Le,T),yield Z.done,Le&&(!Ee||Ee.fid!==Le.fid)&&at(D,Le.fid),Le})).apply(this,arguments)}function Un(D){return Li.apply(this,arguments)}function Li(){return(Li=(0,P.Z)(function*(D){let I;const T=yield Rr(D.appConfig,F=>{const Z=mt(F),Q=st(D,Z);return I=Q.registrationPromise,Q.installationEntry});return""===T.fid?{installationEntry:yield I}:{installationEntry:T,registrationPromise:I}})).apply(this,arguments)}function mt(D){return Nn(D||{fid:Ne(),registrationStatus:0})}function st(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ve.create("app-offline"))};const T={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},F=function lt(D,I){return hi.apply(this,arguments)}(D,T);return{installationEntry:T,registrationPromise:F}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:sn(D)}:{installationEntry:I}}function hi(){return(hi=(0,P.Z)(function*(D,I){try{const T=yield Ge(D,I);return zt(D.appConfig,T)}catch(T){throw Ae(T)&&409===T.customData.serverCode?yield rt(D.appConfig):yield zt(D.appConfig,{fid:I.fid,registrationStatus:0}),T}})).apply(this,arguments)}function sn(D){return en.apply(this,arguments)}function en(){return(en=(0,P.Z)(function*(D){let I=yield Pr(D.appConfig);for(;1===I.registrationStatus;)yield oe(100),I=yield Pr(D.appConfig);if(0===I.registrationStatus){const{installationEntry:T,registrationPromise:F}=yield Un(D);return F||T}return I})).apply(this,arguments)}function Pr(D){return Rr(D,I=>{if(!I)throw ve.create("installation-not-found");return Nn(I)})}function Nn(D){return function Ps(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ut(D,I){return zr.apply(this,arguments)}function zr(){return(zr=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:I},T){const F=xt(D,T),Z=V(D,T),Q=I.getImmediate({optional:!0});if(Q){const Qe=yield Q.getHeartbeatsHeader();Qe&&Z.append("x-firebase-client",Qe)}const Le={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:z,appId:D.appId}})},Je=yield he(()=>fetch(F,Le));if(Je.ok)return pe(yield Je.json());throw yield De("Generate Auth Token",Je)})).apply(this,arguments)}function xt(D,{fid:I}){return`${_e(D)}/${I}/authTokens:generate`}function Bn(D){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,P.Z)(function*(D,I=!1){let T;const F=yield Rr(D.appConfig,Q=>{if(!Ct(Q))throw ve.create("not-registered");const Ee=Q.authToken;if(!I&&U(Ee))return Q;if(1===Ee.requestStatus)return T=ke(D,I),Q;{if(!navigator.onLine)throw ve.create("app-offline");const Le=W(Q);return T=ct(D,Le),Le}});return T?yield T:F.authToken})).apply(this,arguments)}function ke(D,I){return ge.apply(this,arguments)}function ge(){return(ge=(0,P.Z)(function*(D,I){let T=yield ze(D.appConfig);for(;1===T.authToken.requestStatus;)yield oe(100),T=yield ze(D.appConfig);const F=T.authToken;return 0===F.requestStatus?Bn(D,I):F})).apply(this,arguments)}function ze(D){return Rr(D,I=>{if(!Ct(I))throw ve.create("not-registered");return function ce(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ct(D,I){return pt.apply(this,arguments)}function pt(){return(pt=(0,P.Z)(function*(D,I){try{const T=yield Ut(D,I),F=Object.assign(Object.assign({},I),{authToken:T});return yield zt(D.appConfig,F),T}catch(T){if(!Ae(T)||401!==T.customData.serverCode&&404!==T.customData.serverCode){const F=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield zt(D.appConfig,F)}else yield rt(D.appConfig);throw T}})).apply(this,arguments)}function Ct(D){return void 0!==D&&2===D.registrationStatus}function U(D){return 2===D.requestStatus&&!function L(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function W(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ke(){return(Ke=(0,P.Z)(function*(D){const I=D,{installationEntry:T,registrationPromise:F}=yield Un(I);return F?F.catch(console.error):Bn(I).catch(console.error),T.fid})).apply(this,arguments)}function Pt(){return(Pt=(0,P.Z)(function*(D,I=!1){const T=D;return yield on(T),(yield Bn(T,I)).token})).apply(this,arguments)}function on(D){return ot.apply(this,arguments)}function ot(){return(ot=(0,P.Z)(function*(D){const{registrationPromise:I}=yield Un(D);I&&(yield I)})).apply(this,arguments)}function ra(D){return ve.create("missing-app-config-values",{valueName:D})}const _l="installations",an=D=>{const I=D.getProvider("app").getImmediate(),T=function po(D){if(!D||!D.options)throw ra("App Configuration");if(!D.name)throw ra("App Name");const I=["projectId","apiKey","appId"];for(const T of I)if(!D.options[T])throw ra(T);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:T,heartbeatServiceProvider:(0,ee._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ju=D=>{const I=D.getProvider("app").getImmediate(),T=(0,ee._getProvider)(I,_l).getImmediate();return{getId:()=>function Y(D){return Ke.apply(this,arguments)}(T),getToken:Z=>function Dt(D){return Pt.apply(this,arguments)}(T,Z)}};(function yl(){(0,ee._registerComponent)(new te.wA(_l,an,"PUBLIC")),(0,ee._registerComponent)(new te.wA("installations-internal",ju,"PRIVATE"))})(),(0,ee.registerVersion)(re,B),(0,ee.registerVersion)(re,B,"esm2017");const go="@firebase/remote-config",vn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ns{constructor(I,T,F,Z){this.client=I,this.storage=T,this.storageCache=F,this.logger=Z}isCachedDataFresh(I,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-T,Z=F<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Z}.`),Z}fetch(I){var T=this;return(0,P.Z)(function*(){const[F,Z]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(Z&&T.isCachedDataFresh(I.cacheMaxAgeMillis,F))return Z;I.eTag=Z&&Z.eTag;const Q=yield T.client.fetch(I),Ee=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&Ee.push(T.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(Ee),Q})()}}function xr(D=navigator){return D.languages&&D.languages[0]||D.language}class Ui{constructor(I,T,F,Z,Q,Ee){this.firebaseInstallations=I,this.sdkVersion=T,this.namespace=F,this.projectId=Z,this.apiKey=Q,this.appId=Ee}fetch(I){var T=this;return(0,P.Z)(function*(){const[F,Z]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,Le={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Je={sdk_version:T.sdkVersion,app_instance_id:F,app_instance_id_token:Z,app_id:T.appId,language_code:xr()},Qe={method:"POST",headers:Le,body:JSON.stringify(Je)},vt=fetch(Ee,Qe),ft=new Promise((Vr,Ur)=>{I.signal.addEventListener(()=>{const Br=new Error("The operation was aborted.");Br.name="AbortError",Ur(Br)})});let Pn;try{yield Promise.race([vt,ft]),Pn=yield vt}catch(Vr){let Ur="fetch-client-network";throw"AbortError"===Vr?.name&&(Ur="fetch-timeout"),vn.create(Ur,{originalErrorMessage:Vr?.message})}let Sn=Pn.status;const ys=Pn.headers.get("ETag")||void 0;let vs,Es;if(200===Pn.status){let Vr;try{Vr=yield Pn.json()}catch(Ur){throw vn.create("fetch-client-parse",{originalErrorMessage:Ur?.message})}vs=Vr.entries,Es=Vr.state}if("INSTANCE_STATE_UNSPECIFIED"===Es?Sn=500:"NO_CHANGE"===Es?Sn=304:("NO_TEMPLATE"===Es||"EMPTY_CONFIG"===Es)&&(vs={}),304!==Sn&&200!==Sn)throw vn.create("fetch-status",{httpStatus:Sn});return{status:Sn,eTag:ys,config:vs}})()}}class Kr{constructor(I,T){this.client=I,this.storage=T}fetch(I){var T=this;return(0,P.Z)(function*(){const F=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(I,F)})()}attemptFetch(I,{throttleEndTimeMillis:T,backoffCount:F}){var Z=this;return(0,P.Z)(function*(){yield function pi(D,I){return new Promise((T,F)=>{const Z=Math.max(I-Date.now(),0),Q=setTimeout(T,Z);D.addEventListener(()=>{clearTimeout(Q),F(vn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,T);try{const Q=yield Z.client.fetch(I);return yield Z.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function Gt(D){if(!(D instanceof X.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(Q))throw Q;const Ee={throttleEndTimeMillis:Date.now()+(0,X.$s)(F),backoffCount:F+1};return yield Z.storage.setThrottleMetadata(Ee),Z.attemptFetch(I,Ee)}})()}}class Fs{constructor(I,T,F,Z,Q){this.app=I,this._client=T,this._storageCache=F,this._storage=Z,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rs(D,I){const T=D.target.error||void 0;return vn.create(I,{originalErrorMessage:T&&T?.message})}const er="app_namespace_store";class kr{constructor(I,T,F,Z=function ur(){return new Promise((D,I)=>{try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=F=>{I(rs(F,"storage-open"))},T.onsuccess=F=>{D(F.target.result)},T.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(er,{keyPath:"compositeKey"})}}catch(T){I(vn.create("storage-open",{originalErrorMessage:T?.message}))}})}()){this.appId=I,this.appName=T,this.namespace=F,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var T=this;return(0,P.Z)(function*(){const F=yield T.openDbPromise;return new Promise((Z,Q)=>{const Le=F.transaction([er],"readonly").objectStore(er),Je=T.createCompositeKey(I);try{const Qe=Le.get(Je);Qe.onerror=vt=>{Q(rs(vt,"storage-get"))},Qe.onsuccess=vt=>{const ft=vt.target.result;Z(ft?ft.value:void 0)}}catch(Qe){Q(vn.create("storage-get",{originalErrorMessage:Qe?.message}))}})})()}set(I,T){var F=this;return(0,P.Z)(function*(){const Z=yield F.openDbPromise;return new Promise((Q,Ee)=>{const Je=Z.transaction([er],"readwrite").objectStore(er),Qe=F.createCompositeKey(I);try{const vt=Je.put({compositeKey:Qe,value:T});vt.onerror=ft=>{Ee(rs(ft,"storage-set"))},vt.onsuccess=()=>{Q()}}catch(vt){Ee(vn.create("storage-set",{originalErrorMessage:vt?.message}))}})})()}delete(I){var T=this;return(0,P.Z)(function*(){const F=yield T.openDbPromise;return new Promise((Z,Q)=>{const Le=F.transaction([er],"readwrite").objectStore(er),Je=T.createCompositeKey(I);try{const Qe=Le.delete(Je);Qe.onerror=vt=>{Q(rs(vt,"storage-delete"))},Qe.onsuccess=()=>{Z()}}catch(Qe){Q(vn.create("storage-delete",{originalErrorMessage:Qe?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class _o{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const T=I.storage.getLastFetchStatus(),F=I.storage.getLastSuccessfulFetchTimestampMillis(),Z=I.storage.getActiveConfig(),Q=yield T;Q&&(I.lastFetchStatus=Q);const Ee=yield F;Ee&&(I.lastSuccessfulFetchTimestampMillis=Ee);const Le=yield Z;Le&&(I.activeConfig=Le)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function yo(){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,P.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch{return!1}})).apply(this,arguments)}!function Fr(){(0,ee._registerComponent)(new te.wA("remote-config",function D(I,{instanceIdentifier:T}){const F=I.getProvider("app").getImmediate(),Z=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vn.create("registration-window");if(!(0,X.hl)())throw vn.create("indexed-db-unavailable");const{projectId:Q,apiKey:Ee,appId:Le}=F.options;if(!Q)throw vn.create("registration-project-id");if(!Ee)throw vn.create("registration-api-key");if(!Le)throw vn.create("registration-app-id");const Je=new kr(Le,F.name,T=T||"firebase"),Qe=new _o(Je),vt=new le.Yd(go);vt.logLevel=le.in.ERROR;const ft=new Ui(Z,ee.SDK_VERSION,T,Q,Ee,Le),Pn=new Kr(ft,Je),Sn=new ns(Pn,Je,Qe,vt),ys=new Fs(F,Sn,Qe,Je,vt);return function ln(D){const I=(0,X.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ys),ys},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(go,"0.4.3"),(0,ee.registerVersion)(go,"0.4.3","esm2017")}();const Dl="/firebase-messaging-sw.js",gi="/firebase-cloud-messaging-push-scope",Ls="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Il="google.c.a.c_id",Id="google.c.a.c_l",wd="google.c.a.ts",pf="google.c.a.e";var is=(()=>{return(D=is||(is={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",is;var D})();function qr(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gf(D){const T=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(T),Z=new Uint8Array(F.length);for(let Q=0;Q<F.length;++Q)Z[Q]=F.charCodeAt(Q);return Z}const wl="fcm_token_details_db",tr="fcm_token_object_Store";function Sl(D){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(wl))return null;let I=null;return(yield(0,ie.X3)(wl,5,{upgrade:(F=(0,P.Z)(function*(Z,Q,Ee,Le){var Je;if(Q<2||!Z.objectStoreNames.contains(tr))return;const Qe=Le.objectStore(tr),vt=yield Qe.index("fcmSenderId").get(D);if(yield Qe.clear(),vt)if(2===Q){const ft=vt;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;I={token:ft.fcmToken,createTime:null!==(Je=ft.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:qr(ft.vapidKey)}}}else if(3===Q){const ft=vt;I={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:qr(ft.auth),p256dh:qr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:qr(ft.vapidKey)}}}else if(4===Q){const ft=vt;I={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:qr(ft.auth),p256dh:qr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:qr(ft.vapidKey)}}}}),function(Q,Ee,Le,Je){return F.apply(this,arguments)})})).close(),yield(0,ie.Lj)(wl),yield(0,ie.Lj)("fcm_vapid_details_db"),yield(0,ie.Lj)("undefined"),bd(I)?I:null;var F}),Gu.apply(this,arguments)}function bd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const os="firebase-messaging-store";let ia=null;function Us(){return ia||(ia=(0,ie.X3)("firebase-messaging-database",1,{upgrade:(D,I)=>{0===I&&D.createObjectStore(os)}})),ia}function sa(D){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,P.Z)(function*(D){const I=Hs(D),F=yield(yield Us()).transaction(os).objectStore(os).get(I);if(F)return F;{const Z=yield Sl(D.appConfig.senderId);if(Z)return yield as(D,Z),Z}})).apply(this,arguments)}function as(D,I){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*(D,I){const T=Hs(D),Z=(yield Us()).transaction(os,"readwrite");return yield Z.objectStore(os).put(I,T),yield Z.done,I})).apply(this,arguments)}function Wu(D){return js.apply(this,arguments)}function js(){return(js=(0,P.Z)(function*(D){const I=Hs(D),F=(yield Us()).transaction(os,"readwrite");yield F.objectStore(os).delete(I),yield F.done})).apply(this,arguments)}function Hs({appConfig:D}){return D.appId}const hn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oa(D,I){return mn.apply(this,arguments)}function mn(){return(mn=(0,P.Z)(function*(D,I){const T=yield us(D),F=Do(I),Z={method:"POST",headers:T,body:JSON.stringify(F)};let Q;try{Q=yield(yield fetch($s(D.appConfig),Z)).json()}catch(Ee){throw hn.create("token-subscribe-failed",{errorInfo:Ee?.toString()})}if(Q.error)throw hn.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw hn.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function Co(D,I){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(D,I){const T=yield us(D),F=Do(I.subscriptionOptions),Z={method:"PATCH",headers:T,body:JSON.stringify(F)};let Q;try{Q=yield(yield fetch(`${$s(D.appConfig)}/${I.token}`,Z)).json()}catch(Ee){throw hn.create("token-update-failed",{errorInfo:Ee?.toString()})}if(Q.error)throw hn.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw hn.create("token-update-no-token");return Q.token})).apply(this,arguments)}function Cn(D,I){return Al.apply(this,arguments)}function Al(){return(Al=(0,P.Z)(function*(D,I){const F={method:"DELETE",headers:yield us(D)};try{const Q=yield(yield fetch(`${$s(D.appConfig)}/${I}`,F)).json();if(Q.error)throw hn.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(Z){throw hn.create("token-unsubscribe-failed",{errorInfo:Z?.toString()})}})).apply(this,arguments)}function $s({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function us(D){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,P.Z)(function*({appConfig:D,installations:I}){const T=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function Do({p256dh:D,auth:I,endpoint:T,vapidKey:F}){const Z={web:{endpoint:T,auth:I,p256dh:D}};return F!==Ls&&(Z.web.applicationPubKey=F),Z}const Gs=6048e5;function aa(D){return mi.apply(this,arguments)}function mi(){return(mi=(0,P.Z)(function*(D){const I=yield Ml(D.swRegistration,D.vapidKey),T={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:qr(I.getKey("auth")),p256dh:qr(I.getKey("p256dh"))},F=yield sa(D.firebaseDependencies);if(F){if(ca(F.subscriptionOptions,T))return Date.now()>=F.createTime+Gs?gt(D,{token:F.token,createTime:Date.now(),subscriptionOptions:T}):F.token;try{yield Cn(D.firebaseDependencies,F.token)}catch(Z){console.warn(Z)}return zu(D.firebaseDependencies,T)}return zu(D.firebaseDependencies,T)})).apply(this,arguments)}function Io(D){return wo.apply(this,arguments)}function wo(){return(wo=(0,P.Z)(function*(D){const I=yield sa(D.firebaseDependencies);I&&(yield Cn(D.firebaseDependencies,I.token),yield Wu(D.firebaseDependencies));const T=yield D.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()})).apply(this,arguments)}function gt(D,I){return la.apply(this,arguments)}function la(){return(la=(0,P.Z)(function*(D,I){try{const T=yield Co(D.firebaseDependencies,I),F=Object.assign(Object.assign({},I),{token:T,createTime:Date.now()});return yield as(D.firebaseDependencies,F),T}catch(T){throw yield Io(D),T}})).apply(this,arguments)}function zu(D,I){return ua.apply(this,arguments)}function ua(){return(ua=(0,P.Z)(function*(D,I){const F={token:yield oa(D,I),createTime:Date.now(),subscriptionOptions:I};return yield as(D,F),F.token})).apply(this,arguments)}function Ml(D,I){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,P.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gf(I)})})).apply(this,arguments)}function ca(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function Sd(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Pl(D,I){if(!I.notification)return;D.notification={};const T=I.notification.title;T&&(D.notification.title=T);const F=I.notification.body;F&&(D.notification.body=F);const Z=I.notification.image;Z&&(D.notification.image=Z);const Q=I.notification.icon;Q&&(D.notification.icon=Q)}(I,D),function ue(D,I){I.data&&(D.data=I.data)}(I,D),function Ft(D,I){var T,F,Z,Q,Ee;if(!(I.fcmOptions||null!==(T=I.notification)&&void 0!==T&&T.click_action))return;D.fcmOptions={};const Le=null!==(Z=null===(F=I.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Z?Z:null===(Q=I.notification)||void 0===Q?void 0:Q.click_action;Le&&(D.fcmOptions.link=Le);const Je=null===(Ee=I.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;Je&&(D.fcmOptions.analyticsLabel=Je)}(I,D),I}function Ol(D){return"object"==typeof D&&!!D&&Il in D}function Zu(D,I){const T=[];for(let F=0;F<D.length;F++)T.push(D.charAt(F)),F<I.length&&T.push(I.charAt(F));return T.join("")}function bo(D){return hn.create("missing-app-config-values",{valueName:D})}Zu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class da{constructor(I,T,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function xn(D){if(!D||!D.options)throw bo("App Configuration Object");if(!D.name)throw bo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:T}=D;for(const F of I)if(!T[F])throw bo(F);return{appName:D.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Z,installations:T,analyticsProvider:F}}_delete(){return Promise.resolve()}}function hr(D){return ha.apply(this,arguments)}function ha(){return(ha=(0,P.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Dl,{scope:gi}),D.swRegistration.update().catch(()=>{})}catch(I){throw hn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function fa(D,I){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,P.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield hr(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw hn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Nl(D,I){return pa.apply(this,arguments)}function pa(){return(pa=(0,P.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Ls)})).apply(this,arguments)}function fr(){return(fr=(0,P.Z)(function*(D,I){if(!navigator)throw hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hn.create("permission-blocked");return yield Nl(D,I?.vapidKey),yield fa(D,I?.serviceWorkerRegistration),aa(D)})).apply(this,arguments)}function Bi(D,I,T){return cs.apply(this,arguments)}function cs(){return(cs=(0,P.Z)(function*(D,I,T){const F=Yr(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:T[Il],message_name:T[Id],message_time:T[wd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Yr(D){switch(D){case is.NOTIFICATION_CLICKED:return"notification_open";case is.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function So(){return(So=(0,P.Z)(function*(D,I){const T=I.data;if(!T.isFirebaseMessaging)return;D.onMessageHandler&&T.messageType===is.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Sd(T)):D.onMessageHandler.next(Sd(T)));const F=T.data;Ol(F)&&"1"===F[pf]&&(yield Bi(D,T.messageType,F))})).apply(this,arguments)}const Yu="@firebase/messaging",kl=D=>{const I=new da(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function qu(D,I){return So.apply(this,arguments)}(I,T)),I},_i=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:F=>function bn(D,I){return fr.apply(this,arguments)}(I,F)}};function Fl(){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,P.Z)(function*(){try{yield(0,X.eu)()}catch{return!1}return typeof window<"u"&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qu(){(0,ee._registerComponent)(new te.wA("messaging",kl,"PUBLIC")),(0,ee._registerComponent)(new te.wA("messaging-internal",_i,"PRIVATE")),(0,ee.registerVersion)(Yu,"0.12.3"),(0,ee.registerVersion)(Yu,"0.12.3","esm2017")}();const Xu="analytics",nr="firebase_id",zs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vl="https://www.googletagmanager.com/gtag/js",kn=new le.Yd("@firebase/analytics");function Md(D){return Promise.all(D.map(I=>I.catch(T=>T)))}function yf(D,I){const T=document.createElement("script");T.src=`${Vl}?l=${D}&id=${I}`,T.async=!0,document.head.appendChild(T)}function To(D,I,T,F,Z,Q){return ds.apply(this,arguments)}function ds(){return(ds=(0,P.Z)(function*(D,I,T,F,Z,Q){const Ee=F[Z];try{if(Ee)yield I[Ee];else{const Je=(yield Md(T)).find(Qe=>Qe.measurementId===Z);Je&&(yield I[Je.appId])}}catch(Le){kn.error(Le)}D("config",Z,Q)})).apply(this,arguments)}function ma(D,I,T,F,Z){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,P.Z)(function*(D,I,T,F,Z){try{let Q=[];if(Z&&Z.send_to){let Ee=Z.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Le=yield Md(T);for(const Je of Ee){const Qe=Le.find(ft=>ft.measurementId===Je),vt=Qe&&I[Qe.appId];if(!vt){Q=[];break}Q.push(vt)}}0===Q.length&&(Q=Object.values(I)),yield Promise.all(Q),D("event",F,Z||{})}catch(Q){kn.error(Q)}})).apply(this,arguments)}function yi(D){const I=window.document.getElementsByTagName("script");for(const T of Object.values(I))if(T.src&&T.src.includes(Vl)&&T.src.includes(D))return T;return null}const pr=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tc=new class fs{constructor(I={},T=1e3){this.throttleMetadata=I,this.intervalMillis=T}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,T){this.throttleMetadata[I]=T}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function _a(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function ps(D){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(D){var I;const{appId:T,apiKey:F}=D,Z={method:"GET",headers:_a(F)},Q=zs.replace("{app-id}",T),Ee=yield fetch(Q,Z);if(200!==Ee.status&&304!==Ee.status){let Le="";try{const Je=yield Ee.json();null!==(I=Je.error)&&void 0!==I&&I.message&&(Le=Je.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Le})}return Ee.json()})).apply(this,arguments)}function un(D){return ji.apply(this,arguments)}function ji(){return(ji=(0,P.Z)(function*(D,I=tc,T){const{appId:F,apiKey:Z,measurementId:Q}=D.options;if(!F)throw pr.create("no-app-id");if(!Z){if(Q)return{measurementId:Q,appId:F};throw pr.create("no-api-key")}const Ee=I.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Le=new Mo;return setTimeout((0,P.Z)(function*(){Le.abort()}),void 0!==T?T:6e4),Zs({appId:F,apiKey:Z,measurementId:Q},Ee,Le,I)})).apply(this,arguments)}function Zs(D,I,T){return vi.apply(this,arguments)}function vi(){return(vi=(0,P.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:T},F,Z=tc){var Q;const{appId:Ee,measurementId:Le}=D;try{yield Ks(F,I)}catch(Je){if(Le)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:Ee,measurementId:Le};throw Je}try{const Je=yield ps(D);return Z.deleteThrottleMetadata(Ee),Je}catch(Je){const Qe=Je;if(!jl(Qe)){if(Z.deleteThrottleMetadata(Ee),Le)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:Ee,measurementId:Le};throw Je}const vt=503===Number(null===(Q=Qe?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,X.$s)(T,Z.intervalMillis,30):(0,X.$s)(T,Z.intervalMillis),ft={throttleEndTimeMillis:Date.now()+vt,backoffCount:T+1};return Z.setThrottleMetadata(Ee,ft),kn.debug(`Calling attemptFetch again in ${vt} millis`),Zs(D,ft,F,Z)}})).apply(this,arguments)}function Ks(D,I){return new Promise((T,F)=>{const Z=Math.max(I-Date.now(),0),Q=setTimeout(T,Z);D.addEventListener(()=>{clearTimeout(Q),F(pr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function jl(D){if(!(D instanceof X.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Mo{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let ya,ms;function Hi(){return(Hi=(0,P.Z)(function*(D,I,T,F,Z){if(Z&&Z.global)D("event",T,F);else{const Q=yield I;D("event",T,Object.assign(Object.assign({},F),{send_to:Q}))}})).apply(this,arguments)}function Ca(D){ms=D}function Da(D){ya=D}function Ia(){return nc.apply(this,arguments)}function nc(){return(nc=(0,P.Z)(function*(){if(!(0,X.hl)())return kn.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(D){return kn.warn(pr.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function wa(){return(wa=(0,P.Z)(function*(D,I,T,F,Z,Q,Ee){var Le;const Je=un(D);Je.then(Sn=>{T[Sn.measurementId]=Sn.appId,D.options.measurementId&&Sn.measurementId!==D.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Sn=>kn.error(Sn)),I.push(Je);const Qe=Ia().then(Sn=>{if(Sn)return F.getId()}),[vt,ft]=yield Promise.all([Je,Qe]);yi(Q)||yf(Q,vt.measurementId),ms&&(Z("consent","default",ms),Ca(void 0)),Z("js",new Date);const Pn=null!==(Le=Ee?.config)&&void 0!==Le?Le:{};return Pn.origin="firebase",Pn.update=!0,null!=ft&&(Pn[nr]=ft),Z("config",vt.measurementId,Pn),ya&&(Z("set",ya),Da(void 0)),vt.measurementId})).apply(this,arguments)}class ba{constructor(I){this.app=I}_delete(){return delete Ei[this.app.options.appId],Promise.resolve()}}let Ei={},Hl=[];const Qs={};let Gl,Xr,Jr="dataLayer",Dr=!1;function Sa(D,I,T){!function Wl(){const D=[];if((0,X.ru)()&&D.push("This is a browser extension environment."),(0,X.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((F,Z)=>`(${Z+1}) ${F}`).join(" "),T=pr.create("invalid-analytics-context",{errorInfo:I});kn.warn(T.message)}}();const F=D.options.appId;if(!F)throw pr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw pr.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ei[F])throw pr.create("already-exists",{id:F});if(!Dr){!function vf(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(Jr);const{wrappedGtag:Q,gtagCore:Ee}=function Rd(D,I,T,F,Z){let Q=function(...Ee){window[F].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(Q=window[Z]),window[Z]=function hs(D,I,T,F){function Q(){return(Q=(0,P.Z)(function*(Ee,Le,Je){try{"event"===Ee?yield ma(D,I,T,Le,Je):"config"===Ee?yield To(D,I,T,F,Le,Je):"consent"===Ee?D("consent","update",Je):D("set",Le)}catch(Qe){kn.error(Qe)}})).apply(this,arguments)}return function Z(Ee,Le,Je){return Q.apply(this,arguments)}}(Q,D,I,T),{gtagCore:Q,wrappedGtag:window[Z]}}(Ei,Hl,Qs,Jr,"gtag");Xr=Q,Gl=Ee,Dr=!0}return Ei[F]=function _s(D,I,T,F,Z,Q,Ee){return wa.apply(this,arguments)}(D,Hl,Qs,I,Gl,Jr,T),new ba(D)}function ic(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,P.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch{return!1}})).apply(this,arguments)}const Ht="@firebase/analytics";!function Cf(){(0,ee._registerComponent)(new te.wA(Xu,(I,{options:T})=>Sa(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),T),"PUBLIC")),(0,ee._registerComponent)(new te.wA("analytics-internal",function D(I){try{const T=I.getProvider(Xu).getImmediate();return{logEvent:(F,Z,Q)=>function gg(D,I,T,F){D=(0,X.m9)(D),function va(D,I,T,F,Z){return Hi.apply(this,arguments)}(Xr,Ei[D.app.options.appId],I,T,F).catch(Z=>kn.error(Z))}(T,F,Z,Q)}}catch(T){throw pr.create("interop-component-reg-failed",{reason:T})}},"PRIVATE")),(0,ee.registerVersion)(Ht,"0.9.3"),(0,ee.registerVersion)(Ht,"0.9.3","esm2017")}();var oc=O(4408),Kl=O(7565);const Od=new class lc extends Kl.v{}(class ac extends oc.o{constructor(I,T){super(I,T),this.scheduler=I,this.work=T}schedule(I,T=0){return T>0?super.schedule(I,T):(this.delay=T,this.state=I,this.scheduler.flush(this),this)}execute(I,T){return T>0||this.closed?super.execute(I,T):this._execute(I,T)}requestAsyncId(I,T,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(I,T,F):(I.flush(this),0)}});var uc=O(4986),Yl=O(8505),Yt=O(9468),Aa=O(5363);const Ma=new f.GfV("7.5.0"),cc="__angularfire_symbol__analyticsIsSupportedValue",rr="__angularfire_symbol__analyticsIsSupported",ti="__angularfire_symbol__remoteConfigIsSupportedValue",Ra="__angularfire_symbol__remoteConfigIsSupported",xo="__angularfire_symbol__messagingIsSupportedValue",Js="__angularfire_symbol__messagingIsSupported";function Wn(D,I,T){if(I){if(1===I.length)return I[0];const Q=I.filter(Ee=>Ee.app===T);if(1===Q.length)return Q[0]}return T.container.getProvider(D).getImmediate({optional:!0})}globalThis[rr]||(globalThis[rr]=ic().then(D=>globalThis[cc]=D).catch(()=>globalThis[cc]=!1)),globalThis[Js]||(globalThis[Js]=Fl().then(D=>globalThis[xo]=D).catch(()=>globalThis[xo]=!1)),globalThis[Ra]||(globalThis[Ra]=yo().then(D=>globalThis[ti]=D).catch(()=>globalThis[ti]=!1));const Oa=(D,I)=>{const T=I?[I]:(0,K.C6)(),F=[];return T.forEach(Z=>{Z.container.getProvider(D).instances.forEach(Ee=>{F.includes(Ee)||F.push(Ee)})}),F};function Vt(){}class Lr{constructor(I,T=Od){this.zone=I,this.delegate=T}now(){return this.delegate.now()}schedule(I,T,F){const Z=this.zone;return this.delegate.schedule(function(Ee){Z.runGuarded(()=>{I.apply(this,[Ee])})},T,F)}}class et{constructor(I){this.zone=I,this.task=null}call(I,T){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vt,{},Vt,Vt)),T.pipe((0,Yl.b)({next:F,complete:F,error:F})).subscribe(I).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wi=(()=>{class D{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new Lr(Zone.current)),this.insideAngular=T.run(()=>new Lr(Zone.current,uc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(T){return new(T||D)(f.LFG(f.R0b))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function _n(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ko(D){return _n(),function Fo(D){return function(T){return(T=T.lift(new et(D.ngZone))).pipe((0,Yt.R)(D.outsideAngular),(0,Aa.Q)(D.insideAngular))}}(_n())(D)}},2090:(Xe,me,O)=>{O.d(me,{$s:()=>ze,BH:()=>pe,DV:()=>vr,Dv:()=>sn,GJ:()=>ar,L:()=>ie,LL:()=>jt,Pz:()=>_e,Sg:()=>De,UG:()=>V,UI:()=>Fi,US:()=>te,Wj:()=>Nn,Wl:()=>_t,Yr:()=>oe,ZB:()=>j,ZR:()=>Ue,aH:()=>Ae,b$:()=>Be,cI:()=>We,dS:()=>Ut,eu:()=>Me,g5:()=>P,gK:()=>en,gQ:()=>Un,h$:()=>le,hl:()=>Ie,hu:()=>K,jU:()=>he,lb:()=>Ps,m9:()=>Ct,ne:()=>Li,p$:()=>B,pd:()=>rn,r3:()=>ki,ru:()=>Pe,tV:()=>re,uI:()=>Se,ug:()=>zr,vZ:()=>zt,w1:()=>Ge,w9:()=>Xt,xO:()=>di,xb:()=>Jn,z$:()=>Te,zI:()=>Ne,zd:()=>Rr});const K=function(U,L){if(!U)throw P(L)},P=function(U){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+U)},ee=function(U){const L=[];let W=0;for(let ce=0;ce<U.length;ce++){let Y=U.charCodeAt(ce);Y<128?L[W++]=Y:Y<2048?(L[W++]=Y>>6|192,L[W++]=63&Y|128):55296==(64512&Y)&&ce+1<U.length&&56320==(64512&U.charCodeAt(ce+1))?(Y=65536+((1023&Y)<<10)+(1023&U.charCodeAt(++ce)),L[W++]=Y>>18|240,L[W++]=Y>>12&63|128,L[W++]=Y>>6&63|128,L[W++]=63&Y|128):(L[W++]=Y>>12|224,L[W++]=Y>>6&63|128,L[W++]=63&Y|128)}return L},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,L){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let Y=0;Y<U.length;Y+=3){const Ke=U[Y],Dt=Y+1<U.length,Pt=Dt?U[Y+1]:0,on=Y+2<U.length,ot=on?U[Y+2]:0;let In=(15&Pt)<<2|ot>>6,Os=63&ot;on||(Os=64,Dt||(In=64)),ce.push(W[Ke>>2],W[(3&Ke)<<4|Pt>>4],W[In],W[Os])}return ce.join("")},encodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(U):this.encodeByteArray(ee(U),L)},decodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(U):function(U){const L=[];let W=0,ce=0;for(;W<U.length;){const Y=U[W++];if(Y<128)L[ce++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ke=U[W++];L[ce++]=String.fromCharCode((31&Y)<<6|63&Ke)}else if(Y>239&&Y<365){const on=((7&Y)<<18|(63&U[W++])<<12|(63&U[W++])<<6|63&U[W++])-65536;L[ce++]=String.fromCharCode(55296+(on>>10)),L[ce++]=String.fromCharCode(56320+(1023&on))}else{const Ke=U[W++],Dt=U[W++];L[ce++]=String.fromCharCode((15&Y)<<12|(63&Ke)<<6|63&Dt)}}return L.join("")}(this.decodeStringToByteArray(U,L))},decodeStringToByteArray(U,L){this.init_();const W=L?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let Y=0;Y<U.length;){const Ke=W[U.charAt(Y++)],Pt=Y<U.length?W[U.charAt(Y)]:0;++Y;const ot=Y<U.length?W[U.charAt(Y)]:64;++Y;const At=Y<U.length?W[U.charAt(Y)]:64;if(++Y,null==Ke||null==Pt||null==ot||null==At)throw Error();ce.push(Ke<<2|Pt>>4),64!==ot&&(ce.push(Pt<<4&240|ot>>2),64!==At&&ce.push(ot<<6&192|At))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},le=function(U){const L=ee(U);return te.encodeByteArray(L,!0)},ie=function(U){return le(U).replace(/\./g,"")},re=function(U){try{return te.decodeString(U,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function B(U){return j(void 0,U)}function j(U,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return L}for(const W in L)!L.hasOwnProperty(W)||!z(W)||(U[W]=j(U[W],L[W]));return U}function z(U){return"__proto__"!==U}const ae=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=U&&re(U[1]);return L&&JSON.parse(L)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Ae=()=>{var U;return null===(U=ae())||void 0===U?void 0:U.config},_e=U=>{var L;return null===(L=ae())||void 0===L?void 0:L[`_${U}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,W)=>{this.resolve=L,this.reject=W})}wrapCallback(L){return(W,ce)=>{W?this.reject(W):this.resolve(ce),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(W):L(W,ce))}}}function De(U,L){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=L||"demo-project",Y=U.iat||0,Ke=U.sub||U.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:Y,exp:Y+3600,auth_time:Y,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ie(JSON.stringify({alg:"none",type:"JWT"})),ie(JSON.stringify(Dt)),""].join(".")}function Te(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function V(){var U;const L=null===(U=ae())||void 0===U?void 0:U.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function he(){return"object"==typeof self&&self.self===self}function Pe(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const U=Te();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function oe(){return!1}function Ie(){try{return"object"==typeof indexedDB}catch{return!1}}function Me(){return new Promise((U,L)=>{try{let W=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ce);Y.onsuccess=()=>{Y.result.close(),W||self.indexedDB.deleteDatabase(ce),U(!0)},Y.onupgradeneeded=()=>{W=!1},Y.onerror=()=>{var Ke;L((null===(Ke=Y.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(W){L(W)}})}function Ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ue extends Error{constructor(L,W,ce){super(W),this.code=L,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jt.prototype.create)}}class jt{constructor(L,W,ce){this.service=L,this.serviceName=W,this.errors=ce}create(L,...W){const ce=W[0]||{},Y=`${this.service}/${L}`,Ke=this.errors[L],Dt=Ke?function at(U,L){return U.replace(Lt,(W,ce)=>{const Y=L[ce];return null!=Y?String(Y):`<${ce}?>`})}(Ke,ce):"Error";return new Ue(Y,`${this.serviceName}: ${Dt} (${Y}).`,ce)}}const Lt=/\{\$([^}]+)}/g;function We(U){return JSON.parse(U)}function _t(U){return JSON.stringify(U)}const Qt=function(U){let L={},W={},ce={},Y="";try{const Ke=U.split(".");L=We(re(Ke[0])||""),W=We(re(Ke[1])||""),Y=Ke[2],ce=W.d||{},delete W.d}catch{}return{header:L,claims:W,data:ce,signature:Y}},Xt=function(U){const W=Qt(U).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},ar=function(U){const L=Qt(U).claims;return"object"==typeof L&&!0===L.admin};function ki(U,L){return Object.prototype.hasOwnProperty.call(U,L)}function vr(U,L){if(Object.prototype.hasOwnProperty.call(U,L))return U[L]}function Jn(U){for(const L in U)if(Object.prototype.hasOwnProperty.call(U,L))return!1;return!0}function Fi(U,L,W){const ce={};for(const Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&(ce[Y]=L.call(W,U[Y],Y,U));return ce}function zt(U,L){if(U===L)return!0;const W=Object.keys(U),ce=Object.keys(L);for(const Y of W){if(!ce.includes(Y))return!1;const Ke=U[Y],Dt=L[Y];if(lr(Ke)&&lr(Dt)){if(!zt(Ke,Dt))return!1}else if(Ke!==Dt)return!1}for(const Y of ce)if(!W.includes(Y))return!1;return!0}function lr(U){return null!==U&&"object"==typeof U}function di(U){const L=[];for(const[W,ce]of Object.entries(U))Array.isArray(ce)?ce.forEach(Y=>{L.push(encodeURIComponent(W)+"="+encodeURIComponent(Y))}):L.push(encodeURIComponent(W)+"="+encodeURIComponent(ce));return L.length?"&"+L.join("&"):""}function Rr(U){const L={};return U.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[Y,Ke]=ce.split("=");L[decodeURIComponent(Y)]=decodeURIComponent(Ke)}}),L}function rn(U){const L=U.indexOf("?");if(!L)return"";const W=U.indexOf("#",L);return U.substring(L,W>0?W:void 0)}class Un{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,W){W||(W=0);const ce=this.W_;if("string"==typeof L)for(let At=0;At<16;At++)ce[At]=L.charCodeAt(W)<<24|L.charCodeAt(W+1)<<16|L.charCodeAt(W+2)<<8|L.charCodeAt(W+3),W+=4;else for(let At=0;At<16;At++)ce[At]=L[W]<<24|L[W+1]<<16|L[W+2]<<8|L[W+3],W+=4;for(let At=16;At<80;At++){const In=ce[At-3]^ce[At-8]^ce[At-14]^ce[At-16];ce[At]=4294967295&(In<<1|In>>>31)}let ot,Mn,Y=this.chain_[0],Ke=this.chain_[1],Dt=this.chain_[2],Pt=this.chain_[3],on=this.chain_[4];for(let At=0;At<80;At++){At<40?At<20?(ot=Pt^Ke&(Dt^Pt),Mn=1518500249):(ot=Ke^Dt^Pt,Mn=1859775393):At<60?(ot=Ke&Dt|Pt&(Ke|Dt),Mn=2400959708):(ot=Ke^Dt^Pt,Mn=3395469782);const In=(Y<<5|Y>>>27)+ot+on+Mn+ce[At]&4294967295;on=Pt,Pt=Dt,Dt=4294967295&(Ke<<30|Ke>>>2),Ke=Y,Y=In}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Ke&4294967295,this.chain_[2]=this.chain_[2]+Dt&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+on&4294967295}update(L,W){if(null==L)return;void 0===W&&(W=L.length);const ce=W-this.blockSize;let Y=0;const Ke=this.buf_;let Dt=this.inbuf_;for(;Y<W;){if(0===Dt)for(;Y<=ce;)this.compress_(L,Y),Y+=this.blockSize;if("string"==typeof L){for(;Y<W;)if(Ke[Dt]=L.charCodeAt(Y),++Dt,++Y,Dt===this.blockSize){this.compress_(Ke),Dt=0;break}}else for(;Y<W;)if(Ke[Dt]=L[Y],++Dt,++Y,Dt===this.blockSize){this.compress_(Ke),Dt=0;break}}this.inbuf_=Dt,this.total_+=W}digest(){const L=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&W,W/=256;this.compress_(this.buf_);let ce=0;for(let Y=0;Y<5;Y++)for(let Ke=24;Ke>=0;Ke-=8)L[ce]=this.chain_[Y]>>Ke&255,++ce;return L}}function Li(U,L){const W=new mt(U,L);return W.subscribe.bind(W)}class mt{constructor(L,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{L(this)}).catch(ce=>{this.error(ce)})}next(L){this.forEachObserver(W=>{W.next(L)})}error(L){this.forEachObserver(W=>{W.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,W,ce){let Y;if(void 0===L&&void 0===W&&void 0===ce)throw new Error("Missing Observer.");Y=function lt(U,L){if("object"!=typeof U||null===U)return!1;for(const W of L)if(W in U&&"function"==typeof U[W])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:W,complete:ce},void 0===Y.next&&(Y.next=hi),void 0===Y.error&&(Y.error=hi),void 0===Y.complete&&(Y.complete=hi);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ke}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,L)}sendOne(L,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{W(this.observers[L])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hi(){}const sn=function(U,L,W,ce){let Y;if(ce<L?Y="at least "+L:ce>W&&(Y=0===W?"none":"no more than "+W),Y)throw new Error(U+" failed: Was called with "+ce+(1===ce?" argument.":" arguments.")+" Expects "+Y+".")};function en(U,L){return`${U} failed: ${L} argument `}function Nn(U,L,W,ce){if((!ce||W)&&"function"!=typeof W)throw new Error(en(U,L)+"must be a valid function.")}function Ps(U,L,W,ce){if((!ce||W)&&("object"!=typeof W||null===W))throw new Error(en(U,L)+"must be a valid context object.")}const Ut=function(U){const L=[];let W=0;for(let ce=0;ce<U.length;ce++){let Y=U.charCodeAt(ce);if(Y>=55296&&Y<=56319){const Ke=Y-55296;ce++,K(ce<U.length,"Surrogate pair missing trail surrogate."),Y=65536+(Ke<<10)+(U.charCodeAt(ce)-56320)}Y<128?L[W++]=Y:Y<2048?(L[W++]=Y>>6|192,L[W++]=63&Y|128):Y<65536?(L[W++]=Y>>12|224,L[W++]=Y>>6&63|128,L[W++]=63&Y|128):(L[W++]=Y>>18|240,L[W++]=Y>>12&63|128,L[W++]=Y>>6&63|128,L[W++]=63&Y|128)}return L},zr=function(U){let L=0;for(let W=0;W<U.length;W++){const ce=U.charCodeAt(W);ce<128?L++:ce<2048?L+=2:ce>=55296&&ce<=56319?(L+=4,W++):L+=3}return L};function ze(U,L=1e3,W=2){const ce=L*Math.pow(W,U),Y=Math.round(.5*ce*(Math.random()-.5)*2);return Math.min(144e5,ce+Y)}function Ct(U){return U&&U._delegate?U._delegate:U}},4913:(Xe,me,O)=>{var f=O(4650);let K=null;function P(){return K}class X{}const te=new f.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ie(){return(0,f.LFG)(B)}()},providedIn:"platform"}),n})();const re=new f.OlP("Location Initialized");let B=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,s,a){j()?this._history.pushState(e,s,a):this._location.hash=a}replaceState(e,s,a){j()?this._history.replaceState(e,s,a):this._location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(te))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function z(){return new B((0,f.LFG)(te))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function Oe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ye(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let Ye=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(Ce)},providedIn:"root"}),n})();const ae=new f.OlP("appBaseHref");let Ce=(()=>{class n extends Ye{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oe(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Ve(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,d){const g=this.prepareExternalUrl(a+Ve(d));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){const g=this.prepareExternalUrl(a+Ve(d));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(le),f.LFG(ae,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ve=(()=>{class n extends Ye{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Oe(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,d){let g=this.prepareExternalUrl(a+Ve(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){let g=this.prepareExternalUrl(a+Ve(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(le),f.LFG(ae,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(e){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._basePath=function Te(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(ye(De(s))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Ve(s))}normalize(e){return n.stripTrailingSlash(function pe(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,De(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._locationStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(s)),a)}replaceState(e,s="",a=null){this._locationStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Oe,n.stripTrailingSlash=ye,n.\u0275fac=function(e){return new(e||n)(f.LFG(Ye))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function _e(){return new Ae((0,f.LFG)(Ye))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}class En{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Or=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,d,g)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new En(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===d?void 0:d);else if(null!==d){const E=s.get(d);s.move(E,g),ln(E,a)}});for(let a=0,d=s.length;a<d;a++){const E=s.get(a).context;E.index=a,E.count=d,E.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{ln(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ln(n,t){n.context.$implicit=t.item}let wl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();let Us=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new sa((0,f.LFG)(te),window)}),n})();class sa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function as(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const d=a.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Bs(this.window.history)||Bs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ma extends X{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qr extends ma{static makeCurrent(){!function ee(n){K||(K=n)}(new Qr)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Rd(){return hs=hs||document.querySelector("base"),hs?hs.getAttribute("href"):null}();return null==e?null:function Ao(n){yi=yi||document.createElement("a"),yi.setAttribute("href",n);const t=yi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){hs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Hn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let yi,hs=null;const pr=new f.OlP("TRANSITION_ID"),ec=[{provide:f.ip1,useFactory:function Ul(n,t,e){return()=>{e.get(f.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[pr,te,f.zs3],multi:!0}];let tc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const _a=new f.OlP("EventManagerPlugins");let ps=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const g=a[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(_a),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Bl{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let un=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ji=(()=>{class n extends un{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Zs),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Zs))}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(te))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Zs(n){P().remove(n)}const vi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ks=/%COMP%/g;function $i(n,t){return t.flat(100).map(e=>e.replace(Ks,n))}function qs(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ys=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Po(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case f.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new ms(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case f.ifc.ShadowDom:return new Ca(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=$i(s.id,s.styles);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(ps),f.LFG(ji),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Po{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(vi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(gs(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(gs(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const d=vi[a];d?t.setAttributeNS(d,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=vi[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(f.JOm.DashCase|f.JOm.Important)?t.style.setProperty(e,s,a&f.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&f.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,qs(s)):this.eventManager.addEventListener(t,e,qs(s))}}function gs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ms extends Po{constructor(t,e,s,a){super(t),this.component=s;const d=$i(a+"-"+s.id,s.styles);e.addStyles(d),this.contentAttr=function Hi(n){return"_ngcontent-%COMP%".replace(Ks,n)}(a+"-"+s.id),this.hostAttr=function Ro(n){return"_nghost-%COMP%".replace(Ks,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Ca extends Po{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=$i(a.id,a.styles);for(let g=0;g<d.length;g++){const E=document.createElement("style");E.textContent=d[g],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Da=(()=>{class n extends Bl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(te))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ia=["alt","control","meta","shift"],nc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_s={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wa=(()=>{class n extends Bl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const d=n.parseEventName(s),g=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(s.pop());let g="",E=s.indexOf("code");if(E>-1&&(s.splice(E,1),g="code."),Ia.forEach(R=>{const k=s.indexOf(R);k>-1&&(s.splice(k,1),g+=R+".")}),g+=d,0!=s.length||0===d.length)return null;const w={};return w.domEventName=a,w.fullKey=g,w}static matchEventFullKeyCode(e,s){let a=nc[e.key]||e.key,d="";return s.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Ia.forEach(g=>{g!==a&&(0,_s[g])(e)&&(d+=g+".")}),d+=a,d===s)}static eventCallback(e,s,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>s(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(te))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ef=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function $l(){Qr.makeCurrent()},multi:!0},{provide:te,useFactory:function Xr(){return(0,f.RDi)(document),document},deps:[]}]),Wl=new f.OlP(""),Sa=[{provide:f.rWj,useClass:class fs{addToWindow(t){f.dqk.getAngularTestability=(s,a=!0)=>{const d=t.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},f.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(s=>{const a=f.dqk.getAllAngularTestabilities();let d=a.length,g=!1;const E=function(w){g=g||w,d--,0==d&&s(g)};a.forEach(function(w){w.whenStable(E)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],zl=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Gl(){return new f.qLn},deps:[]},{provide:_a,useClass:Da,multi:!0,deps:[te,f.R0b,f.Lbi]},{provide:_a,useClass:wa,multi:!0,deps:[te]},{provide:Ys,useClass:Ys,deps:[ps,ji,f.AFp]},{provide:f.FYo,useExisting:Ys},{provide:un,useExisting:ji},{provide:ji,useClass:ji,deps:[te]},{provide:ps,useClass:ps,deps:[_a,f.R0b]},{provide:class Wu{},useClass:tc,deps:[]},[]];let rc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:f.AFp,useValue:e.appId},{provide:pr,useExisting:f.AFp},ec]}}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Wl,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...zl,...Sa],imports:[wl,f.hGG]}),n})(),Zl=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(te))},n.\u0275prov=f.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function Oo(){return new Zl((0,f.LFG)(te))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var Vt=O(8996),Lr=O(7669);function et(...n){const t=(0,Lr.yG)(n);return(0,Vt.D)(n,t)}var Wi=O(7579);class _n extends Wi.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const Ir=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var zi=O(9751);const{isArray:dc}=Array,{getPrototypeOf:ko,prototype:Fo,keys:Jl}=Object;function Lo(n){if(1===n.length){const t=n[0];if(dc(t))return{args:t,keys:null};if(function D(n){return n&&"object"==typeof n&&ko(n)===Fo}(t)){const e=Jl(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var I=O(4671),T=O(4004);const{isArray:F}=Array;function Q(n){return(0,T.U)(t=>function Z(n,t){return F(t)?n(...t):n(t)}(n,t))}function Ee(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}var Le=O(5403),Je=O(9672);function Qe(...n){const t=(0,Lr.yG)(n),e=(0,Lr.jO)(n),{args:s,keys:a}=Lo(n);if(0===s.length)return(0,Vt.D)([],t);const d=new zi.y(function vt(n,t,e=I.y){return s=>{ft(t,()=>{const{length:a}=n,d=new Array(a);let g=a,E=a;for(let w=0;w<a;w++)ft(t,()=>{const R=(0,Vt.D)(n[w],t);let k=!1;R.subscribe((0,Le.x)(s,H=>{d[w]=H,k||(k=!0,E--),E||s.next(e(d.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,t,a?g=>Ee(a,g):I.y));return e?d.pipe(Q(e)):d}function ft(n,t,e){n?(0,Je.f)(e,n,t):t()}var Pn=O(8189);function ys(...n){return function Sn(){return(0,Pn.J)(1)}()((0,Vt.D)(n,(0,Lr.yG)(n)))}var vs=O(8421);function Es(n){return new zi.y(t=>{(0,vs.Xf)(n()).subscribe(t)})}var Vr=O(9635),Ur=O(576);function Br(n,t){const e=(0,Ur.m)(n)?n:()=>n,s=a=>a.error(e());return new zi.y(t?a=>t.schedule(s,0,a):s)}var Cs=O(515),Df=O(727),zn=O(4482);function hc(){return(0,zn.e)((n,t)=>{let e=null;n._refCount++;const s=(0,Le.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class xd extends zi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,zn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Df.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Le.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Df.w0.EMPTY)}return t}refCount(){return hc()(this)}}function Fn(n,t){return(0,zn.e)((e,s)=>{let a=null,d=0,g=!1;const E=()=>g&&!a&&s.complete();e.subscribe((0,Le.x)(s,w=>{a?.unsubscribe();let R=0;const k=d++;(0,vs.Xf)(n(w,k)).subscribe(a=(0,Le.x)(s,H=>s.next(t?t(w,H,k,R++):H),()=>{a=null,E()}))},()=>{g=!0,E()}))})}function Na(n){return n<=0?()=>Cs.E:(0,zn.e)((t,e)=>{let s=0;t.subscribe((0,Le.x)(e,a=>{++s<=n&&(e.next(a),n<=s&&e.complete())}))})}function wr(n,t){return(0,zn.e)((e,s)=>{let a=0;e.subscribe((0,Le.x)(s,d=>n.call(t,d,a++)&&s.next(d)))})}var br=O(5577);function kd(n){return(0,zn.e)((t,e)=>{let s=!1;t.subscribe((0,Le.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function fc(n=uy){return(0,zn.e)((t,e)=>{let s=!1;t.subscribe((0,Le.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function uy(){return new Ir}function Xs(n,t){const e=arguments.length>=2;return s=>s.pipe(n?wr((a,d)=>n(a,d,s)):I.y,Na(1),e?kd(t):fc(()=>new Ir))}function xa(n,t){return(0,Ur.m)(t)?(0,br.z)(n,t,1):(0,br.z)(n,1)}var mr=O(8505);function Vo(n){return(0,zn.e)((t,e)=>{let d,s=null,a=!1;s=t.subscribe((0,Le.x)(e,void 0,void 0,g=>{d=(0,vs.Xf)(n(g,Vo(n)(t))),s?(s.unsubscribe(),s=null,d.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,d.subscribe(e))})}function Fd(n,t,e,s,a){return(d,g)=>{let E=e,w=t,R=0;d.subscribe((0,Le.x)(g,k=>{const H=R++;w=E?n(w,k,H):(E=!0,k),s&&g.next(w)},a&&(()=>{E&&g.next(w),g.complete()})))}}function Xl(n,t){return(0,zn.e)(Fd(n,t,arguments.length>=2,!0))}function eu(n){return n<=0?()=>Cs.E:(0,zn.e)((t,e)=>{let s=[];t.subscribe((0,Le.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function Ld(n,t){const e=arguments.length>=2;return s=>s.pipe(n?wr((a,d)=>n(a,d,s)):I.y,eu(1),e?kd(t):fc(()=>new Ir))}function jr(n){return(0,zn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const wt="primary",tu=Symbol("RouteTitle");class _g{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Uo(n){return new _g(n)}function nu(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let d=0;d<s.length;d++){const g=s[d],E=n[d];if(g.startsWith(":"))a[g.substring(1)]=E;else if(g!==E.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function ni(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!bf(n[a],t[a]))return!1;return!0}function bf(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,d)=>s[d]===a)}return n===t}function pc(n){return Array.prototype.concat.apply([],n)}function Sf(n){return n.length>0?n[n.length-1]:null}function $t(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ci(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Vt.D)(Promise.resolve(n)):et(n)}const ka=!1,Vd={exact:function Ud(n,t,e){if(!Ii(n.segments,t.segments)||!Di(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!Ud(n.children[s],t.children[s],e))return!1;return!0},subset:Bd},Zn={exact:function Af(n,t){return ni(n,t)},subset:function Mf(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>bf(n[e],t[e]))},ignored:()=>!0};function Fa(n,t,e){return Vd[e.paths](n.root,t.root,e.matrixParams)&&Zn[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Bd(n,t,e){return vg(n,t,t.segments,e)}function vg(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Ii(a,e)||t.hasChildren()||!Di(a,e,s))}if(n.segments.length===e.length){if(!Ii(n.segments,e)||!Di(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!Bd(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(Ii(n.segments,a)&&Di(n.segments,a,s)&&n.children[wt])&&vg(n.children[wt],t,d,s)}}function Di(n,t,e){return t.every((s,a)=>Zn[e](n[a].parameters,s.parameters))}class Bo{constructor(t=new Mt([],{}),e={},s=null){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uo(this.queryParams)),this._queryParamMap}toString(){return Cg.serialize(this)}}class Mt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$t(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gc(this)}}class jo{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Uo(this.parameters)),this._parameterMap}toString(){return Va(this)}}function Ii(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let ru=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new Ds},providedIn:"root"}),n})();class Ds{parse(t){const e=new Rf(t);return new Bo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Is(t.root,!0)}`,s=function Ig(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${iu(e)}=${iu(a)}`).join("&"):`${iu(e)}=${iu(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function La(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Cg=new Ds;function gc(n){return n.segments.map(t=>Va(t)).join("/")}function Is(n,t){if(!n.hasChildren())return gc(n);if(t){const e=n.children[wt]?Is(n.children[wt],!1):"",s=[];return $t(n.children,(a,d)=>{d!==wt&&s.push(`${d}:${Is(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function jd(n,t){let e=[];return $t(n.children,(s,a)=>{a===wt&&(e=e.concat(t(s,a)))}),$t(n.children,(s,a)=>{a!==wt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===wt?[Is(n.children[wt],!1)]:[`${a}:${Is(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wt]?`${gc(n)}/${e[0]}`:`${gc(n)}/(${e.join("//")})`}}function mc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iu(n){return mc(n).replace(/%3B/gi,";")}function su(n){return mc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ou(n){return decodeURIComponent(n)}function Hd(n){return ou(n.replace(/\+/g,"%20"))}function Va(n){return`${su(n.path)}${function Dg(n){return Object.keys(n).map(t=>`;${su(t)}=${su(n[t])}`).join("")}(n.parameters)}`}const $d=/^[^\/()?;=#]+/;function Ua(n){const t=n.match($d);return t?t[0]:""}const wg=/^[^=?&#]+/,au=/^[^&#]+/;class Rf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[wt]=new Mt(t,e)),s}parseSegment(){const t=Ua(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new f.vHH(4009,ka);return this.capture(t),new jo(ou(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ua(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Ua(this.remaining);a&&(s=a,this.capture(s))}t[ou(e)]=ou(s)}parseQueryParam(t){const e=function bg(n){const t=n.match(wg);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function Gd(n){const t=n.match(au);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=Hd(e),d=Hd(s);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Ua(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new f.vHH(4010,ka);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=wt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[wt]:new Mt([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new f.vHH(4011,ka)}}function lu(n){return n.segments.length>0?new Mt([],{[wt]:n}):n}function uu(n){const t={};for(const s of Object.keys(n.children)){const d=uu(n.children[s]);(d.segments.length>0||d.hasChildren())&&(t[s]=d)}return function Sg(n){if(1===n.numberOfChildren&&n.children[wt]){const t=n.children[wt];return new Mt(n.segments.concat(t.segments),t.children)}return n}(new Mt(n.segments,t))}function eo(n){return n instanceof Bo}function Of(n,t,e,s,a){if(0===e.length)return Ha(t.root,t.root,t.root,s,a);const d=function cu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vc(!0,0,n);let t=0,e=!1;const s=n.reduce((a,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const E={};return $t(d.outlets,(w,R)=>{E[R]="string"==typeof w?w.split("/"):w}),[...a,{outlets:E}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===g?(d.split("/").forEach((E,w)=>{0==w&&"."===E||(0==w&&""===E?e=!0:".."===E?t++:""!=E&&a.push(E))}),a):[...a,d]},[]);return new vc(e,t,s)}(e);return d.toRoot()?Ha(t.root,t.root,new Mt([],{}),s,a):function g(w){const R=function Ec(n,t,e,s){if(n.isAbsolute)return new Zi(t.root,!0,0);if(-1===s)return new Zi(e,e===t.root,0);return function Ho(n,t,e){let s=n,a=t,d=e;for(;d>a;){if(d-=a,s=s.parent,!s)throw new f.vHH(4005,!1);a=s.segments.length}return new Zi(s,!1,a-d)}(e,s+(yc(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,w),k=R.processChildren?ri(R.segmentGroup,R.index,d.commands):Kn(R.segmentGroup,R.index,d.commands);return Ha(t.root,R.segmentGroup,k,s,a)}(n.snapshot?._lastPathIndex)}function yc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function to(n){return"object"==typeof n&&null!=n&&n.outlets}function Ha(n,t,e,s,a){let g,d={};s&&$t(s,(w,R)=>{d[R]=Array.isArray(w)?w.map(k=>`${k}`):`${w}`}),g=n===t?e:Wd(n,t,e);const E=lu(uu(g));return new Bo(E,d,a)}function Wd(n,t,e){const s={};return $t(n.children,(a,d)=>{s[d]=a===t?e:Wd(a,t,e)}),new Mt(n.segments,s)}class vc{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&yc(s[0]))throw new f.vHH(4003,!1);const a=s.find(to);if(a&&a!==Sf(s))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zi{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function Kn(n,t,e){if(n||(n=new Mt([],{})),0===n.segments.length&&n.hasChildren())return ri(n,t,e);const s=function Cc(n,t,e){let s=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return d;const g=n.segments[a],E=e[s];if(to(E))break;const w=`${E}`,R=s<e.length-1?e[s+1]:null;if(a>0&&void 0===w)break;if(w&&R&&"object"==typeof R&&void 0===R.outlets){if(!xf(w,R,g))return d;s+=2}else{if(!xf(w,{},g))return d;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new Mt(n.segments.slice(0,s.pathIndex),{});return d.children[wt]=new Mt(n.segments.slice(s.pathIndex),n.children),ri(d,0,a)}return s.match&&0===a.length?new Mt(n.segments,{}):s.match&&!n.hasChildren()?$o(n,t,e):s.match?ri(n,0,a):$o(n,t,e)}function ri(n,t,e){if(0===e.length)return new Mt(n.segments,{});{const s=function Nf(n){return to(n[0])?n[0].outlets:{[wt]:n}}(e),a={};return!s[wt]&&n.children[wt]&&1===n.numberOfChildren&&0===n.children[wt].segments.length?ri(n.children[wt],t,e):($t(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[g]=Kn(n.children[g],t,d))}),$t(n.children,(d,g)=>{void 0===s[g]&&(a[g]=d)}),new Mt(n.segments,a))}}function $o(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(to(d)){const w=Zd(d.outlets);return new Mt(s,w)}if(0===a&&yc(e[0])){s.push(new jo(n.segments[t].path,du(e[0]))),a++;continue}const g=to(d)?d.outlets[wt]:`${d}`,E=a<e.length-1?e[a+1]:null;g&&E&&yc(E)?(s.push(new jo(g,du(E))),a+=2):(s.push(new jo(g,{})),a++)}return new Mt(s,{})}function Zd(n){const t={};return $t(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=$o(new Mt([],{}),0,e))}),t}function du(n){const t={};return $t(n,(e,s)=>t[s]=`${e}`),t}function xf(n,t,e){return n==e.path&&ni(t,e.parameters)}const $a="imperative";class Ki{constructor(t,e){this.id=t,this.url=e}}class wi extends Ki{constructor(t,e,s="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ws extends Ki{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Go extends Ki{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dc extends Ki{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=16}}class no extends Ki{constructor(t,e,s,a){super(t,e),this.error=s,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kf extends Ki{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends Ki{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ff extends Ki{constructor(t,e,s,a,d){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kd extends Ki{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qd extends Ki{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bs{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ga{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hu{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ic{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lf{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wc{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yd{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Tg=(()=>{class n{createUrlTree(e,s,a,d,g,E){return Of(e||s.root,a,d,g,E)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),c=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(t){return Tg.\u0275fac(t)},providedIn:"root"}),n})();class p{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=y(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=y(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=S(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return S(t,this._root).map(e=>e.value)}}function y(n,t){if(n===t.value)return t;for(const e of t.children){const s=y(n,e);if(s)return s}return null}function S(n,t){if(n===t.value)return[t];for(const e of t.children){const s=S(n,e);if(s.length)return s.unshift(t),s}return[]}class M{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function G(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class se extends p{constructor(t,e){super(t),this.snapshot=e,bc(this,t)}toString(){return this.snapshot.toString()}}function xe(n,t){const e=function Ze(n,t){const g=new Tr([],{},{},"",{},wt,t,null,n.root,-1,{});return new fu("",new M(g,[]))}(n,t),s=new _n([new jo("",{})]),a=new _n({}),d=new _n({}),g=new _n({}),E=new _n(""),w=new it(s,a,g,E,d,wt,t,e.root);return w.snapshot=e.root,new se(new M(w,[]),e)}class it{constructor(t,e,s,a,d,g,E,w){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=E,this.title=this.data?.pipe((0,T.U)(R=>R[tu]))??et(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,T.U)(t=>Uo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,T.U)(t=>Uo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nt(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],d=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(d.component)break;s--}}return function On(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Tr{get title(){return this.data?.[tu]}constructor(t,e,s,a,d,g,E,w,R,k,H){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=E,this.routeConfig=w,this._urlSegment=R,this._lastPathIndex=k,this._resolve=H}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fu extends p{constructor(t,e){super(e),this.url=t,bc(this,e)}toString(){return Wa(this._root)}}function bc(n,t){t.value._routerState=n,t.children.forEach(e=>bc(n,e))}function Wa(n){const t=n.children.length>0?` { ${n.children.map(Wa).join(", ")} } `:"";return`${n.value}${t}`}function ii(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ni(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ni(t.params,e.params)||n.params.next(e.params),function yg(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ni(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ni(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ro(n,t){const e=ni(n.params,t.params)&&function Eg(n,t){return Ii(n,t)&&n.every((e,s)=>ni(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ro(n.parent,t.parent))}function Wo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function Qd(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Wo(n,s,a);return Wo(n,s)})}(n,t,e);return new M(s,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(E=>Wo(n,E)),g}}const s=function Uf(n){return new it(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>Wo(n,d));return new M(s,a)}}const Jd="ngNavigationCancelingError";function Ag(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=eo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=za(!1,0,t);return a.url=e,a.navigationBehaviorOptions=s,a}function za(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[Jd]=!0,s.cancellationCode=t,e&&(s.url=e),s}function Tc(n){return UC(n)&&eo(n.url)}function UC(n){return n&&n[Jd]}class qI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ac,this.attachRef=null}}let Ac=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const a=this.getOrCreateContext(e);a.outlet=s,this.contexts.set(e,a)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new qI,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bf=!1;let Mg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=wt,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Ac),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(e){if(e.name){const{firstChange:s,previousValue:a}=e.name;if(s)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Bf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Bf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Bf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new f.vHH(4013,Bf);this._activatedRoute=e;const a=this.location,g=e.snapshot.component,E=this.parentContexts.getOrCreateContext(this.name).children,w=new BC(e,E,a.injector);if(s&&function jC(n){return!!n.resolveComponentFactory}(s)){const R=s.resolveComponentFactory(g);this.activated=a.createComponent(R,a.length,w)}else this.activated=a.createComponent(g,{index:a.length,injector:w,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),n})();class BC{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===it?this.route:t===Ac?this.childContexts:this.parent.get(t,e)}}let jf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(e,s){1&e&&f._UZ(0,"router-outlet")},dependencies:[Mg],encapsulation:2}),n})();function Xd(n,t){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Pg(n){const t=n.children&&n.children.map(Pg),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==wt&&(e.component=jf),e}function qi(n){return n.outlet||wt}function py(n,t){const e=n.filter(s=>qi(s)===t);return e.push(...n.filter(s=>qi(s)!==t)),e}function eh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class JI{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),ii(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=G(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,a[g],s),delete a[g]}),$t(a,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=G(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);if(s&&s.outlet){const g=s.outlet.detach(),E=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:E})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=G(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=G(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],s),this.forwardEvent(new wc(d.value.snapshot))}),t.children.length&&this.forwardEvent(new Ic(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(ii(a),a===d)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const E=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(E.contexts),g.attachRef=E.componentRef,g.route=E.route.value,g.outlet&&g.outlet.attach(E.componentRef,E.route.value),ii(E.route.value),this.activateChildRoutes(t,null,g.children)}else{const E=eh(a.snapshot),w=E?.get(f._Vd)??null;g.attachRef=null,g.route=a,g.resolver=w,g.injector=E,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}class $C{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Za{constructor(t,e){this.component=t,this.route=e}}function Og(n,t,e){const s=n._root;return Mc(s,t?t._root:null,e,[s.value])}function pu(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,f.Z0I)(n)?t.get(n):n:s}function Mc(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=G(t);return n.children.forEach(g=>{(function XI(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=t?t.value:null,E=e?e.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const w=function GC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ii(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ii(n.url,t.url)||!ni(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ro(n,t)||!ni(n.queryParams,t.queryParams);default:return!ro(n,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new $C(s)):(d.data=g.data,d._resolvedData=g._resolvedData),Mc(n,t,d.component?E?E.children:null:e,s,a),w&&E&&E.outlet&&E.outlet.isActivated&&a.canDeactivateChecks.push(new Za(E.outlet.component,g))}else g&&Rc(t,E,a),a.canActivateChecks.push(new $C(s)),Mc(n,null,d.component?E?E.children:null:e,s,a)})(g,d[g.value.outlet],e,s.concat([g.value]),a),delete d[g.value.outlet]}),$t(d,(g,E)=>Rc(g,e.getContext(E),a)),a}function Rc(n,t,e){const s=G(n),a=n.value;$t(s,(d,g)=>{Rc(d,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new Za(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function Pc(n){return"function"==typeof n}function Fg(n){return n instanceof Ir||"EmptyError"===n?.name}const Oc=Symbol("INITIAL_VALUE");function zo(){return Fn(n=>Qe(n.map(t=>t.pipe(Na(1),function mg(...n){const t=(0,Lr.yG)(n);return(0,zn.e)((e,s)=>{(t?ys(n,e,t):ys(n,e)).subscribe(s)})}(Oc)))).pipe((0,T.U)(t=>{for(const e of t)if(!0!==e){if(e===Oc)return Oc;if(!1===e||e instanceof Bo)return e}return!0}),wr(t=>t!==Oc),Na(1)))}function _u(n){return(0,Vr.z)((0,mr.b)(t=>{if(eo(t))throw Ag(0,t)}),(0,T.U)(t=>!0===t))}const Ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ey(n,t,e,s,a){const d=th(n,t,e);return d.matched?function YC(n,t,e,s){const a=t.canMatch;return a&&0!==a.length?et(a.map(g=>{const E=pu(g,n);return Ci(function _y(n){return n&&Pc(n.canMatch)}(E)?E.canMatch(t,e):n.runInContext(()=>E(t,e)))})).pipe(zo(),_u()):et(!0)}(s=Xd(t,s),t,e).pipe((0,T.U)(g=>!0===g?d:{...Ug})):et(d)}function th(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ug}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||nu)(e,n,t);if(!a)return{...Ug};const d={};$t(a.posParams,(E,w)=>{d[w]=E.path});const g=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function $f(n,t,e,s){if(e.length>0&&function Dy(n,t,e){return e.some(s=>Gf(n,t,s)&&qi(s)!==wt)}(n,e,s)){const d=new Mt(t,function QC(n,t,e,s){const a={};a[wt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&qi(d)!==wt){const g=new Mt([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[qi(d)]=g}return a}(n,t,s,new Mt(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function tw(n,t,e){return e.some(s=>Gf(n,t,s))}(n,e,s)){const d=new Mt(n.segments,function Cy(n,t,e,s,a){const d={};for(const g of s)if(Gf(n,e,g)&&!a[qi(g)]){const E=new Mt([],{});E._sourceSegment=n,E._segmentIndexShift=t.length,d[qi(g)]=E}return{...a,...d}}(n,t,e,s,n.children));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const a=new Mt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Gf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Nc(n,t,e,s){return!!(qi(n)===s||s!==wt&&Gf(t,e,n))&&("**"===n.path||th(t,n,e).matched)}function Iy(n,t,e){return 0===t.length&&!n.children[e]}const Zo=!1;class Ka{constructor(t){this.segmentGroup=t||null}}class wy{constructor(t){this.urlTree=t}}function xc(n){return Br(new Ka(n))}function by(n){return Br(new wy(n))}class Ty{constructor(t,e,s,a,d){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=d,this.allowRedirects=!0}apply(){const t=$f(this.urlTree.root,[],[],this.config).segmentGroup,e=new Mt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,wt).pipe((0,T.U)(d=>this.createUrlTree(uu(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vo(d=>{if(d instanceof wy)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Ka?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,wt).pipe((0,T.U)(a=>this.createUrlTree(uu(a),t.queryParams,t.fragment))).pipe(Vo(a=>{throw a instanceof Ka?this.noMatchError(a):a}))}noMatchError(t){return new f.vHH(4002,Zo)}createUrlTree(t,e,s){const a=lu(t);return new Bo(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,T.U)(d=>new Mt([],d))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const d of Object.keys(s.children))"primary"===d?a.unshift(d):a.push(d);return(0,Vt.D)(a).pipe(xa(d=>{const g=s.children[d],E=py(e,d);return this.expandSegmentGroup(t,E,g,d).pipe((0,T.U)(w=>({segment:w,outlet:d})))}),Xl((d,g)=>(d[g.outlet]=g.segment,d),{}),Ld())}expandSegment(t,e,s,a,d,g){return(0,Vt.D)(s).pipe(xa(E=>this.expandSegmentAgainstRoute(t,e,s,E,a,d,g).pipe(Vo(R=>{if(R instanceof Ka)return et(null);throw R}))),Xs(E=>!!E),Vo((E,w)=>{if(Fg(E))return Iy(e,a,d)?et(new Mt([],{})):xc(e);throw E}))}expandSegmentAgainstRoute(t,e,s,a,d,g,E){return Nc(a,e,d,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,g):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g):xc(e):xc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?by(d):this.lineralizeSegments(s,d).pipe((0,br.z)(g=>{const E=new Mt(g,{});return this.expandSegment(t,E,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){const{matched:E,consumedSegments:w,remainingSegments:R,positionalParamSegments:k}=th(e,a,d);if(!E)return xc(e);const H=this.applyRedirectCommands(w,a.redirectTo,k);return a.redirectTo.startsWith("/")?by(H):this.lineralizeSegments(a,H).pipe((0,br.z)(J=>this.expandSegment(t,e,s,J.concat(R),g,!1)))}matchSegmentAgainstRoute(t,e,s,a,d){return"**"===s.path?(t=Xd(s,t),s.loadChildren?(s._loadedRoutes?et({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,T.U)(E=>(s._loadedRoutes=E.routes,s._loadedInjector=E.injector,new Mt(a,{})))):et(new Mt(a,{}))):Ey(e,s,a,t).pipe(Fn(({matched:g,consumedSegments:E,remainingSegments:w})=>g?this.getChildConfig(t=s._injector??t,s,a).pipe((0,br.z)(k=>{const H=k.injector??t,J=k.routes,{segmentGroup:we,slicedSegments:Fe}=$f(e,E,w,J),ut=new Mt(we.segments,we.children);if(0===Fe.length&&ut.hasChildren())return this.expandChildren(H,J,ut).pipe((0,T.U)(Wr=>new Mt(E,Wr)));if(0===J.length&&0===Fe.length)return et(new Mt(E,{}));const bt=qi(s)===d;return this.expandSegment(H,ut,J,Fe,bt?wt:d,!0).pipe((0,T.U)(yn=>new Mt(E.concat(yn.segments),yn.children)))})):xc(e)))}getChildConfig(t,e,s){return e.children?et({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?et({routes:e._loadedRoutes,injector:e._loadedInjector}):function vy(n,t,e,s){const a=t.canLoad;return void 0===a||0===a.length?et(!0):et(a.map(g=>{const E=pu(g,n);return Ci(function ew(n){return n&&Pc(n.canLoad)}(E)?E.canLoad(t,e):n.runInContext(()=>E(t,e)))})).pipe(zo(),_u())}(t,e,s).pipe((0,br.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,mr.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function XC(n){return Br(za(Zo,3))}())):et({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return et(s);if(a.numberOfChildren>1||!a.children[wt])return Br(new f.vHH(4e3,Zo));a=a.children[wt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,a){const d=this.createSegmentGroup(t,e.root,s,a);return new Bo(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return $t(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const E=a.substring(1);s[d]=e[E]}else s[d]=a}),s}createSegmentGroup(t,e,s,a){const d=this.createSegments(t,e.segments,s,a);let g={};return $t(e.children,(E,w)=>{g[w]=this.createSegmentGroup(t,E,s,a)}),new Mt(d,g)}createSegments(t,e,s,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new f.vHH(4001,Zo);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}class e0{}class t0{constructor(t,e,s,a,d,g,E){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=g,this.urlSerializer=E}recognize(){const t=$f(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,wt).pipe((0,T.U)(e=>{if(null===e)return null;const s=new Tr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new M(s,e),d=new fu(this.url,a);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,s=nt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,a)}processChildren(t,e,s){return(0,Vt.D)(Object.keys(s.children)).pipe(xa(a=>{const d=s.children[a],g=py(e,a);return this.processSegmentGroup(t,g,d,a)}),Xl((a,d)=>a&&d?(a.push(...d),a):null),function If(n,t=!1){return(0,zn.e)((e,s)=>{let a=0;e.subscribe((0,Le.x)(s,d=>{const g=n(d,a++);(g||t)&&s.next(d),!g&&s.complete()}))})}(a=>null!==a),kd(null),Ld(),(0,T.U)(a=>{if(null===a)return null;const d=Ay(a);return function n0(n){n.sort((t,e)=>t.value.outlet===wt?-1:e.value.outlet===wt?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,s,a,d){return(0,Vt.D)(e).pipe(xa(g=>this.processSegmentAgainstRoute(g._injector??t,g,s,a,d)),Xs(g=>!!g),Vo(g=>{if(Fg(g))return Iy(s,a,d)?et([]):et(null);throw g}))}processSegmentAgainstRoute(t,e,s,a,d){if(e.redirectTo||!Nc(e,s,a,d))return et(null);let g;if("**"===e.path){const E=a.length>0?Sf(a).parameters:{},w=yu(s)+a.length;g=et({snapshot:new Tr(a,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ry(e),qi(e),e.component??e._loadedComponent??null,e,My(s),w,Py(e)),consumedSegments:[],remainingSegments:[]})}else g=Ey(s,e,a,t).pipe((0,T.U)(({matched:E,consumedSegments:w,remainingSegments:R,parameters:k})=>{if(!E)return null;const H=yu(s)+w.length;return{snapshot:new Tr(w,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ry(e),qi(e),e.component??e._loadedComponent??null,e,My(s),H,Py(e)),consumedSegments:w,remainingSegments:R}}));return g.pipe(Fn(E=>{if(null===E)return et(null);const{snapshot:w,consumedSegments:R,remainingSegments:k}=E;t=e._injector??t;const H=e._loadedInjector??t,J=function r0(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:we,slicedSegments:Fe}=$f(s,R,k,J.filter(bt=>void 0===bt.redirectTo));if(0===Fe.length&&we.hasChildren())return this.processChildren(H,J,we).pipe((0,T.U)(bt=>null===bt?null:[new M(w,bt)]));if(0===J.length&&0===Fe.length)return et([new M(w,[])]);const ut=qi(e)===d;return this.processSegment(H,J,we,Fe,ut?wt:d).pipe((0,T.U)(bt=>null===bt?null:[new M(w,bt)]))}))}}function s0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ay(n){const t=[],e=new Set;for(const s of n){if(!s0(s)){t.push(s);continue}const a=t.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=Ay(s.children);t.push(new M(s.value,a))}return t.filter(s=>!e.has(s))}function My(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function yu(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Ry(n){return n.data||{}}function Py(n){return n.resolve||{}}function ky(n){return"string"==typeof n.title||null===n.title}function zf(n){return Fn(t=>{const e=n(t);return e?(0,Vt.D)(e).pipe((0,T.U)(()=>t)):et(t)})}const Ar=new f.OlP("ROUTES");let Hg=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return et(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=Ci(e.loadComponent()).pipe((0,T.U)(Vy),(0,mr.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),jr(()=>{this.componentLoaders.delete(e)})),a=new xd(s,()=>new Wi.x).pipe(hc());return this.componentLoaders.set(e,a),a}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return et({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,T.U)(E=>{this.onLoadEndListener&&this.onLoadEndListener(s);let w,R,k=!1;Array.isArray(E)?R=E:(w=E.create(e).injector,R=pc(w.get(Ar,[],f.XFs.Self|f.XFs.Optional)));return{routes:R.map(Pg),injector:w}}),jr(()=>{this.childrenLoaders.delete(s)})),g=new xd(d,()=>new Wi.x).pipe(hc());return this.childrenLoaders.set(s,g),g}loadModuleFactoryOrRoutes(e){return Ci(e()).pipe((0,T.U)(Vy),(0,br.z)(a=>a instanceof f.YKP||Array.isArray(a)?et(a):(0,Vt.D)(this.compiler.compileModuleAsync(a))))}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(f.zs3),f.LFG(f.Sil))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vy(n){return function Ly(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Kf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Wi.x,this.configLoader=(0,f.f3M)(Hg),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(ru),this.rootContexts=(0,f.f3M)(Ac),this.navigationId=0,this.afterPreactivation=()=>et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new Ga(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new bs(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:s})}setupNavigations(e){return this.transitions=new _n({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$a,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wr(s=>0!==s.id),(0,T.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),Fn(s=>{let a=!1,d=!1;return et(s).pipe((0,mr.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(g=>{const E=e.browserUrlTree.toString(),w=!e.navigated||g.extractedUrl.toString()!==E||E!==e.currentUrlTree.toString();if(!w&&"reload"!==(g.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const k="";return this.events.next(new Dc(g.id,e.serializeUrl(s.rawUrl),k,0)),e.rawUrlTree=g.rawUrl,g.resolve(null),Cs.E}if(e.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Uy(g.source)&&(e.browserUrlTree=g.extractedUrl),et(g).pipe(Fn(k=>{const H=this.transitions?.getValue();return this.events.next(new wi(k.id,this.urlSerializer.serialize(k.extractedUrl),k.source,k.restoredState)),H!==this.transitions?.getValue()?Cs.E:Promise.resolve(k)}),function Bg(n,t,e,s){return Fn(a=>function Sy(n,t,e,s,a){return new Ty(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,T.U)(d=>({...a,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,mr.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},s.urlAfterRedirects=k.urlAfterRedirects}),function nw(n,t,e,s,a){return(0,br.z)(d=>function nh(n,t,e,s,a,d,g="emptyOnly"){return new t0(n,t,e,s,a,g,d).recognize().pipe(Fn(E=>null===E?function jg(n){return new zi.y(t=>t.error(n))}(new e0):et(E)))}(n,t,e,d.urlAfterRedirects,s.serialize(d.urlAfterRedirects),s,a).pipe((0,T.U)(g=>({...d,targetSnapshot:g}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,mr.b)(k=>{if(s.targetSnapshot=k.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!k.extras.skipLocationChange){const J=e.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);e.setBrowserUrl(J,k)}e.browserUrlTree=k.urlAfterRedirects}const H=new kf(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(H)}));if(w&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:k,extractedUrl:H,source:J,restoredState:we,extras:Fe}=g,ut=new wi(k,this.urlSerializer.serialize(H),J,we);this.events.next(ut);const bt=xe(H,this.rootComponentType).snapshot;return et(s={...g,targetSnapshot:bt,urlAfterRedirects:H,extras:{...Fe,skipLocationChange:!1,replaceUrl:!1}})}{const k="";return this.events.next(new Dc(g.id,e.serializeUrl(s.extractedUrl),k,1)),e.rawUrlTree=g.rawUrl,g.resolve(null),Cs.E}}),(0,mr.b)(g=>{const E=new Sr(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(E)}),(0,T.U)(g=>s={...g,guards:Og(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function ZC(n,t){return(0,br.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?et({...e,guardsResult:!0}):function Lg(n,t,e,s){return(0,Vt.D)(n).pipe((0,br.z)(a=>function qC(n,t,e,s,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?et(d.map(E=>{const w=eh(t)??a,R=pu(E,w);return Ci(function kg(n){return n&&Pc(n.canDeactivate)}(R)?R.canDeactivate(n,t,e,s):w.runInContext(()=>R(n,t,e,s))).pipe(Xs())})).pipe(zo()):et(!0)}(a.component,a.route,e,t,s)),Xs(a=>!0!==a,!0))}(g,s,a,n).pipe((0,br.z)(E=>E&&function Ng(n){return"boolean"==typeof n}(E)?function Hf(n,t,e,s){return(0,Vt.D)(t).pipe(xa(a=>ys(function yy(n,t){return null!==n&&t&&t(new hu(n)),et(!0)}(a.route.parent,s),function mu(n,t){return null!==n&&t&&t(new Lf(n)),et(!0)}(a.route,s),function KC(n,t,e){const s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function my(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Es(()=>et(g.guards.map(w=>{const R=eh(g.node)??e,k=pu(w,R);return Ci(function WC(n){return n&&Pc(n.canActivateChild)}(k)?k.canActivateChild(s,n):R.runInContext(()=>k(s,n))).pipe(Xs())})).pipe(zo())));return et(d).pipe(zo())}(n,a.path,e),function Vg(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return et(!0);const a=s.map(d=>Es(()=>{const g=eh(t)??e,E=pu(d,g);return Ci(function xg(n){return n&&Pc(n.canActivate)}(E)?E.canActivate(t,n):g.runInContext(()=>E(t,n))).pipe(Xs())}));return et(a).pipe(zo())}(n,a.route,e))),Xs(a=>!0!==a,!0))}(s,d,n,t):et(E)),(0,T.U)(E=>({...e,guardsResult:E})))})}(this.environmentInjector,g=>this.events.next(g)),(0,mr.b)(g=>{if(s.guardsResult=g.guardsResult,eo(g.guardsResult))throw Ag(0,g.guardsResult);const E=new Ff(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(E)}),wr(g=>!!g.guardsResult||(e.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),zf(g=>{if(g.guards.canActivateChecks.length)return et(g).pipe((0,mr.b)(E=>{const w=new Kd(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(w)}),Fn(E=>{let w=!1;return et(E).pipe(function rw(n,t){return(0,br.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return et(e);let d=0;return(0,Vt.D)(a).pipe(xa(g=>function Oy(n,t,e,s){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!ky(a)&&(d[tu]=a.title),function iw(n,t,e,s){const a=function Ny(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return et({});const d={};return(0,Vt.D)(a).pipe((0,br.z)(g=>function xy(n,t,e,s){const a=eh(t)??s,d=pu(n,a);return Ci(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[g],t,e,s).pipe(Xs(),(0,mr.b)(E=>{d[g]=E}))),eu(1),function wf(n){return(0,T.U)(()=>n)}(d),Vo(g=>Fg(g)?Cs.E:Br(g)))}(d,n,t,s).pipe((0,T.U)(g=>(n._resolvedData=g,n.data=nt(n,e).resolve,a&&ky(a)&&(n.data[tu]=a.title),null)))}(g.route,s,n,t)),(0,mr.b)(()=>d++),eu(1),(0,br.z)(g=>d===a.length?et(e):Cs.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,mr.b)({next:()=>w=!0,complete:()=>{w||(e.restoreHistory(E),this.cancelNavigationTransition(E,"",2))}}))}),(0,mr.b)(E=>{const w=new qd(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(w)}))}),zf(g=>{const E=w=>{const R=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,mr.b)(k=>{w.component=k}),(0,T.U)(()=>{})));for(const k of w.children)R.push(...E(k));return R};return Qe(E(g.targetSnapshot.root)).pipe(kd(),Na(1))}),zf(()=>this.afterPreactivation()),(0,T.U)(g=>{const E=function Sc(n,t,e){const s=Wo(n,t._root,e?e._root:void 0);return new se(s,t)}(e.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return s={...g,targetRouterState:E}}),(0,mr.b)(g=>{e.currentUrlTree=g.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),e.routerState=g.targetRouterState,"deferred"===e.urlUpdateStrategy&&(g.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,g),e.browserUrlTree=g.urlAfterRedirects)}),((n,t,e)=>(0,T.U)(s=>(new JI(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,e.routeReuseStrategy,g=>this.events.next(g)),(0,mr.b)({next:g=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new ws(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{a=!0}}),jr(()=>{a||d||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Vo(g=>{if(d=!0,UC(g)){Tc(g)||(e.navigated=!0,e.restoreHistory(s,!0));const E=new Go(s.id,this.urlSerializer.serialize(s.extractedUrl),g.message,g.cancellationCode);if(this.events.next(E),Tc(g)){const w=e.urlHandlingStrategy.merge(g.url,e.rawUrlTree),R={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Uy(s.source)};e.scheduleNavigation(w,$a,null,R,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{e.restoreHistory(s,!0);const E=new no(s.id,this.urlSerializer.serialize(s.extractedUrl),g,s.targetSnapshot??void 0);this.events.next(E);try{s.resolve(e.errorHandler(g))}catch(w){s.reject(w)}}return Cs.E}))}))}cancelNavigationTransition(e,s,a){const d=new Go(e.id,this.urlSerializer.serialize(e.extractedUrl),s,a);this.events.next(d),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uy(n){return n!==$a}let $g=(()=>{class n{buildTitle(e){let s,a=e.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(d=>d.outlet===wt);return s}getResolvedTitleForRoute(e){return e.data[tu]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(l0)},providedIn:"root"}),n})(),l0=(()=>{class n extends $g{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Zl))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(St)},providedIn:"root"}),n})();class c0{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let St=(()=>{class n extends c0{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=f.n5z(n)))(s||n)}}(),n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rh=new f.OlP("",{providedIn:"root",factory:()=>({})});let jy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(d0)},providedIn:"root"}),n})(),d0=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,s){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $y(n){throw n}function h0(n,t,e){return t.parse("/")}const Gy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},f0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(rh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||$y,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||h0,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(jy),this.routeReuseStrategy=(0,f.f3M)(u0),this.urlCreationStrategy=(0,f.f3M)(c),this.titleStrategy=(0,f.f3M)($g),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=pc((0,f.f3M)(Ar,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(Kf),this.urlSerializer=(0,f.f3M)(ru),this.location=(0,f.f3M)(Ae),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xe(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$a,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,s,e.state)},0)}))}navigateToSyncWithBrowser(e,s,a){const d={replaceUrl:!0},g=a?.navigationId?a:null;if(a){const w={...a};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(d.state=w)}const E=this.parseUrl(e);this.scheduleNavigation(E,s,g,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Pg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:d,fragment:g,queryParamsHandling:E,preserveFragment:w}=s,R=w?this.currentUrlTree.fragment:g;let k=null;switch(E){case"merge":k={...this.currentUrlTree.queryParams,...d};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}return null!==k&&(k=this.removeEmptyProps(k)),this.urlCreationStrategy.createUrlTree(a,this.routerState,this.currentUrlTree,e,k,R??null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=eo(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,$a,null,s)}navigate(e,s={skipLocationChange:!1}){return function sw(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new f.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?{...Gy}:!1===s?{...f0}:s,eo(e))return Fa(this.currentUrlTree,e,a);const d=this.parseUrl(e);return Fa(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const d=e[a];return null!=d&&(s[a]=d),s},{})}scheduleNavigation(e,s,a,d,g){if(this.disposed)return Promise.resolve(!1);let E,w,R,k;return g?(E=g.resolve,w=g.reject,R=g.promise):R=new Promise((H,J)=>{E=H,w=J}),k="computed"===this.canceledNavigationResolution?a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:k,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:d,resolve:E,reject:w,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(H=>Promise.reject(H))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),d={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===a?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vu=(()=>{class n{constructor(e,s,a,d,g,E){this.router=e,this.route=s,this.tabIndexAttribute=a,this.renderer=d,this.el=g,this.locationStrategy=E,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Wi.x;const w=g.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=e.events.subscribe(R=>{R instanceof ws&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,f.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,f.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,f.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,s,a,d,g){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||s||a||d||g||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,s){const a=this.renderer,d=this.el.nativeElement;null!==s?a.setAttribute(d,e,s):a.removeAttribute(d,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(bi),f.Y36(it),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ye))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,s){1&e&&f.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&f.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),n})();class zy{}let p0=(()=>{class n{constructor(e,s,a,d,g){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(wr(e=>e instanceof ws),xa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const d of s){d.providers&&!d._injector&&(d._injector=(0,f.MMx)(d.providers,e,`Route: ${d.path}`));const g=d._injector??e,E=d._loadedInjector??g;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?a.push(this.preloadConfig(g,d)):(d.children||d._loadedRoutes)&&a.push(this.processRoutes(E,d.children??d._loadedRoutes))}return(0,Vt.D)(a).pipe((0,Pn.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):et(null);const d=a.pipe((0,br.z)(g=>null===g?et(void 0):(s._loadedRoutes=g.routes,s._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(s.loadComponent&&!s._loadedComponent){const g=this.loader.loadComponent(s);return(0,Vt.D)([d,g]).pipe((0,Pn.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(bi),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(zy),f.LFG(Hg))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qy=new f.OlP("");let g0=(()=>{class n{constructor(e,s,a,d,g={}){this.urlSerializer=e,this.transitions=s,this.viewportScroller=a,this.zone=d,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},g.scrollPositionRestoration=g.scrollPositionRestoration||"disabled",g.anchorScrolling=g.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ws&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Yd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function kc(n,t){return{\u0275kind:n,\u0275providers:t}}function sh(){const n=(0,f.f3M)(f.zs3);return t=>{const e=n.get(f.z2F);if(t!==e.components[0])return;const s=n.get(bi),a=n.get(Yy);1===n.get(qf)&&s.initialNavigation(),n.get(Qy,null,f.XFs.Optional)?.setUpPreloading(),n.get(qy,null,f.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const Yy=new f.OlP("",{factory:()=>new Wi.x}),qf=new f.OlP("",{providedIn:"root",factory:()=>1});const Qy=new f.OlP("");function E0(n){return kc(0,[{provide:Qy,useExisting:p0},{provide:zy,useExisting:n}])}const Yf=new f.OlP("ROUTER_FORROOT_GUARD"),uw=[Ae,{provide:ru,useClass:Ds},bi,Ac,{provide:it,useFactory:function Gg(n){return n.routerState.root},deps:[bi]},Hg,[]];function zg(){return new f.PXZ("Router",bi)}let Jy=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[uw,[],{provide:Ar,multi:!0,useValue:e},{provide:Yf,useFactory:I0,deps:[[bi,new f.FiY,new f.tp0]]},{provide:rh,useValue:s||{}},s?.useHash?{provide:Ye,useClass:ve}:{provide:Ye,useClass:Ce},{provide:qy,useFactory:()=>{const n=(0,f.f3M)(Us),t=(0,f.f3M)(f.R0b),e=(0,f.f3M)(rh),s=(0,f.f3M)(Kf),a=(0,f.f3M)(ru);return e.scrollOffset&&n.setOffset(e.scrollOffset),new g0(a,s,n,t,e)}},s?.preloadingStrategy?E0(s.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:zg},s?.initialNavigation?ev(s):[],[{provide:tv,useFactory:sh},{provide:f.tb,multi:!0,useExisting:tv}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ar,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Yf,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[jf]}),n})();function I0(n){return"guarded"}function ev(n){return["disabled"===n.initialNavigation?kc(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const t=(0,f.f3M)(bi);return()=>{t.setUpLocationChangeListener()}}},{provide:qf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?kc(2,[{provide:qf,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:t=>{const e=t.get(re,Promise.resolve());return()=>e.then(()=>new Promise(a=>{const d=t.get(bi),g=t.get(Yy);(function s(a){t.get(bi).events.pipe(wr(g=>g instanceof ws||g instanceof Go||g instanceof no),(0,T.U)(g=>g instanceof ws||g instanceof Go&&(0===g.code||1===g.code)&&null),wr(g=>null!==g),Na(1)).subscribe(()=>{a()})})(()=>{a(!0)}),t.get(Kf).afterPreactivation=()=>(a(!0),g.closed?et(void 0):g),d.initialNavigation()}))}}]).\u0275providers:[]]}const tv=new f.OlP("");class Ko{constructor(t,e,s,a){this.nombre=t,this.apellido=e,this.cargo=s,this.sueldo=a,this.listaCaracteristicas=[]}}var Kg=O(4986),Cu=O(6451),Qf=O(3099);function nv(n,t){return n===t}var qg=O(5032),Yi=O(2122),Si=O(2011),b0=(O(407),O(3942)),Ya=O(4859),Du=O(5861),Qa=O(9681),N=O(2090),Xf=O(1877);const rv="@firebase/database";let ep="";function iv(n){ep=n}class hw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Jg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Xg=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hw(t)}}catch{}return new Jg},Iu=Xg("localStorage"),em=Xg("sessionStorage"),Uc=new Xf.Yd("@firebase/database"),tm=function(){let n=1;return function(){return n++}}(),sv=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const s=e.digest();return N.US.encodeByteArray(s)},oh=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=oh.apply(null,s):t+="object"==typeof s?(0,N.Wl)(s):s,t+=" "}return t};let qo=null,ov=!0;const av=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Uc.logLevel=Xf.in.VERBOSE,qo=Uc.log.bind(Uc),t&&em.set("logging_enabled",!0)):"function"==typeof n?qo=n:(qo=null,em.remove("logging_enabled"))},ir=function(...n){if(!0===ov&&(ov=!1,null===qo&&!0===em.get("logging_enabled")&&av(!0)),qo){const t=oh.apply(null,n);qo(t)}},ah=function(n){return function(...t){ir(n,...t)}},nm=function(...n){const t="FIREBASE INTERNAL ERROR: "+oh(...n);Uc.error(t)},Yn=function(...n){const t=`FIREBASE FATAL ERROR: ${oh(...n)}`;throw Uc.error(t),new Error(t)},sr=function(...n){const t="FIREBASE WARNING: "+oh(...n);Uc.warn(t)},tp=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ja="[MIN_NAME]",Yo="[MAX_NAME]",wu=function(n,t){if(n===t)return 0;if(n===Ja||t===Yo)return-1;if(t===Ja||n===Yo)return 1;{const e=om(n),s=om(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},rm=function(n,t){return n===t?0:n<t?-1:1},lh=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Wl)(t))},im=function(n){if("object"!=typeof n||null===n)return(0,N.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,N.Wl)(t[s]),e+=":",e+=im(n[t[s]]);return e+="}",e},uh=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function Ln(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const ch=function(n){(0,N.hu)(!tp(n),"Invalid JSON number");const s=1023;let a,d,g,E,w;0===n?(d=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(E=Math.min(Math.floor(Math.log(n)/Math.LN2),s),d=E+s,g=Math.round(n*Math.pow(2,52-E)-Math.pow(2,52))):(d=0,g=Math.round(n/Math.pow(2,-1074))));const R=[];for(w=52;w;w-=1)R.push(g%2?1:0),g=Math.floor(g/2);for(w=11;w;w-=1)R.push(d%2?1:0),d=Math.floor(d/2);R.push(a?1:0),R.reverse();const k=R.join("");let H="";for(w=0;w<64;w+=8){let J=parseInt(k.substr(w,8),2).toString(16);1===J.length&&(J="0"+J),H+=J}return H.toLowerCase()},uv=new RegExp("^-?(0*)\\d{1,10}$"),om=function(n){if(uv.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Xa=function(n){try{n()}catch(t){setTimeout(()=>{throw sr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},el=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class np{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class dh{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',sr(t)}}let hh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const pv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mv="websocket",_v="long_polling";class um{constructor(t,e,s,a,d=!1,g="",E=!1,w=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=E,this.isUsingEmulator=w,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Iu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Iu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function yv(n,t,e){let s;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===mv)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==_v)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function A0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return Ln(e,(d,g)=>{a.push(d+"="+g)}),s+a.join("&")}class vv{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const ph={},cm={};function gh(n){const t=n.toString();return ph[t]||(ph[t]=new vv),ph[t]}class R0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Xa(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class tl{constructor(t,e,s,a,d,g,E){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=d,this.transportSessionId=g,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ah(t),this.stats_=gh(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),yv(e,_v,w))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new R0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qi((...d)=>{const[g,E,w,R,k]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=E,this.password=w;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,E]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,E)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&pv.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tl.forceAllow_=!0}static forceDisallow(){tl.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!tl.forceAllow_&&(tl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,N.h$)(e),a=uh(s,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Qi{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=tm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Qi.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(E){ir("frame writing exception"),E.stack&&ir(E.stack),ir(E)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ir("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{ir("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let io=null;typeof MozWebSocket<"u"?io=MozWebSocket:typeof WebSocket<"u"&&(io=WebSocket);let Jo=(()=>{class n{constructor(e,s,a,d,g,E,w){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ah(this.connId),this.stats_=gh(s),this.connURL=n.connectionURL_(s,E,w,d,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,d,g){const E={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&pv.test(location.hostname)&&(E.r="f"),s&&(E.s=s),a&&(E.ls=a),d&&(E.ac=d),g&&(E.p=g),yv(e,mv,E)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Iu.set("previous_websocket_failure",!0);try{let a;if((0,N.Yr)()){a={headers:{"User-Agent":`Firebase/5/${ep}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,E=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;E&&(a.proxy={origin:E})}this.mySock=new io(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==io&&!n.forceDisallow_}static previouslyFailed(){return Iu.isInMemoryStorage||!0===Iu.get("previous_websocket_failure")}markConnectionHealthy(){Iu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,N.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,N.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=uh(s,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Ti=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[tl,Jo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Jo&&Jo.isAvailable();let a=s&&!Jo.previouslyFailed();if(e.webSocketOnly&&(s||sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Jo];else{const d=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&d.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class ym{constructor(t,e,s,a,d,g,E,w,R,k){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=g,this.onReady_=E,this.onDisconnect_=w,this.onKill_=R,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ah("c:"+this.id+":"),this.transportManager_=new Ti(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=el(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=lh("t",t),s=lh("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=lh("t",t),s=lh("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=lh("t",t);if("d"in t){const s=t.d;if("h"===e){const a=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?nm("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nm("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),el(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):el(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Iu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vm{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Em{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!s||s===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class yh extends Em{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yh}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Wt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Bt(){return new Wt("")}function Ot(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function rl(n){return n.pieces_.length-n.pieceNum_}function Zt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Wt(n.pieces_,t)}function vh(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function il(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Eh(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Wt(t,0)}function cn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof Wt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new Wt(e,0)}function Nt(n){return n.pieceNum_>=n.pieces_.length}function _r(n,t){const e=Ot(n),s=Ot(t);if(null===e)return t;if(e===s)return _r(Zt(n),Zt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Dm(n,t){const e=il(n,0),s=il(t,0);for(let a=0;a<e.length&&a<s.length;a++){const d=wu(e[a],s[a]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function ip(n,t){if(rl(n)!==rl(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function Ai(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(rl(n)>rl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class Im{constructor(t,e){this.errorPrefix_=e,this.parts_=il(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,N.ug)(this.parts_[s]);sp(this)}}function sp(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sl(n))}function sl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class wm extends Em{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new wm}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const zc=1e3;let Dh,ol=(()=>{class n extends vm{constructor(e,s,a,d,g,E,w,R){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=E,this.appCheckTokenProvider_=w,this.authOverride_=R,this.id=n.nextPersistentConnectionId_++,this.log_=ah("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,R&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wm.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&yh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const d=++this.requestNumber_,g={r:d,a:e,b:s};this.log_((0,N.Wl)(g)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const s=new N.BH,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:E=>{const w=E.d;"ok"===E.s?s.resolve(w):s.reject(w)}};return this.outstandingGets_.push(d),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,a,d){this.initConnection_();const g=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+g),this.listens.has(E)||this.listens.set(E,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(E).has(g),"listen() called twice for same path/queryId.");const w={onComplete:d,hashFn:s,query:e,tag:a};this.listens.get(E).set(g,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+a+" for "+d);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,w=>{const R=w.d,k=w.s;n.warnOnListenWarnings_(R,s),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",w),"ok"!==k&&this.removeListen_(a,d),e.onComplete&&e.onComplete(k,R))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const a=(0,N.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,N.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,d=>{const g=d.s,E=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,s)}sendUnlisten_(e,s,a,d){this.log_("Unlisten on "+e+" for "+s);const g={p:e};d&&(g.q=a,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,d){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,E=>{d&&setTimeout(()=>{d(E.s,E.d)},Math.floor(0))})}put(e,s,a,d){this.putInternal("p",e,s,a,d)}merge(e,s,a,d){this.putInternal("m",e,s,a,d)}putInternal(e,s,a,d,g){this.initConnection_();const E={p:s,d:a};void 0!==g&&(E.h=g),this.outstandingPuts_.push({action:e,request:E,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Wl)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):nm("Unrecognized action received from server: "+(0,N.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Du.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,E=e.lastSessionId;let w=!1,R=null;const k=function(){R?R.close():(w=!0,d())};e.realtime_={close:k,sendRequest:function(we){(0,N.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(we)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[we,Fe]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);w?ir("getToken() completed but was canceled"):(ir("getToken() completed. Creating connection."),e.authToken_=we&&we.accessToken,e.appCheckToken_=Fe&&Fe.token,R=new ym(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,d,ut=>{sr(ut+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(we){e.log_("Failed to get token: "+we),w||(e.repoInfo_.nodeAdmin&&sr(we),k())}}})()}interrupt(e){ir("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ir("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=zc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>im(g)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const a=new Wt(e).toString();let d;if(this.listens.has(a)){const g=this.listens.get(a);d=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,s){ir("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){ir("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,N.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+ep.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yh.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Rt(t,e)}}class Ch{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Rt(Ja,t),a=new Rt(Ja,e);return 0!==this.compare(s,a)}minPost(){return Rt.MIN}}class Sm extends Ch{static get __EMPTY_NODE(){return Dh}static set __EMPTY_NODE(t){Dh=t}compare(t,e){return wu(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(Yo,Dh)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,Dh)}toString(){return".key"}}const Ss=new Sm;class Ih{constructor(t,e,s,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?s(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Tm,Ji=(()=>{class n{constructor(e,s,a,d,g){this.key=e,this.value=s,this.color=a??n.RED,this.left=d??Hr.EMPTY_NODE,this.right=g??Hr.EMPTY_NODE}copy(e,s,a,d,g){return new n(e??this.key,s??this.value,a??this.color,d??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let d=this;const g=a(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,s,a),null):0===g?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,d;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return Hr.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Hr{constructor(t,e=Hr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Hr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ji.BLACK,null,null))}remove(t){return new Hr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ji.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ih(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Ih(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Ih(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Ih(this.root_,null,this.comparator_,!0,t)}}function op(n,t){return wu(n.name,t.name)}function so(n,t){return wu(n,t)}Hr.EMPTY_NODE=new class Rv{copy(t,e,s,a,d){return this}insert(t,e,s){return new Ji(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ap=function(n){return"number"==typeof n?"number:"+ch(n):"string:"+n},al=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===Tm||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===Tm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let lp,up,H0,Zc=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),al(this.priorityNode_)}static set __childrenNodeConstructor(e){lp=e}static get __childrenNodeConstructor(){return lp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Nt(e)?this:".priority"===Ot(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Ot(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,N.hu)(".priority"!==a||1===rl(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zt(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ap(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?ch(this.value_):this.value_,this.lazyHash_=sv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,N.hu)(d>=0,"Unknown leaf type: "+s),(0,N.hu)(g>=0,"Unknown leaf type: "+a),d===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const tn=new class G0 extends Ch{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),d=s.compareTo(a);return 0===d?wu(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(Yo,new Zc("[PRIORITY-POST]",H0))}makePost(t,e){const s=up(t);return new Rt(e,new Zc("[PRIORITY-POST]",s))}toString(){return".priority"}},W0=Math.log(2);class Qn{constructor(t){this.count=parseInt(Math.log(t+1)/W0,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const wh=function(n,t,e,s){n.sort(t);const a=function(w,R){const k=R-w;let H,J;if(0===k)return null;if(1===k)return H=n[w],J=e?e(H):H,new Ji(J,H.node,Ji.BLACK,null,null);{const we=parseInt(k/2,10)+w,Fe=a(w,we),ut=a(we+1,R);return H=n[we],J=e?e(H):H,new Ji(J,H.node,Ji.BLACK,Fe,ut)}},E=function(w){let R=null,k=null,H=n.length;const J=function(Fe,ut){const bt=H-Fe,Tn=H;H-=Fe;const yn=a(bt+1,Tn),Wr=n[bt],An=e?e(Wr):Wr;we(new Ji(An,Wr.node,ut,null,yn))},we=function(Fe){R?(R.left=Fe,R=Fe):(k=Fe,R=Fe)};for(let Fe=0;Fe<w.count;++Fe){const ut=w.nextBitIsOne(),bt=Math.pow(2,w.count-(Fe+1));ut?J(bt,Ji.BLACK):(J(bt,Ji.BLACK),J(bt,Ji.RED))}return k}(new Qn(n.length));return new Hr(s||t,E)};let Am;const Kc={};class oo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(Kc&&tn,"ChildrenNode.ts has not been loaded"),Am=Am||new oo({".priority":Kc},{".priority":tn}),Am}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Hr?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==Ss,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const d=e.getIterator(Rt.Wrap);let E,g=d.getNext();for(;g;)a=a||t.isDefinedOn(g.node),s.push(g),g=d.getNext();E=a?wh(s,t.getCompare()):Kc;const w=t.toString(),R=Object.assign({},this.indexSet_);R[w]=t;const k=Object.assign({},this.indexes_);return k[w]=E,new oo(k,R)}addToIndexes(t,e){const s=(0,N.UI)(this.indexes_,(a,d)=>{const g=(0,N.DV)(this.indexSet_,d);if((0,N.hu)(g,"Missing index implementation for "+d),a===Kc){if(g.isDefinedOn(t.node)){const E=[],w=e.getIterator(Rt.Wrap);let R=w.getNext();for(;R;)R.name!==t.name&&E.push(R),R=w.getNext();return E.push(t),wh(E,g.getCompare())}return Kc}{const E=e.get(t.name);let w=a;return E&&(w=w.remove(new Rt(t.name,E))),w.insert(t,t.node)}});return new oo(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,N.UI)(this.indexes_,a=>{if(a===Kc)return a;{const d=e.get(t.name);return d?a.remove(new Rt(t.name,d)):a}});return new oo(s,this.indexSet_)}}let bh,Tt=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&al(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bh||(bh=new n(new Hr(so),null,oo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bh}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?bh:s}}getChild(e){const s=Ot(e);return null===s?this:this.getImmediateChild(s).getChild(Zt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,N.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new Rt(e,s);let d,g;s.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const E=d.isEmpty()?bh:this.priorityNode_;return new n(d,E,g)}}updateChild(e,s){const a=Ot(e);if(null===a)return s;{(0,N.hu)(".priority"!==Ot(e)||1===rl(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(Zt(e),s);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,d=0,g=!0;if(this.forEachChild(tn,(E,w)=>{s[E]=w.val(e),a++,g&&n.INTEGER_REGEXP_.test(E)?d=Math.max(d,Number(E)):g=!1}),!e&&g&&d<2*a){const E=[];for(const w in s)E[w]=s[w];return E}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ap(this.getPriority().val())+":"),this.forEachChild(tn,(s,a)=>{const d=a.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":sv(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const d=this.resolveIndex_(a);if(d){const g=d.getPredecessorKey(new Rt(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Rt(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Rt(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Rt.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ao?-1:0}withIndex(e){if(e===Ss||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Ss||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(tn),d=s.getIterator(tn);let g=a.getNext(),E=d.getNext();for(;g&&E;){if(g.name!==E.name||!g.node.equals(E.node))return!1;g=a.getNext(),E=d.getNext()}return null===g&&null===E}return!1}return!1}}resolveIndex_(e){return e===Ss?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ao=new class Pv extends Tt{constructor(){super(new Hr(so),Tt.EMPTY_NODE,oo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Tt.EMPTY_NODE}isEmpty(){return!1}};function Dn(n,t=null){if(null===n)return Tt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Zc(n,Dn(t));if(n instanceof Array){let e=Tt.EMPTY_NODE;return Ln(n,(s,a)=>{if((0,N.r3)(n,s)&&"."!==s.substring(0,1)){const d=Dn(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(Dn(t))}{const e=[];let s=!1;if(Ln(n,(g,E)=>{if("."!==g.substring(0,1)){const w=Dn(E);w.isEmpty()||(s=s||!w.getPriority().isEmpty(),e.push(new Rt(g,w)))}}),0===e.length)return Tt.EMPTY_NODE;const d=wh(e,op,g=>g.name,so);if(s){const g=wh(e,tn.getCompare());return new Tt(d,Dn(t),new oo({".priority":g},{".priority":tn}))}return new Tt(d,Dn(t),oo.Default)}}Object.defineProperties(Rt,{MIN:{value:new Rt(Ja,Tt.EMPTY_NODE)},MAX:{value:new Rt(Yo,ao)}}),Sm.__EMPTY_NODE=Tt.EMPTY_NODE,Zc.__childrenNodeConstructor=Tt,function j0(n){Tm=n}(ao),function $0(n){H0=n}(ao),function mw(n){up=n}(Dn);class cp extends Ch{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!Nt(t)&&".priority"!==Ot(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),d=s.compareTo(a);return 0===d?wu(t.name,e.name):d}makePost(t,e){const s=Dn(t),a=Tt.EMPTY_NODE.updateChild(this.indexPath_,s);return new Rt(e,a)}maxPost(){const t=Tt.EMPTY_NODE.updateChild(this.indexPath_,ao);return new Rt(Yo,t)}toString(){return il(this.indexPath_,0).join("/")}}const dp=new class Z0 extends Ch{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?wu(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(t,e){const s=Dn(t);return new Rt(e,s)}toString(){return".value"}};function K0(n){return{type:"value",snapshotNode:n}}function Mu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Ru(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function oi(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Mm{constructor(t){this.index_=t}updateChild(t,e,s,a,d,g){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=t.getImmediateChild(e);return E.getChild(a).equals(s.getChild(a))&&E.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(Ru(e,E)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?g.trackChildChange(Mu(e,s)):g.trackChildChange(oi(e,s,E))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(tn,(a,d)=>{e.hasChild(a)||s.trackChildChange(Ru(a,d))}),e.isLeafNode()||e.forEachChild(tn,(a,d)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(d)||s.trackChildChange(oi(a,d,g))}else s.trackChildChange(Mu(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Tt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ai{constructor(t){this.indexedFilter_=new Mm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ai.getStartPost_(t),this.endPost_=ai.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&s}updateChild(t,e,s,a,d,g){return this.matches(new Rt(e,s))||(s=Tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,d,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=Tt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Tt.EMPTY_NODE);const d=this;return e.forEachChild(tn,(g,E)=>{d.matches(new Rt(g,E))||(a=a.updateImmediateChild(g,Tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Ts{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new ai(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,s,a,d,g){return this.rangedFilter_.matches(new Rt(e,s))||(s=Tt.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,d,g):this.fullLimitUpdateChild_(t,e,s,d,g)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=Tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=Tt.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const E=d.getNext();if(this.withinDirectionalStart(E)){if(!this.withinDirectionalEnd(E))break;a=a.updateImmediateChild(E.name,E.node),g++}}}else{let d;a=e.withIndex(this.index_),a=a.updatePriority(Tt.EMPTY_NODE),d=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let g=0;for(;d.hasNext();){const E=d.getNext();g<this.limit_&&this.withinDirectionalStart(E)&&this.withinDirectionalEnd(E)?g++:a=a.updateImmediateChild(E.name,Tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,d){let g;if(this.reverse_){const H=this.index_.getCompare();g=(J,we)=>H(we,J)}else g=this.index_.getCompare();const E=t;(0,N.hu)(E.numChildren()===this.limit_,"");const w=new Rt(e,s),R=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),k=this.rangedFilter_.matches(w);if(E.hasChild(e)){const H=E.getImmediateChild(e);let J=a.getChildAfterChild(this.index_,R,this.reverse_);for(;null!=J&&(J.name===e||E.hasChild(J.name));)J=a.getChildAfterChild(this.index_,J,this.reverse_);const we=null==J?1:g(J,w);if(k&&!s.isEmpty()&&we>=0)return d?.trackChildChange(oi(e,s,H)),E.updateImmediateChild(e,s);{d?.trackChildChange(Ru(e,H));const ut=E.updateImmediateChild(e,Tt.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(d?.trackChildChange(Mu(J.name,J.node)),ut.updateImmediateChild(J.name,J.node)):ut}}return s.isEmpty()?t:k&&g(R,w)>=0?(null!=d&&(d.trackChildChange(Ru(R.name,R.node)),d.trackChildChange(Mu(e,s))),E.updateImmediateChild(e,s).updateImmediateChild(R.name,Tt.EMPTY_NODE)):t}}class li{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ja}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tn}copy(){const t=new li;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Rm(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Pm(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function ll(n,t){const e=n.copy();return e.index_=t,e}function xv(n){const t={};if(n.isDefault())return t;let e;if(n.index_===tn?e="$priority":n.index_===dp?e="$value":n.index_===Ss?e="$key":((0,N.hu)(n.index_ instanceof cp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Wl)(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";t[s]=(0,N.Wl)(n.indexStartValue_),n.startNameSet_&&(t[s]+=","+(0,N.Wl)(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";t[s]=(0,N.Wl)(n.indexEndValue_),n.endNameSet_&&(t[s]+=","+(0,N.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Nm(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==tn&&(t.i=n.index_.toString()),t}class hp extends vm{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=ah("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const g=hp.getListenId_(t,s),E={};this.listens_[g]=E;const w=xv(t._queryParams);this.restRequest_(d+".json",w,(R,k)=>{let H=k;if(404===R&&(H=null,R=null),null===R&&this.onDataUpdate_(d,H,!1,s),(0,N.DV)(this.listens_,g)===E){let J;J=R?401===R?"permission_denied":"rest_error:"+R:"ok",a(J,null)}})}unlisten(t,e){const s=hp.getListenId_(t,e);delete this.listens_[s]}get(t){const e=xv(t._queryParams),s=t._path.toString(),a=new N.BH;return this.restRequest_(s+".json",e,(d,g)=>{let E=g;404===d&&(E=null,d=null),null===d?(this.onDataUpdate_(s,E,!1,null),a.resolve(E)):a.reject(new Error(E))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+g);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(s&&4===E.readyState){this.log_("REST Response for "+g+" received. status:",E.status,"response:",E.responseText);let w=null;if(E.status>=200&&E.status<300){try{w=(0,N.cI)(E.responseText)}catch{sr("Failed to parse JSON response for "+g+": "+E.responseText)}s(null,w)}else 401!==E.status&&404!==E.status&&sr("Got unsuccessful REST response for "+g+" Status: "+E.status),s(E.status);s=null}},E.open("GET",g,!0),E.send()})}}class kv{constructor(){this.rootNode_=Tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Sh(){return{value:null,children:new Map}}function Xo(n,t,e){if(Nt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Ot(t);n.children.has(s)||n.children.set(s,Sh()),Xo(n.children.get(s),t=Zt(t),e)}}function xm(n,t){if(Nt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(tn,(s,a)=>{Xo(n,new Wt(s),a)}),xm(n,t)}}if(n.children.size>0){const e=Ot(t);return t=Zt(t),n.children.has(e)&&xm(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function fp(n,t,e){null!==n.value?e(t,n.value):function Fv(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{fp(a,new Wt(t.toString()+"/"+s),e)})}class km{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ln(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class Vv{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new km(t);const s=1e4+2e4*Math.random();el(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Ln(t,(a,d)=>{d>0&&(0,N.r3)(this.statsToReport_,a)&&(e[a]=d,s=!0)}),s&&this.server_.reportStats(e),el(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mi=(()=>{return(n=Mi||(Mi={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Mi;var n})();function _p(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Th{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Mi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Nt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Wt(t));return new Th(Bt(),e,this.revert)}}return(0,N.hu)(Ot(this.path)===t,"operationForChild called for unrelated child."),new Th(Zt(this.path),this.affectedTree,this.revert)}}class Ah{constructor(t,e){this.source=t,this.path=e,this.type=Mi.LISTEN_COMPLETE}operationForChild(t){return Nt(this.path)?new Ah(this.source,Bt()):new Ah(this.source,Zt(this.path))}}class Pu{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Mi.OVERWRITE}operationForChild(t){return Nt(this.path)?new Pu(this.source,Bt(),this.snap.getImmediateChild(t)):new Pu(this.source,Zt(this.path),this.snap)}}class qc{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Mi.MERGE}operationForChild(t){if(Nt(this.path)){const e=this.children.subtree(new Wt(t));return e.isEmpty()?null:e.value?new Pu(this.source,Bt(),e.value):new qc(this.source,Bt(),e)}return(0,N.hu)(Ot(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new qc(this.source,Zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ul{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Nt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ot(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class J0{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Mh(n,t,e,s,a,d){const g=s.filter(E=>E.type===e);g.sort((E,w)=>function tD(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const s=new Rt(t.childName,t.snapshotNode),a=new Rt(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,E,w)),g.forEach(E=>{const w=function eD(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,E,d);a.forEach(R=>{R.respondsTo(E.type)&&t.push(R.createEvent(w,n.query_))})})}function yp(n,t){return{eventCache:n,serverCache:t}}function Rh(n,t,e,s){return yp(new ul(t,e,s),n.serverCache)}function Uv(n,t,e,s){return yp(n.eventCache,new ul(t,e,s))}function vp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ou(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Lm;class dn{constructor(t,e=(()=>(Lm||(Lm=new Hr(rm)),Lm))()){this.value=t,this.children=e}static fromObject(t){let e=new dn(null);return Ln(t,(s,a)=>{e=e.set(new Wt(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Bt(),value:this.value};if(Nt(t))return null;{const s=Ot(t),a=this.children.get(s);if(null!==a){const d=a.findRootMostMatchingPathAndValue(Zt(t),e);return null!=d?{path:cn(new Wt(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Nt(t))return this;{const e=Ot(t),s=this.children.get(e);return null!==s?s.subtree(Zt(t)):new dn(null)}}set(t,e){if(Nt(t))return new dn(e,this.children);{const s=Ot(t),d=(this.children.get(s)||new dn(null)).set(Zt(t),e),g=this.children.insert(s,d);return new dn(this.value,g)}}remove(t){if(Nt(t))return this.children.isEmpty()?new dn(null):new dn(null,this.children);{const e=Ot(t),s=this.children.get(e);if(s){const a=s.remove(Zt(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new dn(null):new dn(this.value,d)}return this}}get(t){if(Nt(t))return this.value;{const e=Ot(t),s=this.children.get(e);return s?s.get(Zt(t)):null}}setTree(t,e){if(Nt(t))return e;{const s=Ot(t),d=(this.children.get(s)||new dn(null)).setTree(Zt(t),e);let g;return g=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new dn(this.value,g)}}fold(t){return this.fold_(Bt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,d)=>{s[a]=d.fold_(cn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Bt(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Nt(t))return null;{const d=Ot(t),g=this.children.get(d);return g?g.findOnPath_(Zt(t),cn(e,d),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Bt(),e)}foreachOnPath_(t,e,s){if(Nt(t))return this;{this.value&&s(e,this.value);const a=Ot(t),d=this.children.get(a);return d?d.foreachOnPath_(Zt(t),cn(e,a),s):new dn(null)}}foreach(t){this.foreach_(Bt(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(cn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class As{constructor(t){this.writeTree_=t}static empty(){return new As(new dn(null))}}function Yc(n,t,e){if(Nt(t))return new As(new dn(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let d=s.value;const g=_r(a,t);return d=d.updateChild(g,e),new As(n.writeTree_.set(a,d))}{const a=new dn(e),d=n.writeTree_.setTree(t,a);return new As(d)}}}function Ep(n,t,e){let s=n;return Ln(e,(a,d)=>{s=Yc(s,cn(t,a),d)}),s}function Vm(n,t){if(Nt(t))return As.empty();{const e=n.writeTree_.setTree(t,new dn(null));return new As(e)}}function Cp(n,t){return null!=cl(n,t)}function cl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(_r(e.path,t)):null}function Um(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(tn,(s,a)=>{t.push(new Rt(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new Rt(s,a.value))}),t}function ea(n,t){if(Nt(t))return n;{const e=cl(n,t);return new As(null!=e?new dn(e):n.writeTree_.subtree(t))}}function Dp(n){return n.writeTree_.isEmpty()}function Nu(n,t){return Bm(Bt(),n.writeTree_,t)}function Bm(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,N.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=Bm(cn(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(cn(n,".priority"),s)),e}}function Ph(n,t){return Bv(t,n)}function _w(n,t){if(n.snap)return Ai(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ai(cn(n.path,e),t))return!0;return!1}function yw(n){return n.visible}function Hm(n,t,e){let s=As.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const g=d.path;let E;if(d.snap)Ai(e,g)?(E=_r(e,g),s=Yc(s,E,d.snap)):Ai(g,e)&&(E=_r(g,e),s=Yc(s,Bt(),d.snap.getChild(E)));else{if(!d.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(Ai(e,g))E=_r(e,g),s=Ep(s,E,d.children);else if(Ai(g,e))if(E=_r(g,e),Nt(E))s=Ep(s,Bt(),d.children);else{const w=(0,N.DV)(d.children,Ot(E));if(w){const R=w.getChild(Zt(E));s=Yc(s,Bt(),R)}}}}}return s}function $m(n,t,e,s,a){if(s||a){const d=ea(n.visibleWrites,t);return!a&&Dp(d)?e:a||null!=e||Cp(d,Bt())?Nu(Hm(n.allWrites,function(R){return(R.visible||a)&&(!s||!~s.indexOf(R.writeId))&&(Ai(R.path,t)||Ai(t,R.path))},t),e||Tt.EMPTY_NODE):null}{const d=cl(n.visibleWrites,t);if(null!=d)return d;{const g=ea(n.visibleWrites,t);return Dp(g)?e:null!=e||Cp(g,Bt())?Nu(g,e||Tt.EMPTY_NODE):null}}}function Ip(n,t,e,s){return $m(n.writeTree,n.treePath,t,e,s)}function Xc(n,t){return function vw(n,t,e){let s=Tt.EMPTY_NODE;const a=cl(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(tn,(d,g)=>{s=s.updateImmediateChild(d,g)}),s;if(e){const d=ea(n.visibleWrites,t);return e.forEachChild(tn,(g,E)=>{const w=Nu(ea(d,new Wt(g)),E);s=s.updateImmediateChild(g,w)}),Um(d).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return Um(ea(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function Oh(n,t,e,s){return function dt(n,t,e,s,a){(0,N.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const d=cn(t,e);if(Cp(n.visibleWrites,d))return null;{const g=ea(n.visibleWrites,d);return Dp(g)?a.getChild(e):Nu(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function fn(n,t){return function oD(n,t){return cl(n.visibleWrites,t)}(n.writeTree,cn(n.treePath,t))}function wp(n,t,e){return function sD(n,t,e,s){const a=cn(t,e),d=cl(n.visibleWrites,a);return null!=d?d:s.isCompleteForChild(e)?Nu(ea(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Gm(n,t){return Bv(cn(n.treePath,t),n.writeTree)}function Bv(n,t){return{treePath:n,writeTree:t}}class jv{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,oi(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,Ru(s,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,Mu(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,oi(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const Wm=new class Hv{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class bp{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new ul(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wp(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ou(this.viewCache_),d=function Ew(n,t,e,s,a,d){return function aD(n,t,e,s,a,d,g){let E;const w=ea(n.visibleWrites,t),R=cl(w,Bt());if(null!=R)E=R;else{if(null==e)return[];E=Nu(w,e)}if(E=E.withIndex(g),E.isEmpty()||E.isLeafNode())return[];{const k=[],H=g.getCompare(),J=d?E.getReverseIteratorFrom(s,g):E.getIteratorFrom(s,g);let we=J.getNext();for(;we&&k.length<a;)0!==H(we,s)&&k.push(we),we=J.getNext();return k}}(n.writeTree,n.treePath,t,e,s,a,d)}(this.writes_,a,e,1,s,t);return 0===d.length?null:d[0]}}function $v(n,t,e,s,a,d){const g=t.eventCache;if(null!=fn(s,e))return t;{let E,w;if(Nt(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const R=Ou(t),H=Xc(s,R instanceof Tt?R:Tt.EMPTY_NODE);E=n.filter.updateFullNode(t.eventCache.getNode(),H,d)}else{const R=Ip(s,Ou(t));E=n.filter.updateFullNode(t.eventCache.getNode(),R,d)}else{const R=Ot(e);if(".priority"===R){(0,N.hu)(1===rl(e),"Can't have a priority with additional path components");const k=g.getNode();w=t.serverCache.getNode();const H=Oh(s,e,k,w);E=null!=H?n.filter.updatePriority(k,H):g.getNode()}else{const k=Zt(e);let H;if(g.isCompleteForChild(R)){w=t.serverCache.getNode();const J=Oh(s,e,g.getNode(),w);H=null!=J?g.getNode().getImmediateChild(R).updateChild(k,J):g.getNode().getImmediateChild(R)}else H=wp(s,R,t.serverCache);E=null!=H?n.filter.updateChild(g.getNode(),R,H,k,a,d):g.getNode()}}return Rh(t,E,g.isFullyInitialized()||Nt(e),n.filter.filtersNodes())}}function Sp(n,t,e,s,a,d,g,E){const w=t.serverCache;let R;const k=g?n.filter:n.filter.getIndexedFilter();if(Nt(e))R=k.updateFullNode(w.getNode(),s,null);else if(k.filtersNodes()&&!w.isFiltered()){const we=w.getNode().updateChild(e,s);R=k.updateFullNode(w.getNode(),we,null)}else{const we=Ot(e);if(!w.isCompleteForPath(e)&&rl(e)>1)return t;const Fe=Zt(e),bt=w.getNode().getImmediateChild(we).updateChild(Fe,s);R=".priority"===we?k.updatePriority(w.getNode(),bt):k.updateChild(w.getNode(),we,bt,Fe,Wm,null)}const H=Uv(t,R,w.isFullyInitialized()||Nt(e),k.filtersNodes());return $v(n,H,e,a,new bp(a,H,d),E)}function zm(n,t,e,s,a,d,g){const E=t.eventCache;let w,R;const k=new bp(a,t,d);if(Nt(e))R=n.filter.updateFullNode(t.eventCache.getNode(),s,g),w=Rh(t,R,!0,n.filter.filtersNodes());else{const H=Ot(e);if(".priority"===H)R=n.filter.updatePriority(t.eventCache.getNode(),s),w=Rh(t,R,E.isFullyInitialized(),E.isFiltered());else{const J=Zt(e),we=E.getNode().getImmediateChild(H);let Fe;if(Nt(J))Fe=s;else{const ut=k.getCompleteChild(H);Fe=null!=ut?".priority"===vh(J)&&ut.getChild(Eh(J)).isEmpty()?ut:ut.updateChild(J,s):Tt.EMPTY_NODE}w=we.equals(Fe)?t:Rh(t,n.filter.updateChild(E.getNode(),H,Fe,J,k,g),E.isFullyInitialized(),n.filter.filtersNodes())}}return w}function xh(n,t){return n.eventCache.isCompleteForChild(t)}function Zm(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function Tp(n,t,e,s,a,d,g,E){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let R,w=t;R=Nt(e)?s:new dn(null).setTree(e,s);const k=t.serverCache.getNode();return R.children.inorderTraversal((H,J)=>{if(k.hasChild(H)){const Fe=Zm(0,t.serverCache.getNode().getImmediateChild(H),J);w=Sp(n,w,new Wt(H),Fe,a,d,g,E)}}),R.children.inorderTraversal((H,J)=>{const we=!t.serverCache.isCompleteForChild(H)&&null===J.value;if(!k.hasChild(H)&&!we){const ut=Zm(0,t.serverCache.getNode().getImmediateChild(H),J);w=Sp(n,w,new Wt(H),ut,a,d,g,E)}}),w}class hD{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new Mm(s.getIndex()),d=function Ov(n){return n.loadsAllData()?new Mm(n.getIndex()):n.hasLimit()?new Ts(n):new ai(n)}(s);this.processor_=function lD(n){return{filter:n}}(d);const g=e.serverCache,E=e.eventCache,w=a.updateFullNode(Tt.EMPTY_NODE,g.getNode(),null),R=d.updateFullNode(Tt.EMPTY_NODE,E.getNode(),null),k=new ul(w,g.isFullyInitialized(),a.filtersNodes()),H=new ul(R,E.isFullyInitialized(),d.filtersNodes());this.viewCache_=yp(H,k),this.eventGenerator_=new J0(this.query_)}get query(){return this.query_}}function Wv(n,t){const e=Ou(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Nt(t)&&!e.getImmediateChild(Ot(t)).isEmpty())?e.getChild(t):null}function Km(n){return 0===n.eventRegistrations_.length}function Zv(n,t,e){const s=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,a);g&&s.push(g)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const g=n.eventRegistrations_[d];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function qm(n,t,e,s){t.type===Mi.MERGE&&null!==t.source.queryId&&((0,N.hu)(Ou(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(vp(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function cD(n,t,e,s,a){const d=new jv;let g,E;if(e.type===Mi.OVERWRITE){const R=e;R.source.fromUser?g=zm(n,t,R.path,R.snap,s,a,d):((0,N.hu)(R.source.fromServer,"Unknown source."),E=R.source.tagged||t.serverCache.isFiltered()&&!Nt(R.path),g=Sp(n,t,R.path,R.snap,s,a,E,d))}else if(e.type===Mi.MERGE){const R=e;R.source.fromUser?g=function Gv(n,t,e,s,a,d,g){let E=t;return s.foreach((w,R)=>{const k=cn(e,w);xh(t,Ot(k))&&(E=zm(n,E,k,R,a,d,g))}),s.foreach((w,R)=>{const k=cn(e,w);xh(t,Ot(k))||(E=zm(n,E,k,R,a,d,g))}),E}(n,t,R.path,R.children,s,a,d):((0,N.hu)(R.source.fromServer,"Unknown source."),E=R.source.tagged||t.serverCache.isFiltered(),g=Tp(n,t,R.path,R.children,s,a,E,d))}else if(e.type===Mi.ACK_USER_WRITE){const R=e;g=R.revert?function Fh(n,t,e,s,a,d){let g;if(null!=fn(s,e))return t;{const E=new bp(s,t,a),w=t.eventCache.getNode();let R;if(Nt(e)||".priority"===Ot(e)){let k;if(t.serverCache.isFullyInitialized())k=Ip(s,Ou(t));else{const H=t.serverCache.getNode();(0,N.hu)(H instanceof Tt,"serverChildren would be complete if leaf node"),k=Xc(s,H)}R=n.filter.updateFullNode(w,k,d)}else{const k=Ot(e);let H=wp(s,k,t.serverCache);null==H&&t.serverCache.isCompleteForChild(k)&&(H=w.getImmediateChild(k)),R=null!=H?n.filter.updateChild(w,k,H,Zt(e),E,d):t.eventCache.getNode().hasChild(k)?n.filter.updateChild(w,k,Tt.EMPTY_NODE,Zt(e),E,d):w,R.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=Ip(s,Ou(t)),g.isLeafNode()&&(R=n.filter.updateFullNode(R,g,d)))}return g=t.serverCache.isFullyInitialized()||null!=fn(s,Bt()),Rh(t,R,g,n.filter.filtersNodes())}}(n,t,R.path,s,a,d):function dD(n,t,e,s,a,d,g){if(null!=fn(a,e))return t;const E=t.serverCache.isFiltered(),w=t.serverCache;if(null!=s.value){if(Nt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return Sp(n,t,e,w.getNode().getChild(e),a,d,E,g);if(Nt(e)){let R=new dn(null);return w.getNode().forEachChild(Ss,(k,H)=>{R=R.set(new Wt(k),H)}),Tp(n,t,e,R,a,d,E,g)}return t}{let R=new dn(null);return s.foreach((k,H)=>{const J=cn(e,k);w.isCompleteForPath(J)&&(R=R.set(k,w.getNode().getChild(J)))}),Tp(n,t,e,R,a,d,E,g)}}(n,t,R.path,R.affectedTree,s,a,d)}else{if(e.type!==Mi.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);g=function kh(n,t,e,s,a){const d=t.serverCache;return $v(n,Uv(t,d.getNode(),d.isFullyInitialized()||Nt(e),d.isFiltered()),e,s,Wm,a)}(n,t,e.path,s,d)}const w=d.getChanges();return function Nh(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=vp(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(K0(vp(t)))}}(t,g,w),{viewCache:g,changes:w}}(n.processor_,a,t,e,s);return function uD(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,N.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,Kv(n,d.changes,d.viewCache.eventCache.getNode(),null)}function Kv(n,t,e,s){return function X0(n,t,e,s){const a=[],d=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function q0(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Mh(n,a,"child_removed",t,s,e),Mh(n,a,"child_added",t,s,e),Mh(n,a,"child_moved",d,s,e),Mh(n,a,"child_changed",t,s,e),Mh(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let Ym,Ap;class mD{constructor(){this.views=new Map}}function ed(n,t,e,s){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,N.hu)(null!=d,"SyncTree gave us an op for an invalid query."),qm(d,t,e,s)}{let d=[];for(const g of n.views.values())d=d.concat(qm(g,t,e,s));return d}}function Yv(n,t,e,s,a){const g=n.views.get(t._queryIdentifier);if(!g){let E=Ip(e,a?s:null),w=!1;E?w=!0:s instanceof Tt?(E=Xc(e,s),w=!1):(E=Tt.EMPTY_NODE,w=!1);const R=yp(new ul(E,w,!1),new ul(s,a,!1));return new hD(t,R)}return g}function td(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function dl(n,t){let e=null;for(const s of n.views.values())e=e||Wv(s,t);return e}function Jv(n,t){return t._queryParams.loadsAllData()?Qm(n):n.views.get(t._queryIdentifier)}function Xv(n,t){return null!=Jv(n,t)}function hl(n){return null!=Qm(n)}function Qm(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let vD=1;class nd{constructor(t){this.listenProvider_=t,this.syncPointTree_=new dn(null),this.pendingWriteTree_=function Jc(){return{visibleWrites:As.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jm(n,t,e,s,a){return function xu(n,t,e,s,a){(0,N.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=Yc(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?sd(n,new Pu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function fl(n,t,e=!1){const s=function iD(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function Qc(n,t){const e=n.allWrites.findIndex(E=>E.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,d=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const E=n.allWrites[g];E.visible&&(g>=e&&_w(E,s.path)?a=!1:Ai(s.path,E.path)&&(d=!0)),g--}return!!a&&(d?(function jm(n){n.visibleWrites=Hm(n.allWrites,yw,Bt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=Vm(n.visibleWrites,s.path):Ln(s.children,w=>{n.visibleWrites=Vm(n.visibleWrites,cn(s.path,w))}),!0))}(n.pendingWriteTree_,t)){let d=new dn(null);return null!=s.snap?d=d.set(Bt(),!0):Ln(s.children,g=>{d=d.set(new Wt(g),!0)}),sd(n,new Th(s.path,d,e))}return[]}function rd(n,t,e){return sd(n,new Pu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function id(n,t,e,s,a=!1){const d=t._path,g=n.syncPointTree_.get(d);let E=[];if(g&&("default"===t._queryIdentifier||Xv(g,t))){const w=function Qv(n,t,e,s){const a=t._queryIdentifier,d=[];let g=[];const E=hl(n);if("default"===a)for(const[w,R]of n.views.entries())g=g.concat(Zv(R,e,s)),Km(R)&&(n.views.delete(w),R.query._queryParams.loadsAllData()||d.push(R.query));else{const w=n.views.get(a);w&&(g=g.concat(Zv(w,e,s)),Km(w)&&(n.views.delete(a),w.query._queryParams.loadsAllData()||d.push(w.query)))}return E&&!hl(n)&&d.push(new(function Dw(){return(0,N.hu)(Ym,"Reference.ts has not been loaded"),Ym}())(t._repo,t._path)),{removed:d,events:g}}(g,t,e,s);(function qv(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const R=w.removed;if(E=w.events,!a){const k=-1!==R.findIndex(J=>J._queryParams.loadsAllData()),H=n.syncPointTree_.findOnPath(d,(J,we)=>hl(we));if(k&&!H){const J=n.syncPointTree_.subtree(d);if(!J.isEmpty()){const we=function ID(n){return n.fold((t,e,s)=>{if(e&&hl(e))return[Qm(e)];{let a=[];return e&&(a=td(e)),Ln(s,(d,g)=>{a=a.concat(g)}),a}})}(J);for(let Fe=0;Fe<we.length;++Fe){const ut=we[Fe],bt=ut.query,Tn=Xm(n,ut);n.listenProvider_.startListening(Vh(bt),Lh(n,bt),Tn.hashFn,Tn.onComplete)}}}!H&&R.length>0&&!s&&(k?n.listenProvider_.stopListening(Vh(t),null):R.forEach(J=>{const we=n.queryToTagMap.get(Op(J));n.listenProvider_.stopListening(Vh(J),we)}))}!function wD(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=Op(s),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,R)}return E}function rE(n,t,e,s){const a=e_(n,s);if(null!=a){const d=t_(a),g=d.path,E=d.queryId,w=_r(g,t);return n_(n,g,new Pu(_p(E),w,e))}return[]}function Mp(n,t,e,s=!1){const a=t._path;let d=null,g=!1;n.syncPointTree_.foreachOnPath(a,(J,we)=>{const Fe=_r(J,a);d=d||dl(we,Fe),g=g||hl(we)});let w,E=n.syncPointTree_.get(a);E?(g=g||hl(E),d=d||dl(E,Bt())):(E=new mD,n.syncPointTree_=n.syncPointTree_.set(a,E)),null!=d?w=!0:(w=!1,d=Tt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((we,Fe)=>{const ut=dl(Fe,Bt());ut&&(d=d.updateImmediateChild(we,ut))}));const R=Xv(E,t);if(!R&&!t._queryParams.loadsAllData()){const J=Op(t);(0,N.hu)(!n.queryToTagMap.has(J),"View does not exist, but we have a tag");const we=function oE(){return vD++}();n.queryToTagMap.set(J,we),n.tagToQueryMap.set(we,J)}let H=function _D(n,t,e,s,a,d){const g=Yv(n,t,s,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function zv(n,t){n.eventRegistrations_.push(t)}(g,e),function gD(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(tn,(d,g)=>{s.push(Mu(d,g))}),e.isFullyInitialized()&&s.push(K0(e.getNode())),Kv(n,s,e.getNode(),t)}(g,e)}(E,t,e,Ph(n.pendingWriteTree_,a),d,w);if(!R&&!g&&!s){const J=Jv(E,t);H=H.concat(function aE(n,t,e){const s=t._path,a=Lh(n,t),d=Xm(n,e),g=n.listenProvider_.startListening(Vh(t),a,d.hashFn,d.onComplete),E=n.syncPointTree_.subtree(s);if(a)(0,N.hu)(!hl(E.value),"If we're adding a query, it shouldn't be shadowed");else{const w=E.fold((R,k,H)=>{if(!Nt(R)&&k&&hl(k))return[Qm(k).query];{let J=[];return k&&(J=J.concat(td(k).map(we=>we.query))),Ln(H,(we,Fe)=>{J=J.concat(Fe)}),J}});for(let R=0;R<w.length;++R){const k=w[R];n.listenProvider_.stopListening(Vh(k),Lh(n,k))}}return g}(n,t,J))}return H}function Rp(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(g,E)=>{const R=dl(E,_r(g,t));if(R)return R});return $m(a,t,d,e,!0)}function sd(n,t){return Pp(t,n.syncPointTree_,null,Ph(n.pendingWriteTree_,Bt()))}function Pp(n,t,e,s){if(Nt(n.path))return sE(n,t,e,s);{const a=t.get(Bt());null==e&&null!=a&&(e=dl(a,Bt()));let d=[];const g=Ot(n.path),E=n.operationForChild(g),w=t.children.get(g);if(w&&E){const R=e?e.getImmediateChild(g):null,k=Gm(s,g);d=d.concat(Pp(E,w,R,k))}return a&&(d=d.concat(ed(a,n,s,e))),d}}function sE(n,t,e,s){const a=t.get(Bt());null==e&&null!=a&&(e=dl(a,Bt()));let d=[];return t.children.inorderTraversal((g,E)=>{const w=e?e.getImmediateChild(g):null,R=Gm(s,g),k=n.operationForChild(g);k&&(d=d.concat(sE(k,E,w,R)))}),a&&(d=d.concat(ed(a,n,s,e))),d}function Xm(n,t){const e=t.query,s=Lh(n,e);return{hashFn:()=>(function fD(n){return n.viewCache_.serverCache.getNode()}(t)||Tt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function CD(n,t,e){const s=e_(n,e);if(s){const a=t_(s),d=a.path,g=a.queryId,E=_r(d,t);return n_(n,d,new Ah(_p(g),E))}return[]}(n,e._path,s):function nE(n,t){return sd(n,new Ah({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function pw(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return id(n,e,null,d)}}}}function Lh(n,t){const e=Op(t);return n.queryToTagMap.get(e)}function Op(n){return n._path.toString()+"$"+n._queryIdentifier}function e_(n,t){return n.tagToQueryMap.get(t)}function t_(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Wt(n.substr(0,t))}}function n_(n,t,e){const s=n.syncPointTree_.get(t);return(0,N.hu)(s,"Missing sync point for query tag that we're tracking"),ed(s,e,Ph(n.pendingWriteTree_,t),null)}function Vh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function yD(){return(0,N.hu)(Ap,"Reference.ts has not been loaded"),Ap}())(n._repo,n._path):n}class r_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new r_(e)}node(){return this.node_}}class i_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=cn(this.path_,t);return new i_(this.syncTree_,e)}node(){return Rp(this.syncTree_,this.path_)}}const uE=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?bD(n[".sv"],t,e):"object"==typeof n[".sv"]?SD(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},bD=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},SD=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,N.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,N.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},Np=function(n,t,e,s){return xp(t,new i_(e,n),s)},Uh=function(n,t,e){return xp(n,new r_(t),e)};function xp(n,t,e){const s=n.getPriority().val(),a=uE(s,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const g=n,E=uE(g.getValue(),t,e);return E!==g.getValue()||a!==g.getPriority().val()?new Zc(E,Dn(a)):n}{const g=n;return d=g,a!==g.getPriority().val()&&(d=d.updatePriority(new Zc(a))),g.forEachChild(tn,(E,w)=>{const R=xp(w,t.getImmediateChild(E),e);R!==w&&(d=d.updateImmediateChild(E,R))}),d}}class Bh{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function kp(n,t){let e=t instanceof Wt?t:new Wt(t),s=n,a=Ot(e);for(;null!==a;){const d=(0,N.DV)(s.node.children,a)||{children:{},childCount:0};s=new Bh(a,s,d),e=Zt(e),a=Ot(e)}return s}function ku(n){return n.node.value}function jh(n,t){n.node.value=t,Lp(n)}function cE(n){return n.node.childCount>0}function ta(n,t){Ln(n.node.children,(e,s)=>{t(new Bh(e,n,s))})}function s_(n,t,e,s){e&&!s&&t(n),ta(n,a=>{s_(a,t,!0,s)}),e&&s&&t(n)}function Fp(n){return new Wt(null===n.parent?n.name:Fp(n.parent)+"/"+n.name)}function Lp(n){null!==n.parent&&function o_(n,t,e){const s=function dE(n){return void 0===ku(n)&&!cE(n)}(e),a=(0,N.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,Lp(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Lp(n))}(n.parent,n.name,n)}const AD=/[\[\].#$\/\u0000-\u001F\u007F]/,a_=/[\[\].#$\u0000-\u001F\u007F]/,l_=10485760,Hh=function(n){return"string"==typeof n&&0!==n.length&&!AD.test(n)},Vp=function(n){return"string"==typeof n&&0!==n.length&&!a_.test(n)},od=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!tp(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Ms=function(n,t,e,s){s&&void 0===t||ad((0,N.gK)(n,"value"),t,e)},ad=function(n,t,e){const s=e instanceof Wt?new Im(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+sl(s));if("function"==typeof t)throw new Error(n+"contains a function "+sl(s)+" with contents = "+t.toString());if(tp(t))throw new Error(n+"contains "+t.toString()+" "+sl(s));if("string"==typeof t&&t.length>l_/3&&(0,N.ug)(t)>l_)throw new Error(n+"contains a string greater than "+l_+" utf8 bytes "+sl(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(Ln(t,(g,E)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!Hh(g)))throw new Error(n+" contains an invalid key ("+g+") "+sl(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bv(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),sp(n)})(s,g),ad(n,E,s),function Sv(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&d)throw new Error(n+' contains ".value" child '+sl(s)+" in addition to actual children.")}},fE=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];Ln(t,(g,E)=>{const w=new Wt(g);if(ad(a,E,cn(e,w)),".priority"===vh(w)&&!od(E))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(w)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const d=il(s);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!Hh(d[g]))throw new Error(n+"contains an invalid key ("+d[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Dm);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&Ai(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,d)},u_=function(n,t,e){if(!e||void 0!==t){if(tp(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!od(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$h=function(n,t,e,s){if(!(s&&void 0===e||Hh(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ld=function(n,t,e,s){if(!(s&&void 0===e||Vp(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ri=function(n,t){if(".info"===Ot(t))throw new Error(n+" failed = Can't modify data under /.info/")},pE=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Hh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vp(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class RD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function c_(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],d=a.getPath();null!==e&&!ip(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function gE(n,t,e){c_(n,e),d_(n,s=>ip(s,t))}function Pi(n,t,e){c_(n,e),d_(n,s=>Ai(s,t)||Ai(t,s))}function d_(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(mE(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function mE(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();qo&&ir("event: "+e.toString()),Xa(s)}}}const _E="repo_interrupt";class OD{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sh(),this.transactionQueueTree_=new Bh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yE(n){const e=n.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:yE(n)})}function vE(n,t,e,s,a){n.dataUpdateCount++;const d=new Wt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(s){const w=(0,N.UI)(e,R=>Dn(R));g=function iE(n,t,e,s){const a=e_(n,s);if(a){const d=t_(a),g=d.path,E=d.queryId,w=_r(g,t),R=dn.fromObject(e);return n_(n,g,new qc(_p(E),w,R))}return[]}(n.serverSyncTree_,d,w,a)}else{const w=Dn(e);g=rE(n.serverSyncTree_,d,w,a)}else if(s){const w=(0,N.UI)(e,R=>Dn(R));g=function ED(n,t,e){const s=dn.fromObject(e);return sd(n,new qc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,d,w)}else{const w=Dn(e);g=rd(n.serverSyncTree_,d,w)}let E=d;g.length>0&&(E=dd(n,d)),Pi(n.eventQueue_,E,g)}function EE(n,t){Up(n,"connected",t),!1===t&&function xD(n){ud(n,"onDisconnectEvents");const t=Gh(n),e=Sh();fp(n.onDisconnect_,Bt(),(a,d)=>{const g=Np(a,d,n.serverSyncTree_,t);Xo(e,a,g)});let s=[];fp(e,Bt(),(a,d)=>{s=s.concat(rd(n.serverSyncTree_,a,d));const g=p_(n,a);dd(n,g)}),n.onDisconnect_=Sh(),Pi(n.eventQueue_,Bt(),s)}(n)}function Up(n,t,e){const s=new Wt("/.info/"+t),a=Dn(e);n.infoData_.updateSnapshot(s,a);const d=rd(n.infoSyncTree_,s,a);Pi(n.eventQueue_,s,d)}function zh(n){return n.nextWriteId_++}function Bp(n,t,e,s,a){ud(n,"set",{path:t.toString(),value:e,priority:s});const d=Gh(n),g=Dn(e,s),E=Rp(n.serverSyncTree_,t),w=Uh(g,E,d),R=zh(n),k=Jm(n.serverSyncTree_,t,w,R,!0);c_(n.eventQueue_,k),n.server_.put(t.toString(),g.val(!0),(J,we)=>{const Fe="ok"===J;Fe||sr("set at "+t+" failed: "+J);const ut=fl(n.serverSyncTree_,R,!Fe);Pi(n.eventQueue_,t,ut),lo(0,a,J,we)});const H=p_(n,t);dd(n,H),Pi(n.eventQueue_,H,[])}function kD(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&xm(n.onDisconnect_,t),lo(0,e,s,a)})}function FD(n,t,e,s){const a=Dn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,g)=>{"ok"===d&&Xo(n.onDisconnect_,t,a),lo(0,s,d,g)})}function h_(n,t,e){let s;s=".info"===Ot(t._path)?id(n.infoSyncTree_,t,e):id(n.serverSyncTree_,t,e),gE(n.eventQueue_,t._path,s)}function IE(n){n.persistentConnection_&&n.persistentConnection_.interrupt(_E)}function ud(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ir(e,...t)}function lo(n,t,e,s){t&&Xa(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;s&&(d+=": "+s);const g=new Error(d);g.code=a,t(g)}})}function f_(n,t,e){return Rp(n.serverSyncTree_,t,e)||Tt.EMPTY_NODE}function cd(n,t=n.transactionQueueTree_){if(t||jp(n,t),ku(t)){const e=qh(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function Kh(n,t,e){const s=e.map(R=>R.currentWriteId),a=f_(n,t,s);let d=a;const g=a.hash();for(let R=0;R<e.length;R++){const k=e[R];(0,N.hu)(0===k.status,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const H=_r(t,k.path);d=d.updateChild(H,k.currentOutputSnapshotRaw)}const E=d.val(!0),w=t;n.server_.put(w.toString(),E,R=>{ud(n,"transaction put response",{path:w.toString(),status:R});let k=[];if("ok"===R){const H=[];for(let J=0;J<e.length;J++)e[J].status=2,k=k.concat(fl(n.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&H.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();jp(n,kp(n.transactionQueueTree_,t)),cd(n,n.transactionQueueTree_),Pi(n.eventQueue_,t,k);for(let J=0;J<H.length;J++)Xa(H[J])}else{if("datastale"===R)for(let H=0;H<e.length;H++)e[H].status=3===e[H].status?4:0;else{sr("transaction at "+w.toString()+" failed: "+R);for(let H=0;H<e.length;H++)e[H].status=4,e[H].abortReason=R}dd(n,t)}},g)}(n,Fp(t),e)}else cE(t)&&ta(t,e=>{cd(n,e)})}function dd(n,t){const e=wE(n,t),s=Fp(e);return function BD(n,t,e){if(0===t.length)return;const s=[];let a=[];const g=t.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<t.length;E++){const w=t[E],R=_r(e,w.path);let H,k=!1;if((0,N.hu)(null!==R,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)k=!0,H=w.abortReason,a=a.concat(fl(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)k=!0,H="maxretry",a=a.concat(fl(n.serverSyncTree_,w.currentWriteId,!0));else{const J=f_(n,w.path,g);w.currentInputSnapshot=J;const we=t[E].update(J.val());if(void 0!==we){ad("transaction failed: Data returned ",we,w.path);let Fe=Dn(we);"object"==typeof we&&null!=we&&(0,N.r3)(we,".priority")||(Fe=Fe.updatePriority(J.getPriority()));const bt=w.currentWriteId,Tn=Gh(n),yn=Uh(Fe,J,Tn);w.currentOutputSnapshotRaw=Fe,w.currentOutputSnapshotResolved=yn,w.currentWriteId=zh(n),g.splice(g.indexOf(bt),1),a=a.concat(Jm(n.serverSyncTree_,w.path,yn,w.currentWriteId,w.applyLocally)),a=a.concat(fl(n.serverSyncTree_,bt,!0))}else k=!0,H="nodata",a=a.concat(fl(n.serverSyncTree_,w.currentWriteId,!0))}Pi(n.eventQueue_,e,a),a=[],k&&(t[E].status=2,setTimeout(t[E].unwatcher,Math.floor(0)),t[E].onComplete&&s.push("nodata"===H?()=>t[E].onComplete(null,!1,t[E].currentInputSnapshot):()=>t[E].onComplete(new Error(H),!1,null)))}jp(n,n.transactionQueueTree_);for(let E=0;E<s.length;E++)Xa(s[E]);cd(n,n.transactionQueueTree_)}(n,qh(n,e),s),s}function wE(n,t){let e,s=n.transactionQueueTree_;for(e=Ot(t);null!==e&&void 0===ku(s);)s=kp(s,e),e=Ot(t=Zt(t));return s}function qh(n,t){const e=[];return Yh(n,t,e),e.sort((s,a)=>s.order-a.order),e}function Yh(n,t,e){const s=ku(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);ta(t,a=>{Yh(n,a,e)})}function jp(n,t){const e=ku(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,jh(t,e.length>0?e:void 0)}ta(t,s=>{jp(n,s)})}function p_(n,t){const e=Fp(wE(n,t)),s=kp(n.transactionQueueTree_,t);return function TD(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{Hp(n,a)}),Hp(n,s),s_(s,a=>{Hp(n,a)}),e}function Hp(n,t){const e=ku(t);if(e){const s=[];let a=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,N.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,N.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(fl(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?jh(t,void 0):e.length=d+1,Pi(n.eventQueue_,Fp(t),a);for(let g=0;g<s.length;g++)Xa(s[g])}}const $p=function(n,t){const e=m_(n),s=e.namespace;return"firebase.com"===e.domain&&Yn(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new um(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new Wt(e.pathString)}},m_=function(n){let t="",e="",s="",a="",d="",g=!0,E="https",w=443;if("string"==typeof n){let R=n.indexOf("//");R>=0&&(E=n.substring(0,R-1),n=n.substring(R+2));let k=n.indexOf("/");-1===k&&(k=n.length);let H=n.indexOf("?");-1===H&&(H=n.length),t=n.substring(0,Math.min(k,H)),k<H&&(a=function bE(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(k,H)));const J=function g_(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):sr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,H)));R=t.indexOf(":"),R>=0?(g="https"===E||"wss"===E,w=parseInt(t.substring(R+1),10)):R=t.length;const we=t.slice(0,R);if("localhost"===we.toLowerCase())e="localhost";else if(we.split(".").length<=2)e=we;else{const Fe=t.indexOf(".");s=t.substring(0,Fe).toLowerCase(),e=t.substring(Fe+1),d=s}"ns"in J&&(d=J.ns)}return{host:t,port:w,domain:e,subdomain:s,secure:g,scheme:E,pathString:a,namespace:d}},Gp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",SE=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=Gp.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Gp.charAt(t[a]);return(0,N.hu)(20===g.length,"nextPushId: Length should be 20."),g}}();class Wp{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class zp{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class __{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class TE{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return kD(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ri("OnDisconnect.remove",this._path);const t=new N.BH;return FD(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ri("OnDisconnect.set",this._path),Ms("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return FD(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ri("OnDisconnect.setWithPriority",this._path),Ms("OnDisconnect.setWithPriority",t,this._path,!1),u_("OnDisconnect.setWithPriority",e,!1);const s=new N.BH;return function LD(n,t,e,s,a){const d=Dn(e,s);n.server_.onDisconnectPut(t.toString(),d.val(!0),(g,E)=>{"ok"===g&&Xo(n.onDisconnect_,t,d),lo(0,a,g,E)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){Ri("OnDisconnect.update",this._path),fE("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function VD(n,t,e,s){if((0,N.xb)(e))return ir("onDisconnect().update() called with empty data.  Don't do anything."),void lo(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&Ln(e,(g,E)=>{const w=Dn(E);Xo(n.onDisconnect_,cn(t,g),w)}),lo(0,s,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ui{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Nt(this._path)?null:vh(this._path)}get ref(){return new Oi(this._repo,this._path)}get _queryIdentifier(){const t=Nm(this._queryParams),e=im(t);return"{}"===e?"default":e}get _queryObject(){return Nm(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof ui))return!1;const e=this._repo===t._repo,s=ip(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function V0(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Zp(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function na(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ss){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ja)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Yo)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===tn){if(null!=t&&!od(t)||null!=e&&!od(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof cp||n.getIndex()===dp,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hd(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Oi extends ui{constructor(t,e){super(t,e,new li,!1)}get parent(){const t=Eh(this._path);return null===t?null:new Oi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Fu{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Wt(t),s=Lu(this.ref,t);return new Fu(this._node.getChild(e),s,tn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new Fu(a,Lu(this.ref,s),tn)))}hasChild(t){const e=new Wt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function y_(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?Lu(n._root,t):n._root}function v_(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=$p(t,n._repo.repoInfo_.nodeAdmin);pE("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Yn("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),y_(n,e.path.toString())}function Lu(n,t){return null===Ot((n=(0,N.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ld("child","path",e,!1)):ld("child","path",t,!1),new Oi(n._repo,cn(n._path,t));var e}function Kp(n,t){n=(0,N.m9)(n),Ri("set",n._path),Ms("set",t,n._path,!1);const e=new N.BH;return Bp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function fd(n,t){fE("update",t,n._path,!1);const e=new N.BH;return function DE(n,t,e,s){ud(n,"update",{path:t.toString(),value:e});let a=!0;const d=Gh(n),g={};if(Ln(e,(E,w)=>{a=!1,g[E]=Np(cn(t,E),Dn(w),n.serverSyncTree_,d)}),a)ir("update() called with empty data.  Don't do anything."),lo(0,s,"ok",void 0);else{const E=zh(n),w=function tE(n,t,e,s){!function rD(n,t,e,s){(0,N.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Ep(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=dn.fromObject(e);return sd(n,new qc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,E);c_(n.eventQueue_,w),n.server_.merge(t.toString(),e,(R,k)=>{const H="ok"===R;H||sr("update at "+t+" failed: "+R);const J=fl(n.serverSyncTree_,E,!H),we=J.length>0?dd(n,t):t;Pi(n.eventQueue_,we,J),lo(0,s,R,k)}),Ln(e,R=>{const k=p_(n,cn(t,R));dd(n,k)}),Pi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function GD(n){n=(0,N.m9)(n);const t=new __(()=>{}),e=new Qh(t);return function CE(n,t,e){const s=function DD(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(R,k)=>{const H=_r(R,e);s=s||dl(k,H)});let a=n.syncPointTree_.get(e);a?s=s||dl(a,Bt()):(a=new mD,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=s,g=d?new ul(s,!0,!1):null;return function pD(n){return vp(n.viewCache_)}(Yv(a,t,Ph(n.pendingWriteTree_,t._path),d?g.getNode():Tt.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(a=>{const d=Dn(a).withIndex(t._queryParams.getIndex());let g;if(Mp(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=rd(n.serverSyncTree_,t._path,d);else{const E=Lh(n.serverSyncTree_,t);g=rE(n.serverSyncTree_,t._path,d,E)}return Pi(n.eventQueue_,t._path,g),id(n.serverSyncTree_,t,e,null,!0),d},a=>(ud(n,"get for query "+(0,N.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(s=>new Fu(s,new Oi(n._repo,n._path),n._queryParams.getIndex()))}class Qh{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new Wp("value",this,new Fu(t.snapshotNode,new Oi(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new zp(this,t,e):null}matches(t){return t instanceof Qh&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class E_{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new zp(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const s=Lu(new Oi(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Wp(t.type,this,new Fu(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof E_&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function qp(n,t,e,s,a){let d;if("object"==typeof s&&(d=void 0,a=s),"function"==typeof s&&(d=s),a&&a.onlyOnce){const w=e,R=(k,H)=>{h_(n._repo,n,E),w(k,H)};R.userCallback=e.userCallback,R.context=e.context,e=R}const g=new __(e,d||void 0),E="value"===t?new Qh(g):new E_(t,g);return function UD(n,t,e){let s;s=".info"===Ot(t._path)?Mp(n.infoSyncTree_,t,e):Mp(n.serverSyncTree_,t,e),gE(n.eventQueue_,t._path,s)}(n._repo,n,E),()=>h_(n._repo,n,E)}function Yp(n,t,e,s){return qp(n,"value",t,e,s)}function C_(n,t,e,s){return qp(n,"child_added",t,e,s)}function pd(n,t,e,s){return qp(n,"child_changed",t,e,s)}function ME(n,t,e,s){return qp(n,"child_moved",t,e,s)}function Qp(n,t,e,s){return qp(n,"child_removed",t,e,s)}function RE(n,t,e){let s=null;const a=e?new __(e):null;"value"===t?s=new Qh(a):t&&(s=new E_(t,a)),h_(n._repo,n,s)}class Xi{}class PE extends Xi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ms("endAt",this._value,t._path,!0);const e=Pm(t._queryParams,this._value,this._key);if(hd(e),na(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ui(t._repo,t._path,e,t._orderByCalled)}}class zD extends Xi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ms("endBefore",this._value,t._path,!1);const e=function Om(n,t,e){let s;return s=Pm(n,t,n.index_===Ss||e?e:Ja),s.endBeforeSet_=!0,s}(t._queryParams,this._value,this._key);if(hd(e),na(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ui(t._repo,t._path,e,t._orderByCalled)}}class I_ extends Xi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ms("startAt",this._value,t._path,!0);const e=Rm(t._queryParams,this._value,this._key);if(hd(e),na(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ui(t._repo,t._path,e,t._orderByCalled)}}class Jp extends Xi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ms("startAfter",this._value,t._path,!1);const e=function Q0(n,t,e){let s;return s=Rm(n,t,n.index_===Ss||e?e:Yo),s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(hd(e),na(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ui(t._repo,t._path,e,t._orderByCalled)}}class ww extends Xi{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ui(t._repo,t._path,function Nv(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class ZD extends Xi{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ui(t._repo,t._path,function Y0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class gd extends Xi{constructor(t){super(),this._path=t}_apply(t){Zp(t,"orderByChild");const e=new Wt(this._path);if(Nt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new cp(e),a=ll(t._queryParams,s);return na(a),new ui(t._repo,t._path,a,!0)}}class kE extends Xi{_apply(t){Zp(t,"orderByKey");const e=ll(t._queryParams,Ss);return na(e),new ui(t._repo,t._path,e,!0)}}class bw extends Xi{_apply(t){Zp(t,"orderByPriority");const e=ll(t._queryParams,tn);return na(e),new ui(t._repo,t._path,e,!0)}}class Sw extends Xi{_apply(t){Zp(t,"orderByValue");const e=ll(t._queryParams,dp);return na(e),new ui(t._repo,t._path,e,!0)}}class QD extends Xi{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ms("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new PE(this._value,this._key)._apply(new I_(this._value,this._key)._apply(t))}}function es(n,...t){let e=(0,N.m9)(n);for(const s of t)e=s._apply(e);return e}(function Cw(n){(0,N.hu)(!Ym,"__referenceConstructor has already been defined"),Ym=n})(Oi),function eE(n){(0,N.hu)(!Ap,"__referenceConstructor has already been defined"),Ap=n}(Oi);const S_={};function VE(n,t,e,s,a){let d=s||n.options.databaseURL;void 0===d&&(n.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ir("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,R,g=$p(d,a),E=g.repoInfo;typeof process<"u"&&process.env&&(R=process.env.FIREBASE_DATABASE_EMULATOR_HOST),R?(w=!0,d=`http://${R}?ns=${E.namespace}`,g=$p(d,a),E=g.repoInfo):w=!g.repoInfo.secure;const k=a&&w?new hh(hh.OWNER):new dh(n.name,n.options,t);pE("Invalid Firebase Database URL",g),Nt(g.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");const H=function UE(n,t,e,s){let a=S_[t.name];a||(a={},S_[t.name]=a);let d=a[n.toURLString()];return d&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new OD(n,false,e,s),a[n.toURLString()]=d,d}(E,n,k,new np(n.name,e));return new BE(H,n)}class BE{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ND(n,t,e){if(n.stats_=gh(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new hp(n.repoInfo_,(s,a,d,g)=>{vE(n,s,a,d,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>EE(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new ol(n.repoInfo_,t,(s,a,d,g)=>{vE(n,s,a,d,g)},s=>{EE(n,s)},s=>{!function Wh(n,t){Ln(t,(e,s)=>{Up(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function M0(n,t){const e=n.toString();return cm[e]||(cm[e]=t()),cm[e]}(n.repoInfo_,()=>new Vv(n.stats_,n.server_)),n.infoData_=new kv,n.infoSyncTree_=new nd({startListening:(s,a,d,g)=>{let E=[];const w=n.infoData_.getNode(s._path);return w.isEmpty()||(E=rd(n.infoSyncTree_,s._path,w),setTimeout(()=>{g("ok")},0)),E},stopListening:()=>{}}),Up(n,"connected",!1),n.serverSyncTree_=new nd({startListening:(s,a,d,g)=>(n.server_.listen(s,d,a,(E,w)=>{const R=g(E,w);Pi(n.eventQueue_,s._path,R)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Oi(this._repo,Bt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function XD(n,t){const e=S_[t];(!e||e[n.key]!==n)&&Yn(`Database ${t}(${n.repoInfo_}) has already been deleted.`),IE(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Yn("Cannot call "+t+" on a deleted database.")}}function A_(){Ti.IS_TRANSPORT_INITIALIZED&&sr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function jE(){A_(),tl.forceDisallow()}function HE(){A_(),Jo.forceDisallow(),tl.forceAllow()}function Mw(n,t){av(n,t)}const Pw={".sv":"timestamp"};class xw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ol.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ol.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Rw(n){iv(Qa.SDK_VERSION),(0,Qa._registerComponent)(new Ya.wA("database",(t,{instanceIdentifier:e})=>VE(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Qa.registerVersion)(rv,"0.14.3",n),(0,Qa.registerVersion)(rv,"0.14.3","esm2017")}();const Xp=new Xf.Yd("@firebase/database-compat"),R_=function(n){Xp.warn("FIREBASE WARNING: "+n)};class P_{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),d=>s(d)),a}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,R_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class ZE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pl{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),ld("DataSnapshot.child","path",t,!1),new pl(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ld("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new pl(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new ts(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class or{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var d;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const g=or.getCancelAndContextArgs_("Query.on",s,a),E=(R,k)=>{e.call(g.context,new pl(this.database,R),k)};E.userCallback=e,E.context=g.context;const w=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(t){case"value":return Yp(this._delegate,E,w),e;case"child_added":return C_(this._delegate,E,w),e;case"child_removed":return Qp(this._delegate,E,w),e;case"child_changed":return pd(this._delegate,E,w),e;case"child_moved":return ME(this._delegate,E,w),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,RE(this._delegate,t,a)}else RE(this._delegate,t)}get(){return GD(this._delegate).then(t=>new pl(this.database,t))}once(t,e,s,a){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const d=or.getCancelAndContextArgs_("Query.once",s,a),g=new N.BH,E=(R,k)=>{const H=new pl(this.database,R);e&&e.call(d.context,H,k),g.resolve(H)};E.userCallback=e,E.context=d.context;const w=R=>{d.cancel&&d.cancel.call(d.context,R),g.reject(R)};switch(t){case"value":Yp(this._delegate,E,w,{onlyOnce:!0});break;case"child_added":C_(this._delegate,E,w,{onlyOnce:!0});break;case"child_removed":Qp(this._delegate,E,w,{onlyOnce:!0});break;case"child_changed":pd(this._delegate,E,w,{onlyOnce:!0});break;case"child_moved":ME(this._delegate,E,w,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new or(this.database,es(this._delegate,function NE(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ww(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new or(this.database,es(this._delegate,function xE(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ZD(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new or(this.database,es(this._delegate,function KD(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ld("orderByChild","path",n,!1),new gd(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new or(this.database,es(this._delegate,function b_(){return new kE}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new or(this.database,es(this._delegate,function qD(){return new bw}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new or(this.database,es(this._delegate,function YD(){return new Sw}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new or(this.database,es(this._delegate,function OE(n=null,t){return $h("startAt","key",t,!0),new I_(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new or(this.database,es(this._delegate,function w_(n,t){return $h("startAfter","key",t,!0),new Jp(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new or(this.database,es(this._delegate,function WD(n,t){return $h("endAt","key",t,!0),new PE(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new or(this.database,es(this._delegate,function D_(n,t){return $h("endBefore","key",t,!0),new zD(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new or(this.database,es(this._delegate,function JD(n,t){return $h("equalTo","key",t,!0),new QD(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof or))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,N.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,N.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new ts(this.database,new Oi(this._delegate._repo,this._delegate._path))}}class ts extends or{constructor(t,e){super(t,new ui(e._repo,e._path,new li,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ts(this.database,Lu(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ts(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new ts(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const s=Kp(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,R_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ri("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const s=fd(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function $r(n,t,e){if(Ri("setWithPriority",n._path),Ms("setWithPriority",t,n._path,!1),u_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new N.BH;return Bp(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),d=>s(d)),a}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function HD(n){return Ri("remove",n._path),Kp(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function kw(n,t,e){var s;if(n=(0,N.m9)(n),Ri("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=e?.applyLocally)||void 0===s||s,d=new N.BH,E=Yp(n,()=>{});return function uo(n,t,e,s,a,d){ud(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:tm(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},E=f_(n,t,void 0);g.currentInputSnapshot=E;const w=g.update(E.val());if(void 0===w)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{ad("transaction failed: Data returned ",w,g.path),g.status=0;const R=kp(n.transactionQueueTree_,t),k=ku(R)||[];let H;k.push(g),jh(R,k),"object"==typeof w&&null!==w&&(0,N.r3)(w,".priority")?(H=(0,N.DV)(w,".priority"),(0,N.hu)(od(H),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):H=(Rp(n.serverSyncTree_,t)||Tt.EMPTY_NODE).getPriority().val();const J=Gh(n),we=Dn(w,H),Fe=Uh(we,E,J);g.currentOutputSnapshotRaw=we,g.currentOutputSnapshotResolved=Fe,g.currentWriteId=zh(n);const ut=Jm(n.serverSyncTree_,t,Fe,g.currentWriteId,g.applyLocally);Pi(n.eventQueue_,t,ut),cd(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(w,R,k)=>{let H=null;w?d.reject(w):(H=new Fu(k,new Oi(n._repo,n._path),tn),d.resolve(new xw(R,H)))},E,a),d.promise}(this._delegate,t,{applyLocally:s}).then(d=>new ZE(d.committed,new pl(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const s=function $D(n,t){n=(0,N.m9)(n),Ri("setPriority",n._path),u_("setPriority",t,!1);const e=new N.BH;return Bp(n._repo,cn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const s=function AE(n,t){n=(0,N.m9)(n),Ri("push",n._path),Ms("push",t,n._path,!0);const e=yE(n._repo),s=SE(e),a=Lu(n,s),d=Lu(n,s);let g;return g=null!=t?Kp(d,t).then(()=>d):Promise.resolve(d),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=s.then(g=>new ts(this.database,g));e&&a.then(()=>e(null),g=>e(g));const d=new ts(this.database,s);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return Ri("Reference.onDisconnect",this._delegate._path),new P_(new TE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class eg{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:jE,forceLongPolling:HE}}useEmulator(t,e,s={}){!function $E(n,t,e,s={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Yn("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new hh(hh.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,N.Sg)(s.mockUserToken,n.app.options.projectId);d=new hh(g)}!function LE(n,t,e,s){n.repoInfo_=new um(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}(a,t,e,d)}(this._delegate,t,e,s)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof ts){const e=v_(this._delegate,t.toString());return new ts(this,e)}{const e=y_(this._delegate,t);return new ts(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const s=v_(this._delegate,t);return new ts(this,s)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function Aw(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),IE(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function GE(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function Zh(n){n.persistentConnection_&&n.persistentConnection_.resume(_E)}(n._repo)}(this._delegate)}}eg.ServerValue={TIMESTAMP:function Ow(){return Pw}(),increment:n=>function Nw(n){return{".sv":{increment:n}}}(n)};var nI=Object.freeze({__proto__:null,initStandalone:function tI({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:d=!1}){iv(e);const g=new Ya.zt("auth-internal",new Ya.H0("database-standalone"));return g.setComponent(new Ya.wA("auth-internal",()=>s,"PRIVATE")),{instance:new eg(VE(n,g,void 0,t,d),n),namespace:a}}});const tg=eg.ServerValue;!function rI(n){n.INTERNAL.registerComponent(new Ya.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new eg(a,s)},"PUBLIC").setServiceProps({Reference:ts,Query:or,Database:eg,DataSnapshot:pl,enableLogging:Mw,INTERNAL:nI,ServerValue:tg}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.3")}(b0.Z);var O_=O(5363),Vw=O(6063);class Uw extends Wi.x{constructor(t=1/0,e=1/0,s=Vw.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:g}=this;e||(s.push(t),!a&&s.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,d=a.slice();for(let g=0;g<d.length&&!t.closed;g+=s?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<s.length&&s.splice(0,s.length-d),!a){const g=e.now();let E=0;for(let w=1;w<s.length&&s[w]<=g;w+=2)E=w;E&&s.splice(0,E+1)}}}function KE(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=n??1/0,(0,Qf.B)({connector:()=>new Uw(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function qE(n,t){return(0,Ur.m)(t)?Fn(()=>n,t):Fn(()=>n)}var N_=O(9468);O(259);const x_=new Map,k_={activated:!1,tokenObservers:[]},eC={initialized:!1,enabled:!1};function yr(n){return x_.get(n)||Object.assign({},k_)}function rg(){return eC}class zw{constructor(t,e,s,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Du.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function cI(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Gr=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function L_(n){if(!yr(n).activated)throw Gr.create("use-before-activation",{appName:n.name})}function V_(n,t){return sg.apply(this,arguments)}function sg(){return(sg=(0,Du.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const H=yield a.getHeartbeatsHeader();H&&(s["X-Firebase-Client"]=H)}const d={method:"POST",body:JSON.stringify(t),headers:s};let g,E;try{g=yield fetch(n,d)}catch(H){throw Gr.create("fetch-network-error",{originalErrorMessage:H?.message})}if(200!==g.status)throw Gr.create("fetch-status-error",{httpStatus:g.status});try{E=yield g.json()}catch(H){throw Gr.create("fetch-parse-error",{originalErrorMessage:H?.message})}const w=E.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const R=1e3*Number(w[1]),k=Date.now();return{token:E.token,expireTimeMillis:k+R,issuedAtTimeMillis:k}})).apply(this,arguments)}function iC(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const md="firebase-app-check-store";let Vu=null;function ef(){return Vu||(Vu=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var a;t(Gr.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(md,{keyPath:"compositeKey"})}}catch(e){t(Gr.create("storage-open",{originalErrorMessage:e?.message}))}}),Vu)}function lC(){return(lC=(0,Du.Z)(function*(n,t){const s=(yield ef()).transaction(md,"readwrite"),d=s.objectStore(md).put({compositeKey:n,value:t});return new Promise((g,E)=>{d.onsuccess=w=>{g()},s.onerror=w=>{var R;E(Gr.create("storage-set",{originalErrorMessage:null===(R=w.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const tf=new Xf.Yd("@firebase/app-check");function dC(n,t){return(0,N.hl)()?function hI(n,t){return function pI(n,t){return lC.apply(this,arguments)}(function uC(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{tf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function fC(){return rg().enabled}function nf(){return $_.apply(this,arguments)}function $_(){return($_=(0,Du.Z)(function*(){const n=rg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pC={error:"UNKNOWN_ERROR"};function Uu(n){return N.US.encodeString(JSON.stringify(n),!1)}function rf(n){return sf.apply(this,arguments)}function sf(){return(sf=(0,Du.Z)(function*(n,t=!1){const e=n.app;L_(e);const s=yr(e);let d,a=s.token;if(a&&!uf(a)&&(s.token=void 0,a=void 0),!a){const w=yield s.cachedTokenPromise;w&&(uf(w)?a=w:yield dC(e,void 0))}if(!t&&a&&uf(a))return{token:a.token};let E,g=!1;if(fC()){s.exchangeTokenPromise||(s.exchangeTokenPromise=V_(iC(e,yield nf()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),g=!0);const w=yield s.exchangeTokenPromise;return yield dC(e,w),s.token=w,{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),g=!0),a=yield yr(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?tf.warn(w.message):tf.error(w),d=w}return a?d?E=uf(a)?{token:a.token,internalError:d}:mI(d):(E={token:a.token},s.token=a,yield dC(e,a)):E=mI(d),g&&lf(e,E),E})).apply(this,arguments)}function G_(n,t){const e=yr(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function og(n){const{app:t}=n,e=yr(t);let s=e.tokenRefresher;s||(s=function W_(n){const{app:t}=n;return new zw((0,Du.Z)(function*(){let s;if(s=yr(t).token?yield rf(n,!0):yield rf(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=yr(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function lf(n,t){const e=yr(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function uf(n){return n.expireTimeMillis-Date.now()>0}function mI(n){return{token:Uu(pC),error:n}}class Qw{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=yr(this.app);for(const e of t)G_(this.app,e.next);return Promise.resolve()}}const wI="app-check-internal";!function bI(){(0,Qa._registerComponent)(new Ya.wA("app-check",n=>function Jw(n,t){return new Qw(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(wI).initialize()})),(0,Qa._registerComponent)(new Ya.wA(wI,n=>function gC(n){return{getToken:t=>rf(n,t),addTokenListener:t=>function af(n,t,e,s){const{app:a}=n,d=yr(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:s,type:t}],d.token&&uf(d.token)){const E=d.token;Promise.resolve().then(()=>{e({token:E.token}),og(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>og(n))}(n,"INTERNAL",t),removeTokenListener:t=>G_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qa.registerVersion)("@firebase/app-check","0.6.3")}();class bC{constructor(){return(0,Yi.vb)("app-check")}}typeof window<"u"&&window,O(9260);const de=new f.OlP("angularfire2.auth.use-emulator"),Re=new f.OlP("angularfire2.auth.settings"),je=new f.OlP("angularfire2.auth.tenant-id"),qe=new f.OlP("angularfire2.auth.langugage-code"),ht=new f.OlP("angularfire2.auth.use-device-language"),be=new f.OlP("angularfire.auth.persistence"),Et=(n,t,e,s,a,d,g,E)=>(0,Si.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=t.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),s&&(w.tenantId=s),w.languageCode=a,d&&w.useDeviceLanguage(),g)for(const[R,k]of Object.entries(g))w.settings[R]=k;return E&&w.setPersistence(E),w},[e,s,a,d,g,E]);let pn=(()=>{class n{constructor(e,s,a,d,g,E,w,R,k,H,J,we){const Fe=new Wi.x,ut=et(void 0).pipe((0,O_.Q)(g.outsideAngular),Fn(()=>d.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,407)))),(0,T.U)(()=>(0,Si.on)(e,d,s)),(0,T.U)(bt=>Et(bt,d,E,R,k,H,w,J)),KE({bufferSize:1,refCount:!1}));if(function Tl(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{ut.pipe(Xs()).subscribe();const Tn=ut.pipe(Fn(An=>An.getRedirectResult().then(ho=>ho,()=>null)),Yi.iC,KE({bufferSize:1,refCount:!1})),yn=ut.pipe(Fn(An=>new zi.y(ho=>({unsubscribe:d.runOutsideAngular(()=>An.onAuthStateChanged(ff=>ho.next(ff),ff=>ho.error(ff),()=>ho.complete()))})))),Wr=ut.pipe(Fn(An=>new zi.y(ho=>({unsubscribe:d.runOutsideAngular(()=>An.onIdTokenChanged(ff=>ho.next(ff),ff=>ho.error(ff),()=>ho.complete()))}))));this.authState=Tn.pipe(qE(yn),(0,N_.R)(g.outsideAngular),(0,O_.Q)(g.insideAngular)),this.user=Tn.pipe(qE(Wr),(0,N_.R)(g.outsideAngular),(0,O_.Q)(g.insideAngular)),this.idToken=this.user.pipe(Fn(An=>An?(0,Vt.D)(An.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(Fn(An=>An?(0,Vt.D)(An.getIdTokenResult()):et(null))),this.credential=(0,Cu.T)(Tn,Fe,this.authState.pipe(wr(An=>!An))).pipe((0,T.U)(An=>An?.user?An:null),(0,N_.R)(g.outsideAngular),(0,O_.Q)(g.insideAngular))}return(0,Si.pX)(this,ut,d,{spy:{apply:(bt,Tn,yn)=>{(bt.startsWith("signIn")||bt.startsWith("createUser"))&&yn.then(Wr=>Fe.next(Wr))}}})}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Si.Dh),f.LFG(Si.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Yi.HU),f.LFG(de,8),f.LFG(Re,8),f.LFG(je,8),f.LFG(qe,8),f.LFG(ht,8),f.LFG(be,8),f.LFG(bC,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function ib(n){return null==n}function sb(n){return"function"==typeof n.set}function ob(n,t){return sb(t)?t:n.ref(t)}function ab(n,t){if(function rb(n){return"string"==typeof n}(n))return t.stringCase();if(sb(n))return t.firebaseCase();if(function CS(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Z_(n,t,e="on",s=Kg.z){return new zi.y(a=>{let d=null;return d=n[e](t,(g,E)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:E})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,T.U)(a=>{const{snapshot:d,prevKey:g}=a;let E=null;return d.exists()&&(E=d.key),{type:t,payload:d,prevKey:g,key:E}}),(0,Qf.B)())}function lb(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function wS(n,t){const{payload:e,prevKey:s,key:a}=t,d=lb(n,a),g=function IS(n,t){if(ib(t))return 0;{const e=lb(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let E=null;t.payload.forEach(w=>{const R={payload:w,type:"value",prevKey:E,key:w.key};return E=w.key,n=[...n,R],!1})}return n;case"child_added":if(d>-1){const E=n[d-1];(E&&E.key||null)!==s&&(n=n.filter(w=>w.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(E=>E.payload.key!==e.key);case"child_changed":return n.map(E=>E.payload.key===a?t:E);case"child_moved":if(d>-1){const E=n.splice(d,1)[0];return(n=n.slice()).splice(g,0,E),n}return n;default:return n}}function ub(n){return(ib(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function cb(n,t,e){return function DS(n,t,e){return Z_(n,"value","once",e).pipe(Fn(s=>{const a=[et(s)];return t.forEach(d=>a.push(Z_(n,d,"on",e))),(0,Cu.T)(...a).pipe(Xl(wS,[]))}),function Jf(n,t=I.y){return n=n??nv,(0,zn.e)((e,s)=>{let a,d=!0;e.subscribe((0,Le.x)(s,g=>{const E=t(g);(d||!n(a,E))&&(d=!1,a=E,s.next(g))}))})}())}(n,t=ub(t),e)}function db(n,t,e){const s=(t=ub(t)).map(a=>Z_(n,a,"on",e));return(0,Cu.T)(...s)}function hb(n,t){return function(s,a){return ab(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function AS(n){return function(e){return e?ab(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function fb(n,t){return function(){return Z_(n,"value","on",t)}}const PS=new f.OlP("angularfire2.realtimeDatabaseURL"),OS=new f.OlP("angularfire2.database.use-emulator");let NS=(()=>{class n{constructor(e,s,a,d,g,E,w,R,k,H,J,we,Fe,ut,bt){this.schedulers=E;const Tn=w,yn=(0,Si.on)(e,g,s);R&&Et(yn,g,k,J,we,Fe,H,ut),this.database=(0,Si.cc)(`${yn.name}.database.${a}`,"AngularFireDatabase",yn.name,()=>{const Wr=g.runOutsideAngular(()=>yn.database(a||void 0));return Tn&&Wr.useEmulator(...Tn),Wr},[Tn])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>ob(this.database,e));let d=a;return s&&(d=s(a)),function MS(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:hb(s,"update"),set:hb(s,"set"),push:a=>s.push(a),remove:AS(s),snapshotChanges:a=>cb(n,a,e).pipe(Yi.iC),stateChanges:a=>db(n,a,e).pipe(Yi.iC),auditTrail:a=>function bS(n,t,e){return function TS(n,t,e){return function SS(n,t){return Z_(n,"value","on",t).pipe((0,T.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function Yg(...n){const t=(0,Lr.jO)(n);return(0,zn.e)((e,s)=>{const a=n.length,d=new Array(a);let g=n.map(()=>!1),E=!1;for(let w=0;w<a;w++)(0,vs.Xf)(n[w]).subscribe((0,Le.x)(s,R=>{d[w]=R,!E&&!g[w]&&(g[w]=!0,(E=g.every(I.y))&&(g=null))},qg.Z));e.subscribe((0,Le.x)(s,w=>{if(E){const R=[w,...d];s.next(t?t(...R):R)}}))})}(t),(0,T.U)(([a,d])=>{const g=a.lastKeyToLoad,E=d.map(w=>w.key);return{actions:d,lastKeyToLoad:g,loadedKeys:E}}),function Qg(n){return(0,zn.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,Le.x)(e,d=>(s||(s=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,T.U)(a=>a.actions))}(n,db(n,t).pipe(Xl((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(Yi.iC),valueChanges:(a,d)=>cb(n,a,e).pipe((0,T.U)(E=>E.map(w=>d&&d.idField?Object.assign(Object.assign({},w.payload.val()),{[d.idField]:w.key}):w.payload.val())),Yi.iC)}}(d,this)}object(e){return function RS(n,t){return{query:n,snapshotChanges:()=>fb(n,t.schedulers.outsideAngular)().pipe(Yi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>fb(n,t.schedulers.outsideAngular)().pipe(Yi.iC,(0,T.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ob(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(f.LFG(Si.Dh),f.LFG(Si.xv,8),f.LFG(PS,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Yi.HU),f.LFG(OS,8),f.LFG(pn,8),f.LFG(de,8),f.LFG(Re,8),f.LFG(je,8),f.LFG(qe,8),f.LFG(ht,8),f.LFG(be,8),f.LFG(bC,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class _d{constructor(t){this.firestore=t,this.empleados=[],this.enviarMensajeSubject=new _n(this.empleados),this.enviarMensajeObservable=this.enviarMensajeSubject.asObservable(),this.dbpath="data",this.fireobs=t.object(this.dbpath),this.obs=this.fireobs.valueChanges()}getEmpleados(){this.obs.subscribe(t=>{null!=t&&(this.empleados=t),this.enviarMensajeSubject.next(this.empleados)})}getEmpleadoById(t){return this.firestore.object(this.dbpath+"/"+t).valueChanges()}addEmpleado(t){console.log(t),this.empleados.push(t),console.log(this.empleados),this.firestore.object(this.dbpath).set(this.empleados)}updateEmpleado(t,e){this.firestore.object(this.dbpath+"/"+e).update(t)}deleteEmpleado(t){console.log(this.empleados),this.empleados.splice(t,1),this.firestore.object(this.dbpath).set(this.empleados)}}_d.\u0275fac=function(t){return new(t||_d)(f.LFG(NS))},_d.\u0275prov=f.Yz7({token:_d,factory:_d.\u0275fac,providedIn:"root"});let pb=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),df=(()=>{class n extends pb{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const ml=new f.OlP("NgValueAccessor"),FS={provide:ml,useExisting:(0,f.Gpc)(()=>K_),multi:!0},VS=new f.OlP("CompositionEventMode");let K_=(()=>{class n extends pb{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LS(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(VS,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&f.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[f._Bn([FS]),f.qOj]}),n})();const ci=new f.OlP("NgValidators"),vd=new f.OlP("NgAsyncValidators");function bb(n){return null!=n}function Sb(n){return(0,f.QGY)(n)?(0,Vt.D)(n):n}function Tb(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Ab(n,t){return t.map(e=>e(n))}function Mb(n){return n.map(t=>function jS(n){return!n.validate}(t)?t:e=>t.validate(e))}function TI(n){return null!=n?function Rb(n){if(!n)return null;const t=n.filter(bb);return 0==t.length?null:function(e){return Tb(Ab(e,t))}}(Mb(n)):null}function AI(n){return null!=n?function Pb(n){if(!n)return null;const t=n.filter(bb);return 0==t.length?null:function(e){return function xS(...n){const t=(0,Lr.jO)(n),{args:e,keys:s}=Lo(n),a=new zi.y(d=>{const{length:g}=e;if(!g)return void d.complete();const E=new Array(g);let w=g,R=g;for(let k=0;k<g;k++){let H=!1;(0,vs.Xf)(e[k]).subscribe((0,Le.x)(d,J=>{H||(H=!0,R--),E[k]=J},()=>w--,void 0,()=>{(!w||!H)&&(R||d.next(s?Ee(s,E):E),d.complete())}))}});return t?a.pipe(Q(t)):a}(Ab(e,t).map(Sb)).pipe((0,T.U)(Tb))}}(Mb(n)):null}function Ob(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function MI(n){return n?Array.isArray(n)?n:[n]:[]}function AC(n,t){return Array.isArray(n)?n.includes(t):n===t}function kb(n,t){const e=MI(t);return MI(n).forEach(a=>{AC(e,a)||e.push(a)}),e}function Fb(n,t){return MI(t).filter(e=>!AC(n,e))}class Lb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=TI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=AI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class xi extends Lb{get formDirective(){return null}get path(){return null}}class Ed extends Lb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vb{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let RI=(()=>{class n extends Vb{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(Ed,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&f.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[f.qOj]}),n})(),PI=(()=>{class n extends Vb{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(xi,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&f.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[f.qOj]}),n})();const q_="VALID",RC="INVALID",ug="PENDING",Y_="DISABLED";function kI(n){return(PC(n)?n.validators:n)||null}function FI(n,t){return(PC(t)?t.asyncValidators:n)||null}function PC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Hb{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===q_}get invalid(){return this.status===RC}get pending(){return this.status==ug}get disabled(){return this.status===Y_}get enabled(){return this.status!==Y_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(kb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Fb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Fb(t,this._rawAsyncValidators))}hasValidator(t){return AC(this._rawValidators,t)}hasAsyncValidator(t){return AC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ug,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Y_,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=q_,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===q_||this.status===ug)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Y_:q_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ug,this._hasOwnPendingAsyncValidator=!0;const e=Sb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,a)=>s&&s._find(a),this)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Y_:this.errors?RC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ug)?ug:this._anyControlsHaveStatus(RC)?RC:q_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){PC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function KS(n){return Array.isArray(n)?TI(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function qS(n){return Array.isArray(n)?AI(n):n||null}(this._rawAsyncValidators)}}class LI extends Hb{constructor(t,e,s){super(kI(e),FI(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function jb(n,t,e){n._forEachChild((s,a)=>{if(void 0===e[a])throw new f.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(s=>{(function Bb(n,t,e){const s=n.controls;if(!(t?Object.keys(s):s).length)throw new f.vHH(1e3,"");if(!s[e])throw new f.vHH(1001,"")})(this,!0,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{const a=this.controls[s];a&&a.patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,s]of Object.entries(this.controls))if(this.contains(e)&&t(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,s,a)=>((s.enabled||this.disabled)&&(e[a]=s.value),e))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,d)=>{s=e(s,a,d)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const cg=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>OC}),OC="always";function Q_(n,t,e=OC){VI(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function JS(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$b(n,t)})}(n,t),function eT(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function XS(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$b(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function QS(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function kC(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function VI(n,t){const e=function Nb(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Ob(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=function xb(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Ob(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();kC(t._rawValidators,a),kC(t._rawAsyncValidators,a)}function $b(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const sT={provide:xi,useExisting:(0,f.Gpc)(()=>X_)},J_=(()=>Promise.resolve())();let X_=(()=>{class n extends xi{constructor(e,s,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new LI({},TI(e),AI(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){J_.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),Q_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){J_.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){J_.then(()=>{const s=this._findContainer(e.path),a=new LI({});(function Gb(n,t){VI(n,t)})(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){J_.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){J_.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Wb(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(ci,10),f.Y36(vd,10),f.Y36(cg,8))},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&f.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([sT]),f.qOj]}),n})();function zb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Zb(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Kb=class extends Hb{constructor(t=null,e,s){super(kI(e),FI(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),PC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Zb(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Zb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},lT={provide:Ed,useExisting:(0,f.Gpc)(()=>LC)},Qb=(()=>Promise.resolve())();let LC=(()=>{class n extends Ed{constructor(e,s,a,d,g,E){super(),this._changeDetectorRef=g,this.callSetDisabledState=E,this.control=new Kb,this._registered=!1,this.update=new f.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function jI(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(d=>{d.constructor===K_?e=d:function rT(n){return Object.getPrototypeOf(n.constructor)===df}(d)?s=d:a=d}),a||s||e||null}(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function BI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Q_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Qb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=0!==s&&(0,f.D6c)(s);Qb.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function NC(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(xi,9),f.Y36(ci,10),f.Y36(vd,10),f.Y36(ml,10),f.Y36(f.sBO,8),f.Y36(cg,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([lT]),f.qOj,f.TTD]}),n})(),HI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const uT={provide:ml,useExisting:(0,f.Gpc)(()=>VC),multi:!0};let VC=(()=>{class n extends df{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=s=>{e(""==s?null:parseFloat(s))}}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=f.n5z(n)))(s||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,s){1&e&&f.NdJ("input",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},features:[f._Bn([uT]),f.qOj]}),n})(),Jb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),OT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Jb]}),n})(),xT=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:cg,useValue:e.callSetDisabledState??OC}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[OT]}),n})();const kT=function(){return[""]};class ey{constructor(t,e){this.route=t,this.serviceData=e,this.empleado=null,this.nombre="",this.apellido="",this.cargo="",this.sueldo=0,this.id=t.snapshot.params.id}ngOnInit(){this.serviceData.getEmpleadoById(this.id).subscribe(t=>{this.empleado=Object(t),Object.entries(Object(this.empleado)).length==Object.entries(new Ko("","","",0)).length-1?(this.nombre=this.empleado.nombre,this.apellido=this.empleado.apellido,this.cargo=this.empleado.cargo,this.sueldo=this.empleado.sueldo):(this.nombre="",this.apellido="",this.cargo="",this.sueldo=0)})}actualizar(){null!=this.empleado&&Object.entries(this.empleado).length==Object.entries(new Ko("","","",0)).length-1&&this.serviceData.updateEmpleado(new Ko(this.nombre,this.apellido,this.cargo,this.sueldo),this.id)}}ey.\u0275fac=function(t){return new(t||ey)(f.Y36(it),f.Y36(_d))},ey.\u0275cmp=f.Xpm({type:ey,selectors:[["app-actualiza"]],decls:23,vars:6,consts:[[1,"modificar-form","bg-","w-50","text-center","mx-auto","pt-4","px-4","pb-3","bg-myform","rounded","letter-form"],[1,"mx-auto","w-100","mb-3","h3","myform-color"],["for","nombre",1,"input-group","my-2"],[1,"input-group-text"],["type","text","placeholder","Nombre","name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["for","apellido",1,"input-group","my-2"],["type","text","placeholder","Apellido","name","apellido",1,"form-control",3,"ngModel","ngModelChange"],["for","cargo",1,"input-group","my-2"],["type","text","placeholder","Cargo","name","cargo",1,"form-control",3,"ngModel","ngModelChange"],["for","sueldo",1,"input-group","my-2"],["type","number","placeholder","Sueldo","name","sueldo",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-dark","mt-3",3,"click"],[1,"ms-1","btn","btn-dark","mt-3",3,"routerLink"]],template:function(t,e){1&t&&(f.TgZ(0,"form",0)(1,"legend",1),f._uU(2,"Modificar empleado"),f.qZA(),f.TgZ(3,"label",2)(4,"span",3),f._uU(5,"Nombre:"),f.qZA(),f.TgZ(6,"input",4),f.NdJ("ngModelChange",function(a){return e.nombre=a}),f.qZA()(),f.TgZ(7,"label",5)(8,"span",3),f._uU(9,"Apellido:"),f.qZA(),f.TgZ(10,"input",6),f.NdJ("ngModelChange",function(a){return e.apellido=a}),f.qZA()(),f.TgZ(11,"label",7)(12,"span",3),f._uU(13,"Cargo:"),f.qZA(),f.TgZ(14,"input",8),f.NdJ("ngModelChange",function(a){return e.cargo=a}),f.qZA()(),f.TgZ(15,"label",9)(16,"span",3),f._uU(17,"Sueldo:"),f.qZA(),f.TgZ(18,"input",10),f.NdJ("ngModelChange",function(a){return e.sueldo=a}),f.qZA()(),f.TgZ(19,"button",11),f.NdJ("click",function(){return e.actualizar()}),f._uU(20,"Actualizar"),f.qZA(),f.TgZ(21,"button",12),f._uU(22,"Regresar"),f.qZA()()),2&t&&(f.xp6(6),f.Q6J("ngModel",e.nombre),f.xp6(4),f.Q6J("ngModel",e.apellido),f.xp6(4),f.Q6J("ngModel",e.cargo),f.xp6(4),f.Q6J("ngModel",e.sueldo),f.xp6(3),f.Q6J("routerLink",f.DdM(5,kT)))},dependencies:[vu,HI,K_,VC,RI,PI,LC,X_],styles:[".modificar-form[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.modificar-form[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{color:#5f9ea0;text-shadow:1px 1px 2px black}"]});class ty{}ty.\u0275fac=function(t){return new(t||ty)},ty.\u0275cmp=f.Xpm({type:ty,selectors:[["app-error"]],decls:2,vars:0,template:function(t,e){1&t&&(f.TgZ(0,"p"),f._uU(1,"error works!"),f.qZA())}});const FT=function(n){return["actualiza",n]};function LT(n,t){if(1&n){const e=f.EpF();f.TgZ(0,"li",3)(1,"div",4)(2,"div",5),f._uU(3),f.qZA(),f.TgZ(4,"span",6),f._uU(5),f.qZA()(),f.TgZ(6,"div",7)(7,"button",8),f._uU(8,"Modificar"),f.qZA(),f.TgZ(9,"button",9),f.NdJ("click",function(){const d=f.CHM(e).index,g=f.oxw();return f.KtG(g.eliminar(d))}),f._uU(10,"Eliminar"),f.qZA()(),f.TgZ(11,"span",10),f._uU(12),f.qZA()()}if(2&n){const e=t.$implicit,s=t.index;f.xp6(3),f.AsE("",e.nombre," ",e.apellido,""),f.xp6(2),f.Oqu(e.cargo),f.xp6(2),f.Q6J("routerLink",f.VKq(5,FT,s)),f.xp6(5),f.Oqu(e.sueldo)}}class ny{constructor(t){this.dataService=t,this.empleados=[],this.getEmp()}ngOnInit(){this.dataService.enviarMensajeObservable.subscribe(t=>{console.log(t),this.empleados=t,console.log(this.empleados)})}getEmp(){this.dataService.getEmpleados()}eliminar(t){this.dataService.deleteEmpleado(t)}}ny.\u0275fac=function(t){return new(t||ny)(f.Y36(_d))},ny.\u0275cmp=f.Xpm({type:ny,selectors:[["app-lista"]],decls:4,vars:1,consts:[[1,"text-center"],[1,"list-group","list-group-numbered","w-50","mx-auto","lista"],["class","list-group-item d-flex position-relative justify-content-between align-items-start",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","position-relative","justify-content-between","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"cargo"],[1,"d-flex","position-absolute","bottom-0","end-0","me-1","mb-1","mybtn"],[1,"btn","btn-warning","btn-sm",3,"routerLink"],[1,"btn","btn-danger","btn-sm","ms-1",3,"click"],[1,"badge","bg-primary","rounded-pill"]],template:function(t,e){1&t&&(f.TgZ(0,"h2",0),f._uU(1,"Lista de empleados"),f.qZA(),f.TgZ(2,"ol",1),f.YNc(3,LT,13,7,"li",2),f.qZA()),2&t&&(f.xp6(3),f.Q6J("ngForOf",e.empleados))},dependencies:[Or,vu],styles:[".lista[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{overflow:hidden;background:rgba(222,220,219,.1);font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}h2[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.lista[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:none}.lista[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{text-shadow:1px 1px 5px black}.lista[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:700;font-size:1.3em;letter-spacing:1px;color:#f4f4f4e6;text-shadow:1px 1px 3px black}.cargo[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#5f9ea0;text-shadow:1px 1px 2px black}.mybtn[_ngcontent-%COMP%]{right:-45%!important;transition:right .8s}.lista[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .mybtn[_ngcontent-%COMP%]{right:0%!important}"]});class ry{constructor(t){this.dataService=t,this.nombre="",this.apellido="",this.cargo=""}addEmp(){this.dataService.addEmpleado(new Ko(this.nombre,this.apellido,this.cargo,this.sueldo))}}ry.\u0275fac=function(t){return new(t||ry)(f.Y36(_d))},ry.\u0275cmp=f.Xpm({type:ry,selectors:[["app-agregar"]],decls:21,vars:4,consts:[[1,"bg-","w-50","text-center","mx-auto","pt-4","px-4","pb-3","bg-myform","rounded","letter-form"],[1,"mx-auto","w-100","mb-3","h3","myform-color"],["for","nombre",1,"input-group","my-2"],[1,"input-group-text"],["type","text","placeholder","Nombre","name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["for","apellido",1,"input-group","my-2"],["type","text","placeholder","Apellido","name","apellido",1,"form-control",3,"ngModel","ngModelChange"],["for","cargo",1,"input-group","my-2"],["type","text","placeholder","Cargo","name","cargo",1,"form-control",3,"ngModel","ngModelChange"],["for","sueldo",1,"input-group","my-2"],["type","number","value","","placeholder","Sueldo","name","sueldo",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-dark","mt-3",3,"click"]],template:function(t,e){1&t&&(f.TgZ(0,"form",0)(1,"legend",1),f._uU(2,"Agregar empleados"),f.qZA(),f.TgZ(3,"label",2)(4,"span",3),f._uU(5,"Nombre:"),f.qZA(),f.TgZ(6,"input",4),f.NdJ("ngModelChange",function(a){return e.nombre=a}),f.qZA()(),f.TgZ(7,"label",5)(8,"span",3),f._uU(9,"Apellido:"),f.qZA(),f.TgZ(10,"input",6),f.NdJ("ngModelChange",function(a){return e.apellido=a}),f.qZA()(),f.TgZ(11,"label",7)(12,"span",3),f._uU(13,"Cargo:"),f.qZA(),f.TgZ(14,"input",8),f.NdJ("ngModelChange",function(a){return e.cargo=a}),f.qZA()(),f.TgZ(15,"label",9)(16,"span",3),f._uU(17,"Sueldo:"),f.qZA(),f.TgZ(18,"input",10),f.NdJ("ngModelChange",function(a){return e.sueldo=a}),f.qZA()(),f.TgZ(19,"button",11),f.NdJ("click",function(){return e.addEmp()}),f._uU(20,"Agregar Empleado"),f.qZA()()),2&t&&(f.xp6(6),f.Q6J("ngModel",e.nombre),f.xp6(4),f.Q6J("ngModel",e.apellido),f.xp6(4),f.Q6J("ngModel",e.cargo),f.xp6(4),f.Q6J("ngModel",e.sueldo))},dependencies:[HI,K_,VC,RI,PI,LC,X_],styles:[".letter-form[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.bg-myform[_ngcontent-%COMP%]{box-shadow:0 0 5px #000;background:rgba(1,1,1,.2)}.myform-color[_ngcontent-%COMP%]{color:#f5f5f5}.letter-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{opacity:.8}.letter-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:hover, .letter-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:focus{opacity:1;cursor:pointer}"]});class iy{constructor(){}}iy.\u0275fac=function(t){return new(t||iy)},iy.\u0275cmp=f.Xpm({type:iy,selectors:[["app-home"]],decls:8,vars:0,consts:[[1,"h1","text-center","my-5"],[1,"d-flex"],[1,"w-50"]],template:function(t,e){1&t&&(f.TgZ(0,"div")(1,"h1",0),f._uU(2,"CRUD EMPLEADO"),f.qZA()(),f.TgZ(3,"div",1)(4,"div",2),f._UZ(5,"app-agregar"),f.qZA(),f.TgZ(6,"div",2),f._UZ(7,"app-lista"),f.qZA()())},dependencies:[ny,ry],styles:["h1[_ngcontent-%COMP%]{color:#f5f5f5;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}"]});const VT=[{path:"",component:iy},{path:"actualiza/:id",component:ey},{path:"**",component:ty}];class dg{}dg.\u0275fac=function(t){return new(t||dg)},dg.\u0275mod=f.oAB({type:dg}),dg.\u0275inj=f.cJS({imports:[Jy.forRoot(VT),Jy]});const UT=function(){return[""]},BT=function(){return["contacto"]};class sy{}sy.\u0275fac=function(t){return new(t||sy)},sy.\u0275cmp=f.Xpm({type:sy,selectors:[["app-menu"]],decls:17,vars:4,consts:[[1,"navbar","bg-dark","navbar-dark","navbar-expand-lg"],[1,"container-fluid"],[1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"routerLink"],[1,"nav-link",3,"routerLink"],["routerLink","Login",1,"nav-link"]],template:function(t,e){1&t&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),f._uU(3,"Angular 15"),f.qZA(),f.TgZ(4,"button",3),f._UZ(5,"span",4),f.qZA(),f.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),f._uU(10,"Home"),f.qZA()(),f.TgZ(11,"li",7)(12,"a",9),f._uU(13,"Contacto"),f.qZA()(),f.TgZ(14,"li",7)(15,"a",10),f._uU(16,"Login"),f.qZA()()()()()()),2&t&&(f.xp6(9),f.Q6J("routerLink",f.DdM(2,UT)),f.xp6(3),f.Q6J("routerLink",f.DdM(3,BT)))},dependencies:[vu]});class oy{constructor(){this.title="firebaseRealtimeAngularFire7"}}oy.\u0275fac=function(t){return new(t||oy)},oy.\u0275cmp=f.Xpm({type:oy,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&f._UZ(0,"app-menu")(1,"router-outlet")},dependencies:[Mg,sy]});class hg{}hg.\u0275fac=function(t){return new(t||hg)},hg.\u0275mod=f.oAB({type:hg,bootstrap:[oy]}),hg.\u0275inj=f.cJS({imports:[rc,dg,xT,Si.hO.initializeApp({apiKey:"AIzaSyB5-NcUhIFxD2QWo7ozKmbl_UafFXq_3sE",authDomain:"pruebaempleado-db566.firebaseapp.com",databaseURL:"https://pruebaempleado-db566-default-rtdb.firebaseio.com",projectId:"pruebaempleado-db566",storageBucket:"pruebaempleado-db566.appspot.com",messagingSenderId:"798643443605",appId:"1:798643443605:web:4f2f89d31099ecc081489c",measurementId:"G-2CDPT56D3T"})]}),Ef().bootstrapModule(hg).catch(n=>console.error(n))},9751:(Xe,me,O)=>{O.d(me,{y:()=>ie});var f=O(930),K=O(727),P=O(8822),ee=O(9635),X=O(2416),te=O(576),le=O(2806);let ie=(()=>{class z{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const Ve=new z;return Ve.source=this,Ve.operator=ye,Ve}subscribe(ye,Ve,Ye){const ae=function j(z){return z&&z instanceof f.Lv||function B(z){return z&&(0,te.m)(z.next)&&(0,te.m)(z.error)&&(0,te.m)(z.complete)}(z)&&(0,K.Nn)(z)}(ye)?ye:new f.Hp(ye,Ve,Ye);return(0,le.x)(()=>{const{operator:Ce,source:ve}=this;ae.add(Ce?Ce.call(ae,ve):ve?this._subscribe(ae):this._trySubscribe(ae))}),ae}_trySubscribe(ye){try{return this._subscribe(ye)}catch(Ve){ye.error(Ve)}}forEach(ye,Ve){return new(Ve=re(Ve))((Ye,ae)=>{const Ce=new f.Hp({next:ve=>{try{ye(ve)}catch(Ae){ae(Ae),Ce.unsubscribe()}},error:ae,complete:Ye});this.subscribe(Ce)})}_subscribe(ye){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(ye)}[P.L](){return this}pipe(...ye){return(0,ee.U)(ye)(this)}toPromise(ye){return new(ye=re(ye))((Ve,Ye)=>{let ae;this.subscribe(Ce=>ae=Ce,Ce=>Ye(Ce),()=>Ve(ae))})}}return z.create=Oe=>new z(Oe),z})();function re(z){var Oe;return null!==(Oe=z??X.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(Xe,me,O)=>{O.d(me,{x:()=>le});var f=O(9751),K=O(727);const ee=(0,O(3888).d)(re=>function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=O(8737),te=O(2806);let le=(()=>{class re extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const z=new ie(this,this);return z.operator=j,z}_throwIfClosed(){if(this.closed)throw new ee}next(j){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const z of this.currentObservers)z.next(j)}})}error(j){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:z}=this;for(;z.length;)z.shift().error(j)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:z,isStopped:Oe,observers:ye}=this;return z||Oe?K.Lc:(this.currentObservers=null,ye.push(j),new K.w0(()=>{this.currentObservers=null,(0,X.P)(ye,j)}))}_checkFinalizedStatuses(j){const{hasError:z,thrownError:Oe,isStopped:ye}=this;z?j.error(Oe):ye&&j.complete()}asObservable(){const j=new f.y;return j.source=this,j}}return re.create=(B,j)=>new ie(B,j),re})();class ie extends le{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,z;null===(z=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===z||z.call(j,B)}error(B){var j,z;null===(z=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===z||z.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,z;return null!==(z=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==z?z:K.Lc}}},930:(Xe,me,O)=>{O.d(me,{Hp:()=>Ye,Lv:()=>z});var f=O(576),K=O(727),P=O(2416),ee=O(7849),X=O(5032);const te=re("C",void 0,void 0);function re(_e,pe,De){return{kind:_e,value:pe,error:De}}var B=O(3410),j=O(2806);class z extends K.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,K.Nn)(pe)&&pe.add(this)):this.destination=Ae}static create(pe,De,Te){return new Ye(pe,De,Te)}next(pe){this.isStopped?ve(function ie(_e){return re("N",_e,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?ve(function le(_e){return re("E",void 0,_e)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?ve(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ye(_e,pe){return Oe.call(_e,pe)}class Ve{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:De}=this;if(De.next)try{De.next(pe)}catch(Te){ae(Te)}}error(pe){const{partialObserver:De}=this;if(De.error)try{De.error(pe)}catch(Te){ae(Te)}else ae(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(De){ae(De)}}}class Ye extends z{constructor(pe,De,Te){let Se;if(super(),(0,f.m)(pe)||!pe)Se={next:pe??void 0,error:De??void 0,complete:Te??void 0};else{let V;this&&P.v.useDeprecatedNextContext?(V=Object.create(pe),V.unsubscribe=()=>this.unsubscribe(),Se={next:pe.next&&ye(pe.next,V),error:pe.error&&ye(pe.error,V),complete:pe.complete&&ye(pe.complete,V)}):Se=pe}this.destination=new Ve(Se)}}function ae(_e){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(_e):(0,ee.h)(_e)}function ve(_e,pe){const{onStoppedNotification:De}=P.v;De&&B.z.setTimeout(()=>De(_e,pe))}const Ae={closed:!0,next:X.Z,error:function Ce(_e){throw _e},complete:X.Z}},727:(Xe,me,O)=>{O.d(me,{Lc:()=>te,w0:()=>X,Nn:()=>le});var f=O(576);const P=(0,O(3888).d)(re=>function(j){re(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((z,Oe)=>`${Oe+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ee=O(8737);class X{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ye of j)ye.remove(this);else j.remove(this);const{initialTeardown:z}=this;if((0,f.m)(z))try{z()}catch(ye){B=ye instanceof P?ye.errors:[ye]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ye of Oe)try{ie(ye)}catch(Ve){B=B??[],Ve instanceof P?B=[...B,...Ve.errors]:B.push(Ve)}}if(B)throw new P(B)}}add(B){var j;if(B&&B!==this)if(this.closed)ie(B);else{if(B instanceof X){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,ee.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,ee.P)(j,B),B instanceof X&&B._removeParent(this)}}X.EMPTY=(()=>{const re=new X;return re.closed=!0,re})();const te=X.EMPTY;function le(re){return re instanceof X||re&&"closed"in re&&(0,f.m)(re.remove)&&(0,f.m)(re.add)&&(0,f.m)(re.unsubscribe)}function ie(re){(0,f.m)(re)?re():re.unsubscribe()}},2416:(Xe,me,O)=>{O.d(me,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,me,O)=>{O.d(me,{E:()=>K});const K=new(O(9751).y)(X=>X.complete())},8996:(Xe,me,O)=>{O.d(me,{D:()=>pe});var f=O(8421),K=O(5363),P=O(9468),te=O(9751),ie=O(2202),re=O(576),B=O(9672);function z(De,Te){if(!De)throw new Error("Iterable cannot be null");return new te.y(Se=>{(0,B.f)(Se,Te,()=>{const V=De[Symbol.asyncIterator]();(0,B.f)(Se,Te,()=>{V.next().then(he=>{he.done?Se.complete():Se.next(he.value)})},0,!0)})})}var Oe=O(3670),ye=O(8239),Ve=O(1144),Ye=O(6495),ae=O(2206),Ce=O(4532),ve=O(3260);function pe(De,Te){return Te?function _e(De,Te){if(null!=De){if((0,Oe.c)(De))return function ee(De,Te){return(0,f.Xf)(De).pipe((0,P.R)(Te),(0,K.Q)(Te))}(De,Te);if((0,Ve.z)(De))return function le(De,Te){return new te.y(Se=>{let V=0;return Te.schedule(function(){V===De.length?Se.complete():(Se.next(De[V++]),Se.closed||this.schedule())})})}(De,Te);if((0,ye.t)(De))return function X(De,Te){return(0,f.Xf)(De).pipe((0,P.R)(Te),(0,K.Q)(Te))}(De,Te);if((0,ae.D)(De))return z(De,Te);if((0,Ye.T)(De))return function j(De,Te){return new te.y(Se=>{let V;return(0,B.f)(Se,Te,()=>{V=De[ie.h](),(0,B.f)(Se,Te,()=>{let he,Pe;try{({value:he,done:Pe}=V.next())}catch(Be){return void Se.error(Be)}Pe?Se.complete():Se.next(he)},0,!0)}),()=>(0,re.m)(V?.return)&&V.return()})}(De,Te);if((0,ve.L)(De))return function Ae(De,Te){return z((0,ve.Q)(De),Te)}(De,Te)}throw(0,Ce.z)(De)}(De,Te):(0,f.Xf)(De)}},8421:(Xe,me,O)=>{O.d(me,{Xf:()=>Oe});var f=O(655),K=O(1144),P=O(8239),ee=O(9751),X=O(3670),te=O(2206),le=O(4532),ie=O(6495),re=O(3260),B=O(576),j=O(7849),z=O(8822);function Oe(_e){if(_e instanceof ee.y)return _e;if(null!=_e){if((0,X.c)(_e))return function ye(_e){return new ee.y(pe=>{const De=_e[z.L]();if((0,B.m)(De.subscribe))return De.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,K.z)(_e))return function Ve(_e){return new ee.y(pe=>{for(let De=0;De<_e.length&&!pe.closed;De++)pe.next(_e[De]);pe.complete()})}(_e);if((0,P.t)(_e))return function Ye(_e){return new ee.y(pe=>{_e.then(De=>{pe.closed||(pe.next(De),pe.complete())},De=>pe.error(De)).then(null,j.h)})}(_e);if((0,te.D)(_e))return Ce(_e);if((0,ie.T)(_e))return function ae(_e){return new ee.y(pe=>{for(const De of _e)if(pe.next(De),pe.closed)return;pe.complete()})}(_e);if((0,re.L)(_e))return function ve(_e){return Ce((0,re.Q)(_e))}(_e)}throw(0,le.z)(_e)}function Ce(_e){return new ee.y(pe=>{(function Ae(_e,pe){var De,Te,Se,V;return(0,f.mG)(this,void 0,void 0,function*(){try{for(De=(0,f.KL)(_e);!(Te=yield De.next()).done;)if(pe.next(Te.value),pe.closed)return}catch(he){Se={error:he}}finally{try{Te&&!Te.done&&(V=De.return)&&(yield V.call(De))}finally{if(Se)throw Se.error}}pe.complete()})})(_e,pe).catch(De=>pe.error(De))})}},6451:(Xe,me,O)=>{O.d(me,{T:()=>te});var f=O(8189),K=O(8421),P=O(515),ee=O(7669),X=O(8996);function te(...le){const ie=(0,ee.yG)(le),re=(0,ee._6)(le,1/0),B=le;return B.length?1===B.length?(0,K.Xf)(B[0]):(0,f.J)(re)((0,X.D)(B,ie)):P.E}},5403:(Xe,me,O)=>{O.d(me,{x:()=>K});var f=O(930);function K(ee,X,te,le,ie){return new P(ee,X,te,le,ie)}class P extends f.Lv{constructor(X,te,le,ie,re,B){super(X),this.onFinalize=re,this.shouldUnsubscribe=B,this._next=te?function(j){try{te(j)}catch(z){X.error(z)}}:super._next,this._error=ie?function(j){try{ie(j)}catch(z){X.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(j){X.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(Xe,me,O)=>{O.d(me,{U:()=>P});var f=O(4482),K=O(5403);function P(ee,X){return(0,f.e)((te,le)=>{let ie=0;te.subscribe((0,K.x)(le,re=>{le.next(ee.call(X,re,ie++))}))})}},8189:(Xe,me,O)=>{O.d(me,{J:()=>P});var f=O(5577),K=O(4671);function P(ee=1/0){return(0,f.z)(K.y,ee)}},5577:(Xe,me,O)=>{O.d(me,{z:()=>ie});var f=O(4004),K=O(8421),P=O(4482),ee=O(9672),X=O(5403),le=O(576);function ie(re,B,j=1/0){return(0,le.m)(B)?ie((z,Oe)=>(0,f.U)((ye,Ve)=>B(z,ye,Oe,Ve))((0,K.Xf)(re(z,Oe))),j):("number"==typeof B&&(j=B),(0,P.e)((z,Oe)=>function te(re,B,j,z,Oe,ye,Ve,Ye){const ae=[];let Ce=0,ve=0,Ae=!1;const _e=()=>{Ae&&!ae.length&&!Ce&&B.complete()},pe=Te=>Ce<z?De(Te):ae.push(Te),De=Te=>{ye&&B.next(Te),Ce++;let Se=!1;(0,K.Xf)(j(Te,ve++)).subscribe((0,X.x)(B,V=>{Oe?.(V),ye?pe(V):B.next(V)},()=>{Se=!0},void 0,()=>{if(Se)try{for(Ce--;ae.length&&Ce<z;){const V=ae.shift();Ve?(0,ee.f)(B,Ve,()=>De(V)):De(V)}_e()}catch(V){B.error(V)}}))};return re.subscribe((0,X.x)(B,pe,()=>{Ae=!0,_e()})),()=>{Ye?.()}}(z,Oe,re,j)))}},5363:(Xe,me,O)=>{O.d(me,{Q:()=>ee});var f=O(9672),K=O(4482),P=O(5403);function ee(X,te=0){return(0,K.e)((le,ie)=>{le.subscribe((0,P.x)(ie,re=>(0,f.f)(ie,X,()=>ie.next(re),te),()=>(0,f.f)(ie,X,()=>ie.complete(),te),re=>(0,f.f)(ie,X,()=>ie.error(re),te)))})}},3099:(Xe,me,O)=>{O.d(me,{B:()=>X});var f=O(8421),K=O(7579),P=O(930),ee=O(4482);function X(le={}){const{connector:ie=(()=>new K.x),resetOnError:re=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=le;return z=>{let Oe,ye,Ve,Ye=0,ae=!1,Ce=!1;const ve=()=>{ye?.unsubscribe(),ye=void 0},Ae=()=>{ve(),Oe=Ve=void 0,ae=Ce=!1},_e=()=>{const pe=Oe;Ae(),pe?.unsubscribe()};return(0,ee.e)((pe,De)=>{Ye++,!Ce&&!ae&&ve();const Te=Ve=Ve??ie();De.add(()=>{Ye--,0===Ye&&!Ce&&!ae&&(ye=te(_e,j))}),Te.subscribe(De),!Oe&&Ye>0&&(Oe=new P.Hp({next:Se=>Te.next(Se),error:Se=>{Ce=!0,ve(),ye=te(Ae,re,Se),Te.error(Se)},complete:()=>{ae=!0,ve(),ye=te(Ae,B),Te.complete()}}),(0,f.Xf)(pe).subscribe(Oe))})(z)}}function te(le,ie,...re){if(!0===ie)return void le();if(!1===ie)return;const B=new P.Hp({next:()=>{B.unsubscribe(),le()}});return(0,f.Xf)(ie(...re)).subscribe(B)}},9468:(Xe,me,O)=>{O.d(me,{R:()=>K});var f=O(4482);function K(P,ee=0){return(0,f.e)((X,te)=>{te.add(P.schedule(()=>X.subscribe(te),ee))})}},8505:(Xe,me,O)=>{O.d(me,{b:()=>X});var f=O(576),K=O(4482),P=O(5403),ee=O(4671);function X(te,le,ie){const re=(0,f.m)(te)||le||ie?{next:te,error:le,complete:ie}:te;return re?(0,K.e)((B,j)=>{var z;null===(z=re.subscribe)||void 0===z||z.call(re);let Oe=!0;B.subscribe((0,P.x)(j,ye=>{var Ve;null===(Ve=re.next)||void 0===Ve||Ve.call(re,ye),j.next(ye)},()=>{var ye;Oe=!1,null===(ye=re.complete)||void 0===ye||ye.call(re),j.complete()},ye=>{var Ve;Oe=!1,null===(Ve=re.error)||void 0===Ve||Ve.call(re,ye),j.error(ye)},()=>{var ye,Ve;Oe&&(null===(ye=re.unsubscribe)||void 0===ye||ye.call(re)),null===(Ve=re.finalize)||void 0===Ve||Ve.call(re)}))}):ee.y}},4408:(Xe,me,O)=>{O.d(me,{o:()=>X});var f=O(727);class K extends f.w0{constructor(le,ie){super()}schedule(le,ie=0){return this}}const P={setInterval(te,le,...ie){const{delegate:re}=P;return re?.setInterval?re.setInterval(te,le,...ie):setInterval(te,le,...ie)},clearInterval(te){const{delegate:le}=P;return(le?.clearInterval||clearInterval)(te)},delegate:void 0};var ee=O(8737);class X extends K{constructor(le,ie){super(le,ie),this.scheduler=le,this.work=ie,this.pending=!1}schedule(le,ie=0){var re;if(this.closed)return this;this.state=le;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,ie)),this.pending=!0,this.delay=ie,this.id=null!==(re=this.id)&&void 0!==re?re:this.requestAsyncId(j,this.id,ie),this}requestAsyncId(le,ie,re=0){return P.setInterval(le.flush.bind(le,this),re)}recycleAsyncId(le,ie,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return ie;null!=ie&&P.clearInterval(ie)}execute(le,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(le,ie);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ie){let B,re=!1;try{this.work(le)}catch(j){re=!0,B=j||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:le,scheduler:ie}=this,{actions:re}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(re,this),null!=le&&(this.id=this.recycleAsyncId(ie,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,me,O)=>{O.d(me,{v:()=>P});var f=O(6063);class K{constructor(X,te=K.now){this.schedulerActionCtor=X,this.now=te}schedule(X,te=0,le){return new this.schedulerActionCtor(this,X).schedule(le,te)}}K.now=f.l.now;class P extends K{constructor(X,te=K.now){super(X,te),this.actions=[],this._active=!1}flush(X){const{actions:te}=this;if(this._active)return void te.push(X);let le;this._active=!0;do{if(le=X.execute(X.state,X.delay))break}while(X=te.shift());if(this._active=!1,le){for(;X=te.shift();)X.unsubscribe();throw le}}}},4986:(Xe,me,O)=>{O.d(me,{z:()=>P});var f=O(4408);const P=new(O(7565).v)(f.o)},6063:(Xe,me,O)=>{O.d(me,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(Xe,me,O)=>{O.d(me,{z:()=>f});const f={setTimeout(K,P,...ee){const{delegate:X}=f;return X?.setTimeout?X.setTimeout(K,P,...ee):setTimeout(K,P,...ee)},clearTimeout(K){const{delegate:P}=f;return(P?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(Xe,me,O)=>{O.d(me,{h:()=>K});const K=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,me,O)=>{O.d(me,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Xe,me,O)=>{O.d(me,{_6:()=>te,jO:()=>ee,yG:()=>X});var f=O(576);function P(le){return le[le.length-1]}function ee(le){return(0,f.m)(P(le))?le.pop():void 0}function X(le){return function K(le){return le&&(0,f.m)(le.schedule)}(P(le))?le.pop():void 0}function te(le,ie){return"number"==typeof P(le)?le.pop():ie}},8737:(Xe,me,O)=>{function f(K,P){if(K){const ee=K.indexOf(P);0<=ee&&K.splice(ee,1)}}O.d(me,{P:()=>f})},3888:(Xe,me,O)=>{function f(K){const ee=K(X=>{Error.call(X),X.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}O.d(me,{d:()=>f})},2806:(Xe,me,O)=>{O.d(me,{O:()=>ee,x:()=>P});var f=O(2416);let K=null;function P(X){if(f.v.useDeprecatedSynchronousErrorHandling){const te=!K;if(te&&(K={errorThrown:!1,error:null}),X(),te){const{errorThrown:le,error:ie}=K;if(K=null,le)throw ie}}else X()}function ee(X){f.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(Xe,me,O)=>{function f(K,P,ee,X=0,te=!1){const le=P.schedule(function(){ee(),te?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(le),!te)return le}O.d(me,{f:()=>f})},4671:(Xe,me,O)=>{function f(K){return K}O.d(me,{y:()=>f})},1144:(Xe,me,O)=>{O.d(me,{z:()=>f});const f=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(Xe,me,O)=>{O.d(me,{D:()=>K});var f=O(576);function K(P){return Symbol.asyncIterator&&(0,f.m)(P?.[Symbol.asyncIterator])}},576:(Xe,me,O)=>{function f(K){return"function"==typeof K}O.d(me,{m:()=>f})},3670:(Xe,me,O)=>{O.d(me,{c:()=>P});var f=O(8822),K=O(576);function P(ee){return(0,K.m)(ee[f.L])}},6495:(Xe,me,O)=>{O.d(me,{T:()=>P});var f=O(2202),K=O(576);function P(ee){return(0,K.m)(ee?.[f.h])}},8239:(Xe,me,O)=>{O.d(me,{t:()=>K});var f=O(576);function K(P){return(0,f.m)(P?.then)}},3260:(Xe,me,O)=>{O.d(me,{L:()=>ee,Q:()=>P});var f=O(655),K=O(576);function P(X){return(0,f.FC)(this,arguments,function*(){const le=X.getReader();try{for(;;){const{value:ie,done:re}=yield(0,f.qq)(le.read());if(re)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ie)}}finally{le.releaseLock()}})}function ee(X){return(0,K.m)(X?.getReader)}},4482:(Xe,me,O)=>{O.d(me,{A:()=>K,e:()=>P});var f=O(576);function K(ee){return(0,f.m)(ee?.lift)}function P(ee){return X=>{if(K(X))return X.lift(function(te){try{return ee(te,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,me,O)=>{function f(){}O.d(me,{Z:()=>f})},9635:(Xe,me,O)=>{O.d(me,{U:()=>P,z:()=>K});var f=O(4671);function K(...ee){return P(ee)}function P(ee){return 0===ee.length?f.y:1===ee.length?ee[0]:function(te){return ee.reduce((le,ie)=>ie(le),te)}}},7849:(Xe,me,O)=>{O.d(me,{h:()=>P});var f=O(2416),K=O(3410);function P(ee){K.z.setTimeout(()=>{const{onUnhandledError:X}=f.v;if(!X)throw ee;X(ee)})}},4532:(Xe,me,O)=>{function f(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(me,{z:()=>f})},655:(Xe,me,O)=>{function ee(ne,oe){var fe={};for(var Ie in ne)Object.prototype.hasOwnProperty.call(ne,Ie)&&oe.indexOf(Ie)<0&&(fe[Ie]=ne[Ie]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(Ie=Object.getOwnPropertySymbols(ne);Me<Ie.length;Me++)oe.indexOf(Ie[Me])<0&&Object.prototype.propertyIsEnumerable.call(ne,Ie[Me])&&(fe[Ie[Me]]=ne[Ie[Me]])}return fe}function z(ne,oe,fe,Ie){return new(fe||(fe=Promise))(function(Ne,He){function Ue(Lt){try{at(Ie.next(Lt))}catch(We){He(We)}}function jt(Lt){try{at(Ie.throw(Lt))}catch(We){He(We)}}function at(Lt){Lt.done?Ne(Lt.value):function Me(Ne){return Ne instanceof fe?Ne:new fe(function(He){He(Ne)})}(Lt.value).then(Ue,jt)}at((Ie=Ie.apply(ne,oe||[])).next())})}function _e(ne){return this instanceof _e?(this.v=ne,this):new _e(ne)}function pe(ne,oe,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,Ie=fe.apply(ne,oe||[]),Ne=[];return Me={},He("next"),He("throw"),He("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function He(_t){Ie[_t]&&(Me[_t]=function(Qt){return new Promise(function(nn,Jt){Ne.push([_t,Qt,nn,Jt])>1||Ue(_t,Qt)})})}function Ue(_t,Qt){try{!function jt(_t){_t.value instanceof _e?Promise.resolve(_t.value.v).then(at,Lt):We(Ne[0][2],_t)}(Ie[_t](Qt))}catch(nn){We(Ne[0][3],nn)}}function at(_t){Ue("next",_t)}function Lt(_t){Ue("throw",_t)}function We(_t,Qt){_t(Qt),Ne.shift(),Ne.length&&Ue(Ne[0][0],Ne[0][1])}}function Te(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,oe=ne[Symbol.asyncIterator];return oe?oe.call(ne):(ne=function Ye(ne){var oe="function"==typeof Symbol&&Symbol.iterator,fe=oe&&ne[oe],Ie=0;if(fe)return fe.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Ie>=ne.length&&(ne=void 0),{value:ne&&ne[Ie++],done:!ne}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),fe={},Ie("next"),Ie("throw"),Ie("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Ie(Ne){fe[Ne]=ne[Ne]&&function(He){return new Promise(function(Ue,jt){!function Me(Ne,He,Ue,jt){Promise.resolve(jt).then(function(at){Ne({value:at,done:Ue})},He)}(Ue,jt,(He=ne[Ne](He)).done,He.value)})}}}O.d(me,{FC:()=>pe,KL:()=>Te,_T:()=>ee,mG:()=>z,qq:()=>_e})},4650:(Xe,me,O)=>{O.d(me,{$8M:()=>ic,$WT:()=>vn,$Z:()=>Xy,AFp:()=>R_,AaK:()=>ie,AsE:()=>Fm,CHM:()=>Ol,CRH:()=>v_,CZH:()=>Xp,CqO:()=>Sv,D6c:()=>tb,DdM:()=>d_,EJc:()=>rI,EpF:()=>Ai,F4k:()=>bv,FYo:()=>xc,FiY:()=>Lo,GfV:()=>Sy,Gpc:()=>j,JOm:()=>jr,KtG:()=>Zu,LFG:()=>ke,Lbi:()=>pl,Lck:()=>TD,MMx:()=>a_,NdJ:()=>sp,OlP:()=>Ht,Oqu:()=>km,P3R:()=>gy,PXZ:()=>dI,Q6J:()=>Zt,QGY:()=>Im,Qsj:()=>by,R0b:()=>Rs,RDi:()=>bs,Rgc:()=>Kh,SBq:()=>Ka,Sil:()=>qE,Suo:()=>y_,TTD:()=>ia,TgZ:()=>il,VKq:()=>mE,X6Q:()=>fI,XFs:()=>rt,Xpm:()=>po,Xts:()=>Og,Y36:()=>Vc,YKP:()=>s_,YNc:()=>Bt,Yjl:()=>mo,Yz7:()=>We,Z0I:()=>Jt,ZZ4:()=>z_,_Bn:()=>dE,_UZ:()=>cn,_Vd:()=>Nc,_c5:()=>eb,_uU:()=>Fv,aQg:()=>lg,c2e:()=>tI,cJS:()=>Qt,cg1:()=>jm,dDg:()=>yr,dqk:()=>mt,eFA:()=>Xh,ekj:()=>Ru,eoX:()=>tC,f3M:()=>ze,g9A:()=>ZE,h0i:()=>ta,hGG:()=>II,iGM:()=>Oi,ifc:()=>Pt,ip1:()=>WE,jDz:()=>Hh,kL8:()=>Hm,lG2:()=>go,lqb:()=>mu,lri:()=>k_,n5z:()=>Wl,oAB:()=>an,oxw:()=>Av,q4F:()=>Ty,qLn:()=>nh,qOj:()=>ph,qZA:()=>Eh,rWj:()=>eC,sBO:()=>H_,s_b:()=>Yh,soG:()=>tg,tb:()=>or,tp0:()=>I,uIk:()=>pm,vHH:()=>ae,vpe:()=>uo,wAp:()=>dt,xp6:()=>By,z2F:()=>Vu,zSh:()=>Oc,zs3:()=>Eu});var f=O(7579),K=O(727),P=O(9751),ee=O(6451),X=O(3099);function te(r){for(let i in r)if(r[i]===te)return i;throw Error("Could not find renamed property on target object.")}function le(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function ie(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ie).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function re(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const B=te({__forward_ref__:te});function j(r){return r.__forward_ref__=j,r.toString=function(){return ie(this())},r}function z(r){return Oe(r)?r():r}function Oe(r){return"function"==typeof r&&r.hasOwnProperty(B)&&r.__forward_ref__===j}function ye(r){return r&&!!r.\u0275providers}const Ye="https://g.co/ng/security#xss";class ae extends Error{constructor(i,o){super(function Ce(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function ve(r){return"string"==typeof r?r:null==r?"":String(r)}function Te(r,i){throw new ae(-201,!1)}function He(r,i){null==r&&function Ue(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function We(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Qt(r){return{providers:r.providers||[],imports:r.imports||[]}}function nn(r){return Xt(r,Jn)||Xt(r,zt)}function Jt(r){return null!==nn(r)}function Xt(r,i){return r.hasOwnProperty(i)?r[i]:null}function vr(r){return r&&(r.hasOwnProperty(Fi)||r.hasOwnProperty(lr))?r[Fi]:null}const Jn=te({\u0275prov:te}),Fi=te({\u0275inj:te}),zt=te({ngInjectableDef:te}),lr=te({ngInjectorDef:te});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let di;function rn(r){const i=di;return di=r,i}function Un(r,i,o){const l=nn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&rt.Optional?null:void 0!==i?i:void Te(ie(r))}const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sn={},en="__NG_DI_FLAG__",Pr="ngTempTokenPath",Ps=/\n/gm,zr="__source";let xt;function Bn(r){const i=xt;return xt=r,i}function Zr(r,i=rt.Default){if(void 0===xt)throw new ae(-203,!1);return null===xt?Un(r,void 0,i):xt.get(r,i&rt.Optional?null:void 0,i)}function ke(r,i=rt.Default){return(function Rr(){return di}()||Zr)(z(r),i)}function ze(r,i=rt.Default){return ke(r,ct(i))}function ct(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function pt(r){const i=[];for(let o=0;o<r.length;o++){const l=z(r[o]);if(Array.isArray(l)){if(0===l.length)throw new ae(900,!1);let u,h=rt.Default;for(let _=0;_<l.length;_++){const v=l[_],C=U(v);"number"==typeof C?-1===C?u=v.token:h|=C:u=v}i.push(ke(u,h))}else i.push(ke(l))}return i}function Ct(r,i){return r[en]=i,r.prototype[en]=i,r}function U(r){return r[en]}function ce(r){return{toString:r}.toString()}var Y=(()=>((Y=Y||{})[Y.OnPush=0]="OnPush",Y[Y.Default=1]="Default",Y))(),Pt=(()=>{return(r=Pt||(Pt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Pt;var r})();const on={},ot=[],Mn=te({\u0275cmp:te}),At=te({\u0275dir:te}),In=te({\u0275pipe:te}),Os=te({\u0275mod:te}),jn=te({\u0275fac:te}),fo=te({__NG_ELEMENT_ID__:te});let Cd=0;function po(r){return ce(()=>{const o=!0===r.standalone,l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ot,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Pt.Emulated,id:"c"+Cd++,styles:r.styles||ot,_:null,setInput:null,schemas:r.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},h=r.dependencies,_=r.features;return u.inputs=yl(r.inputs,l),u.outputs=yl(r.outputs),_&&_.forEach(v=>v(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(_l).filter(Bu):null,u.pipeDefs=h?()=>("function"==typeof h?h():h).map(gn).filter(Bu):null,u})}function _l(r){return kt(r)||wn(r)}function Bu(r){return null!==r}function an(r){return ce(()=>({type:r.type,bootstrap:r.bootstrap||ot,declarations:r.declarations||ot,imports:r.imports||ot,exports:r.exports||ot,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function yl(r,i){if(null==r)return on;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,i&&(i[u]=h)}return o}const go=po;function mo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function kt(r){return r[Mn]||null}function wn(r){return r[At]||null}function gn(r){return r[In]||null}function vn(r){const i=kt(r)||wn(r)||gn(r);return null!==i&&i.standalone}function Hn(r,i){const o=r[Os]||null;if(!o&&!0===i)throw new Error(`Type ${ie(r)} does not have '\u0275mod' property.`);return o}function ur(r){return Array.isArray(r)&&"object"==typeof r[1]}function kr(r){return Array.isArray(r)&&!0===r[1]}function _o(r){return 0!=(4&r.flags)}function Fr(r){return r.componentOffset>-1}function Cl(r){return 1==(1&r.flags)}function cr(r){return null!==r.template}function yo(r){return 0!=(256&r[2])}function ss(r,i){return r.hasOwnProperty(jn)?r[jn]:null}class os{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function ia(){return Us}function Us(r){return r.type.prototype.ngOnChanges&&(r.setInput=Bs),sa}function sa(){const r=Eo(this),i=r?.current;if(i){const o=r.previous;if(o===on)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function Bs(r,i,o,l){const u=this.declaredInputs[o],h=Eo(r)||function Wu(r,i){return r[as]=i}(r,{previous:on,current:null}),_=h.current||(h.current={}),v=h.previous,C=v[u];_[u]=new os(C&&C.currentValue,i,v===on),r[l]=i}ia.ngInherit=!0;const as="__ngSimpleChanges__";function Eo(r){return r[as]||null}function mn(r){for(;Array.isArray(r);)r=r[0];return r}function ls(r,i){return mn(i[r])}function Cn(r,i){return mn(i[r.index])}function $s(r,i){return r.data[i]}function Rn(r,i){const o=i[r];return ur(o)?o:o[0]}function Gs(r){return 64==(64&r[2])}function mi(r,i){return null==i?null:r[i]}function Io(r){r[18]=0}function wo(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const gt={lFrame:fg(null),bindingsEnabled:!0};function ca(){return gt.bindingsEnabled}function ue(){return gt.lFrame.lView}function Ft(){return gt.lFrame.tView}function Ol(r){return gt.lFrame.contextLView=r,r[8]}function Zu(r){return gt.lFrame.contextLView=null,r}function xn(){let r=bo();for(;null!==r&&64===r.type;)r=r.parent;return r}function bo(){return gt.lFrame.currentTNode}function hr(r,i){const o=gt.lFrame;o.currentTNode=r,o.isParent=i}function ha(){return gt.lFrame.isParent}function bn(){const r=gt.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function cs(){return gt.lFrame.bindingIndex++}function Yr(r){const i=gt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function Yu(r,i){const o=gt.lFrame;o.bindingIndex=o.bindingRootIndex=r,kl(i)}function kl(r){gt.lFrame.currentDirectiveIndex=r}function Qu(){return gt.lFrame.currentQueryIndex}function Fl(r){gt.lFrame.currentQueryIndex=r}function Ju(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Td(r,i,o){if(o&rt.SkipSelf){let u=i,h=r;for(;!(u=u.parent,null!==u||o&rt.Host||(u=Ju(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,r=h}const l=gt.lFrame=Ad();return l.currentTNode=i,l.lView=r,!0}function ga(r){const i=Ad(),o=r[1];gt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ad(){const r=gt.lFrame,i=null===r?null:r.child;return null===i?fg(r):i}function fg(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function mf(){const r=gt.lFrame;return gt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ll=mf;function _f(){const r=mf();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function nr(){return gt.lFrame.selectedIndex}function Ws(r){gt.lFrame.selectedIndex=r}function qt(){const r=gt.lFrame;return $s(r.tView,r.selectedIndex)}function To(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:A}=h;_&&(r.contentHooks||(r.contentHooks=[])).push(-o,_),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),b&&((r.viewHooks||(r.viewHooks=[])).push(o,b),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,b)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function ds(r,i,o){hs(r,i,3,o)}function ma(r,i,o,l){(3&r[2])===o&&hs(r,i,o,l)}function Qr(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function hs(r,i,o,l){const h=l??-1,_=i.length-1;let v=0;for(let C=void 0!==l?65535&r[18]:0;C<_;C++)if("number"==typeof i[C+1]){if(v=i[C],null!=l&&v>=l)break}else i[C]<0&&(r[18]+=65536),(v<h||-1==h)&&(Rd(r,o,i,C),r[18]=(4294901760&r[18])+C+2),C++}function Rd(r,i,o,l){const u=o[l]<0,h=o[l+1],v=r[u?-o[l]:o[l]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Ao{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function un(r,i,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const h=o[l++],_=o[l++],v=o[l++];r.setAttribute(i,_,v,h)}else{const h=u,_=o[++l];Zs(h)?r.setProperty(i,h,_):r.setAttribute(i,h,_),l++}}return l}function ji(r){return 3===r||4===r||6===r}function Zs(r){return 64===r.charCodeAt(0)}function vi(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?o=u:0===o||Ks(r,o,u,null,-1===o||2===o?i[++l]:null)}}return r}function Ks(r,i,o,l,u){let h=0,_=r.length;if(-1===i)_=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===i){_=-1;break}if(v>i){_=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==u&&(r[h+1]=u));if(l===r[h+1])return void(r[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==_&&(r.splice(_,0,i),h=_+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==u&&r.splice(h++,0,u)}function jl(r){return-1!==r}function Mo(r){return 32767&r}function va(r,i){let o=function ya(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let Hi=!0;function Ro(r){const i=Hi;return Hi=r,i}let Po=0;const gr={};function gs(r,i){const o=Ca(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,ms(l.data,r),ms(i,null),ms(l.blueprint,null));const u=Da(r,i),h=r.injectorIndex;if(jl(u)){const _=Mo(u),v=va(u,i),C=v[1].data;for(let b=0;b<8;b++)i[h+b]=v[_+b]|C[_+b]}return i[h+8]=u,h}function ms(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Ca(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Da(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=i;for(;null!==u;){if(l=rc(u),null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Ia(r,i,o){!function Ea(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(fo)&&(l=o[fo]),null==l&&(l=o[fo]=Po++);const u=255&l;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function _s(r,i,o){if(o&rt.Optional||void 0!==r)return r;Te()}function wa(r,i,o,l){if(o&rt.Optional&&void 0===l&&(l=null),!(o&(rt.Self|rt.Host))){const u=r[9],h=rn(void 0);try{return u?u.get(i,l,o&rt.Optional):Un(i,l,o&rt.Optional)}finally{rn(h)}}return _s(l,0,o)}function ba(r,i,o,l=rt.Default,u){if(null!==r){if(1024&i[2]){const _=function zl(r,i,o,l,u){let h=r,_=i;for(;null!==h&&null!==_&&1024&_[2]&&!(256&_[2]);){const v=Ei(h,_,o,l|rt.Self,gr);if(v!==gr)return v;let C=h.parent;if(!C){const b=_[21];if(b){const A=b.get(o,gr,l);if(A!==gr)return A}C=rc(_),_=_[15]}h=C}return u}(r,i,o,l,gr);if(_!==gr)return _}const h=Ei(r,i,o,l,gr);if(h!==gr)return h}return wa(i,o,l,u)}function Ei(r,i,o,l,u){const h=function $l(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(fo)?r[fo]:void 0;return"number"==typeof i?i>=0?255&i:Ef:i}(o);if("function"==typeof h){if(!Td(i,r,l))return l&rt.Host?_s(u,0,l):wa(i,o,l,u);try{const _=h(l);if(null!=_||l&rt.Optional)return _;Te()}finally{Ll()}}else if("number"==typeof h){let _=null,v=Ca(r,i),C=-1,b=l&rt.Host?i[16][6]:null;for((-1===v||l&rt.SkipSelf)&&(C=-1===v?Da(r,i):i[v+8],-1!==C&&Xr(l,!1)?(_=i[1],v=Mo(C),i=va(C,i)):v=-1);-1!==v;){const A=i[1];if(Gl(h,v,A.data)){const x=Hl(v,i,o,_,l,b);if(x!==gr)return x}C=i[v+8],-1!==C&&Xr(l,i[1].data[v+8]===b)&&Gl(h,v,i)?(_=A,v=Mo(C),i=va(C,i)):v=-1}}return u}function Hl(r,i,o,l,u,h){const _=i[1],v=_.data[r+8],A=Qs(v,_,o,null==l?Fr(v)&&Hi:l!=_&&0!=(3&v.type),u&rt.Host&&h===v);return null!==A?Jr(i,_,A,v):gr}function Qs(r,i,o,l,u){const h=r.providerIndexes,_=i.data,v=1048575&h,C=r.directiveStart,A=h>>20,$=u?v+A:r.directiveEnd;for(let q=l?v:v+A;q<$;q++){const de=_[q];if(q<C&&o===de||q>=C&&de.type===o)return q}if(u){const q=_[C];if(q&&cr(q)&&q.type===o)return C}return null}function Jr(r,i,o,l){let u=r[o];const h=i.data;if(function pr(r){return r instanceof Ao}(u)){const _=u;_.resolving&&function _e(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new ae(-200,`Circular dependency in DI detected for ${r}${o}`)}(function Ae(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ve(r)}(h[o]));const v=Ro(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?rn(_.injectImpl):null;Td(r,l,rt.Default);try{u=r[o]=_.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function vf(r,i,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(l){const _=Us(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,_)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==C&&rn(C),Ro(v),_.resolving=!1,Ll()}}return u}function Gl(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Xr(r,i){return!(r&rt.Self||r&rt.Host&&i)}class Dr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return ba(this._tNode,this._lView,i,ct(l),o)}}function Ef(){return new Dr(xn(),ue())}function Wl(r){return ce(()=>{const i=r.prototype.constructor,o=i[jn]||Sa(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const h=u[jn]||Sa(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Sa(r){return Oe(r)?()=>{const i=Sa(z(r));return i&&i()}:ss(r)}function rc(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function ic(r){return function nc(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(ji(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(xn(),r)}const Ta="__parameters__";function No(r,i,o){return ce(()=>{const l=function sc(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(i);function u(...h){if(this instanceof u)return l.apply(this,h),this;const _=new u(...h);return v.annotation=_,v;function v(C,b,A){const x=C.hasOwnProperty(Ta)?C[Ta]:Object.defineProperty(C,Ta,{value:[]})[Ta];for(;x.length<=A;)x.push(null);return(x[A]=x[A]||[]).push(_),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class Ht{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=We({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ti(r,i){r.forEach(o=>Array.isArray(o)?ti(o,i):i(o))}function Ra(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function xo(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Wn(r,i,o){let l=Vt(r,i);return l>=0?r[1|l]=o:(l=~l,function Nd(r,i,o,l){let u=r.length;if(u==i)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function Oa(r,i){const o=Vt(r,i);if(o>=0)return r[1|o]}function Vt(r,i){return function et(r,i,o){let l=0,u=r.length>>o;for(;u!==l;){const h=l+(u-l>>1),_=r[h<<o];if(i===_)return h<<o;_>i?u=h:l=h+1}return~(u<<o)}(r,i,1)}const Lo=Ct(No("Optional"),8),I=Ct(No("SkipSelf"),4);var jr=(()=>((jr=jr||{})[jr.Important=1]="Important",jr[jr.DashCase=2]="DashCase",jr))();const nu=new Map;let yg=0;const Vd="__ngContext__";function Zn(r,i){ur(i)?(r[Vd]=i[20],function bf(r){nu.set(r[20],r)}(i)):r[Vd]=i}function jd(r,i){return undefined(r,i)}function Ds(r){const i=r[3];return kr(i)?i[3]:i}function Is(r){return iu(r[13])}function mc(r){return iu(r[4])}function iu(r){for(;null!==r&&!kr(r);)r=r[4];return r}function La(r,i,o,l,u){if(null!=l){let h,_=!1;kr(l)?h=l:ur(l)&&(_=!0,l=l[0]);const v=mn(l);0===r&&null!==o?null==u?ja(i,o,v):Ba(i,o,v,u||null,!0):1===r&&null!==o?Ba(i,o,v,u||null,!0):2===r?function ri(r,i,o){const l=to(r,i);l&&function Of(r,i,o,l){r.removeChild(i,o,l)}(r,l,i,o)}(i,v,_):3===r&&i.destroyNode(v),null!=h&&function xf(r,i,o,l,u){const h=o[7];h!==mn(o)&&La(i,r,l,h,u);for(let v=10;v<o.length;v++){const C=o[v];$o(C[1],C,r,i,l,h)}}(i,r,h,o,u)}}function Va(r,i,o){return r.createElement(i,o)}function au(r,i){const o=r[9],l=o.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,wo(u,-1)),o.splice(l,1)}function Gd(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const u=l[17];null!==u&&u!==r&&au(u,l),i>0&&(r[o-1][4]=l[4]);const h=xo(r,10+i);!function Dg(r,i){$o(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const _=h[19];null!==_&&_.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Rf(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&$o(r,i,o,3,null,null),function Ua(r){let i=r[13];if(!i)return lu(r[1],r);for(;i;){let o=null;if(ur(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)ur(i)&&lu(i[1],i),i=i[3];null===i&&(i=r),ur(i)&&lu(i[1],i),o=i&&i[4]}i=o}}(i)}}function lu(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Sg(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=i[o[l]];if(!(u instanceof Ao)){const h=o[l+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const v=u[h[_]],C=h[_+1];try{C.call(v)}finally{}}else try{h.call(u)}finally{}}}}(r,i),function uu(r,i){const o=r.cleanup,l=i[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const _=o[h+3];_>=0?l[u=_]():l[u=-_].unsubscribe(),h+=2}else{const _=l[u=o[h+1]];o[h].call(_)}if(null!==l){for(let h=u+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&kr(i[3])){o!==i[3]&&au(o,i);const l=i[19];null!==l&&l.detachView(r)}!function Sf(r){nu.delete(r[20])}(i)}}function eo(r,i,o){return function _c(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:h}=r.data[l.directiveStart+u];if(h===Pt.None||h===Pt.Emulated)return null}return Cn(l,o)}}(r,i.parent,o)}function Ba(r,i,o,l,u){r.insertBefore(i,o,l,u)}function ja(r,i,o){r.appendChild(i,o)}function Pf(r,i,o,l,u){null!==l?Ba(r,i,o,l,u):ja(r,i,o)}function to(r,i){return r.parentNode(i)}let qd,hu,cu=function vc(r,i,o){return 40&r.type?Cn(r,o):null};function Ec(r,i,o,l){const u=eo(r,l,i),h=i[11],v=function Wd(r,i,o){return cu(r,i,o)}(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)Pf(h,u,o[C],v,!1);else Pf(h,u,o,v,!1)}function Ho(r,i){if(null!==i){const o=i.type;if(3&o)return Cn(i,r);if(4&o)return Kn(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return Ho(r,l);{const u=r[i.index];return kr(u)?Kn(-1,u):mn(u)}}if(32&o)return jd(i,r)()||mn(r[i.index]);{const l=Nf(r,i);return null!==l?Array.isArray(l)?l[0]:Ho(Ds(r[16]),l):Ho(r,i.next)}}return null}function Nf(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Kn(r,i){const o=10+r+1;if(o<i.length){const l=i[o],u=l[1].firstChild;if(null!==u)return Ho(l,u)}return i[7]}function Cc(r,i,o,l,u,h,_){for(;null!=o;){const v=l[o.index],C=o.type;if(_&&0===i&&(v&&Zn(mn(v),l),o.flags|=2),32!=(32&o.flags))if(8&C)Cc(r,i,o.child,l,u,h,!1),La(i,r,u,v,h);else if(32&C){const b=jd(o,l);let A;for(;A=b();)La(i,r,u,A,h);La(i,r,u,v,h)}else 16&C?du(r,i,l,o,u,h):La(i,r,u,v,h);o=_?o.projectionNext:o.next}}function $o(r,i,o,l,u,h){Cc(o,l,r.firstChild,i,u,h,!1)}function du(r,i,o,l,u,h){const _=o[16],C=_[6].projection[l.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)La(i,r,u,C[b],h);else Cc(r,i,C,_[3],u,h,!0)}function wi(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function ws(r,i,o){const{mergedAttrs:l,classes:u,styles:h}=o;null!==l&&un(r,i,l),null!==u&&wi(r,i,u),null!==h&&function Ki(r,i,o){r.setAttribute(i,"style",o)}(r,i,h)}function bs(r){qd=r}function Yd(r){return function Ic(){if(void 0===hu&&(hu=null,mt.trustedTypes))try{hu=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return hu}()?.createScriptURL(r)||r}class Vf{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ye})`}}function y(r){return r instanceof Vf?r.changingThisBreaksApplicationSecurity:r}function S(r,i){const o=function M(r){return r instanceof Vf&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Ye})`)}return o===i}const bc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var qn=(()=>((qn=qn||{})[qn.NONE=0]="NONE",qn[qn.HTML=1]="HTML",qn[qn.STYLE=2]="STYLE",qn[qn.SCRIPT=3]="SCRIPT",qn[qn.URL=4]="URL",qn[qn.RESOURCE_URL=5]="RESOURCE_URL",qn))();function hy(r){const i=Za();return i?i.sanitize(qn.URL,r)||"":S(r,"URL")?y(r):function Wa(r){return(r=String(r)).match(bc)?r:"unsafe:"+r}(ve(r))}function fy(r){const i=Za();if(i)return Yd(i.sanitize(qn.RESOURCE_URL,r)||"");if(S(r,"ResourceURL"))return Yd(y(r));throw new ae(904,!1)}function gy(r,i,o){return function eh(r,i){return"src"===i&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===i&&("base"===r||"link"===r)?fy:hy}(i,o)(r)}function Za(){const r=ue();return r&&r[12]}const Og=new Ht("ENVIRONMENT_INITIALIZER"),my=new Ht("INJECTOR",-1),pu=new Ht("INJECTOR_DEF_TYPES");class Mc{get(i,o=sn){if(o===sn){const l=new Error(`NullInjectorError: No provider for ${ie(i)}!`);throw l.name="NullInjectorError",l}return o}}function GC(...r){return{\u0275providers:Rc(0,r),\u0275fromNgModule:!0}}function Rc(r,...i){const o=[],l=new Set;let u;return ti(i,h=>{const _=h;Ng(_,o,[],l)&&(u||(u=[]),u.push(_))}),void 0!==u&&Pc(u,o),o}function Pc(r,i){for(let o=0;o<r.length;o++){const{providers:u}=r[o];xg(u,h=>{i.push(h)})}}function Ng(r,i,o,l){if(!(r=z(r)))return!1;let u=null,h=vr(r);const _=!h&&kt(r);if(h||_){if(_&&!_.standalone)return!1;u=r}else{const C=r.ngModule;if(h=vr(C),!h)return!1;u=C}const v=l.has(u);if(_){if(v)return!1;if(l.add(u),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const b of C)Ng(b,i,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let b;l.add(u);try{ti(h.imports,A=>{Ng(A,i,o,l)&&(b||(b=[]),b.push(A))})}finally{}void 0!==b&&Pc(b,i)}if(!v){const b=ss(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:ot},{provide:pu,useValue:u,multi:!0},{provide:Og,useValue:()=>ke(u),multi:!0})}const C=h.providers;null==C||v||xg(C,A=>{i.push(A)})}}return u!==r&&void 0!==r.providers}function xg(r,i){for(let o of r)ye(o)&&(o=o.\u0275providers),Array.isArray(o)?xg(o,i):i(o)}const WC=te({provide:String,useValue:te});function kg(r){return null!==r&&"object"==typeof r&&WC in r}function gu(r){return"function"==typeof r}const Oc=new Ht("Set Injector scope."),zo={},ZC={};let Lg;function Hf(){return void 0===Lg&&(Lg=new Mc),Lg}class mu{}class yy extends mu{get destroyed(){return this._destroyed}constructor(i,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(i,_=>this.processProvider(_)),this.records.set(my,_u(void 0,this)),u.has("environment")&&this.records.set(mu,_u(void 0,this));const h=this.records.get(Oc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(pu.multi,ot,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Bn(this),l=rn(void 0);try{return i()}finally{Bn(o),rn(l)}}get(i,o=sn,l=rt.Default){this.assertNotDestroyed(),l=ct(l);const u=Bn(this),h=rn(void 0);try{if(!(l&rt.SkipSelf)){let v=this.records.get(i);if(void 0===v){const C=function Ey(r){return"function"==typeof r||"object"==typeof r&&r instanceof Ht}(i)&&nn(i);v=C&&this.injectableDefInScope(C)?_u(Vg(i),zo):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(l&rt.Self?Hf():this.parent).get(i,o=l&rt.Optional&&o===sn?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[Pr]=_[Pr]||[]).unshift(ie(i)),u)throw _;return function L(r,i,o,l){const u=r[Pr];throw i[zr]&&u.unshift(i[zr]),r.message=function W(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=ie(i);if(Array.isArray(i))u=i.map(ie).join(" -> ");else if("object"==typeof i){let h=[];for(let _ in i)if(i.hasOwnProperty(_)){let v=i[_];h.push(_+":"+("string"==typeof v?JSON.stringify(v):ie(v)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(Ps,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Pr]=null,r}(_,i,"R3InjectorError",this.source)}throw _}finally{rn(h),Bn(u)}}resolveInjectorInitializers(){const i=Bn(this),o=rn(void 0);try{const l=this.get(Og.multi,ot,rt.Self);for(const u of l)u()}finally{Bn(i),rn(o)}}toString(){const i=[],o=this.records;for(const l of o.keys())i.push(ie(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(i){let o=gu(i=z(i))?i:z(i&&i.provide);const l=function qC(r){return kg(r)?_u(void 0,r.useValue):_u(vy(r),zo)}(i);if(gu(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=_u(void 0,zo,!0),u.factory=()=>pt(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,l)}hydrate(i,o){return o.value===zo&&(o.value=ZC,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Ug(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=z(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Vg(r){const i=nn(r),o=null!==i?i.factory:ss(r);if(null!==o)return o;if(r instanceof Ht)throw new ae(204,!1);if(r instanceof Function)return function KC(r){const i=r.length;if(i>0)throw function Js(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new ae(204,!1);const o=function ar(r){const i=r&&(r[Jn]||r[zt]);if(i){const o=function ki(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ae(204,!1)}function vy(r,i,o){let l;if(gu(r)){const u=z(r);return ss(u)||Vg(u)}if(kg(r))l=()=>z(r.useValue);else if(function zC(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...pt(r.deps||[]));else if(function _y(r){return!(!r||!r.useExisting)}(r))l=()=>ke(z(r.useExisting));else{const u=z(r&&(r.useClass||r.provide));if(!function YC(r){return!!r.deps}(r))return ss(u)||Vg(u);l=()=>new u(...pt(r.deps))}return l}function _u(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function th(r,i){for(const o of r)Array.isArray(o)?th(o,i):o&&ye(o)?th(o.\u0275providers,i):i(o)}class $f{}class Cy{}class Gf{resolveComponentFactory(i){throw function QC(r){const i=Error(`No component factory found for ${ie(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Nc=(()=>{class r{}return r.NULL=new Gf,r})();function Iy(){return Zo(xn(),ue())}function Zo(r,i){return new Ka(Cn(r,i))}let Ka=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Iy,r})();function wy(r){return r instanceof Ka?r.nativeElement:r}class xc{}let by=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function JC(){const r=ue(),o=Rn(xn().index,r);return(ur(o)?o:r)[11]}(),r})(),XC=(()=>{class r{}return r.\u0275prov=We({token:r,providedIn:"root",factory:()=>null}),r})();class Sy{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ty=new Sy("15.1.5"),Bg={};function jg(r){return r.ngOriginalError}class nh{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&jg(i);for(;o&&jg(o);)o=jg(o);return o||null}}function qa(r){return r instanceof Function?r():r}function Ny(r,i,o){let l=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=i.length;if(u+h===l||r.charCodeAt(u+h)<=32)return u}o=u+1}}const xy="ng-template";function ky(r,i,o){let l=0;for(;l<r.length;){let u=r[l++];if(o&&"class"===u){if(u=r[l],-1!==Ny(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<r.length&&"string"==typeof(u=r[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function zf(r){return 4===r.type&&r.value!==xy}function a0(r,i,o){return i===(4!==r.type||o?r.value:xy)}function Fy(r,i,o){let l=4;const u=r.attrs||[],h=function Zf(r){for(let i=0;i<r.length;i++)if(ji(r[i]))return i;return r.length}(u);let _=!1;for(let v=0;v<i.length;v++){const C=i[v];if("number"!=typeof C){if(!_)if(4&l){if(l=2|1&l,""!==C&&!a0(r,C,o)||""===C&&1===i.length){if(Ar(l))return!1;_=!0}}else{const b=8&l?C:i[++v];if(8&l&&null!==r.attrs){if(!ky(r.attrs,b,o)){if(Ar(l))return!1;_=!0}continue}const x=Hg(8&l?"class":C,u,zf(r),o);if(-1===x){if(Ar(l))return!1;_=!0;continue}if(""!==b){let $;$=x>h?"":u[x+1].toLowerCase();const q=8&l?$:null;if(q&&-1!==Ny(q,b,0)||2&l&&b!==$){if(Ar(l))return!1;_=!0}}}}else{if(!_&&!Ar(l)&&!Ar(C))return!1;if(_&&Ar(C))continue;_=!1,l=C|1&l}}return Ar(l)||_}function Ar(r){return 0==(1&r)}function Hg(r,i,o,l){if(null===i)return-1;let u=0;if(l||!o){let h=!1;for(;u<i.length;){const _=i[u];if(_===r)return u;if(3===_||6===_)h=!0;else{if(1===_||2===_){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=h?1:2}return-1}return function Kf(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function Ly(r,i,o=!1){for(let l=0;l<i.length;l++)if(Fy(r,i[l],o))return!0;return!1}function $g(r,i){return r?":not("+i.trim()+")":i}function l0(r){let i=r[0],o=1,l=2,u="",h=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&l){const v=r[++o];u+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?u+="."+_:4&l&&(u+=" "+_);else""!==u&&!Ar(_)&&(i+=$g(h,u),u=""),l=_,h=h||!Ar(l);o++}return""!==u&&(i+=$g(h,u)),i}const St={};function By(r){rh(Ft(),ue(),nr()+r,!1)}function rh(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&ds(i,h,o)}else{const h=r.preOrderHooks;null!==h&&ma(i,h,0,o)}Ws(o)}function vu(r,i=null,o=null,l){const u=Wy(r,i,o,l);return u.resolveInjectorInitializers(),u}function Wy(r,i=null,o=null,l,u=new Set){const h=[o||ot,GC(r)];return l=l||("object"==typeof r?void 0:ie(r)),new yy(h,i||Hf(),l||null,u)}let Eu=(()=>{class r{static create(o,l){if(Array.isArray(o))return vu({name:""},l,o,"");{const u=o.name??"";return vu({name:u},o.parent,o.providers,u)}}}return r.THROW_IF_NOT_FOUND=sn,r.NULL=new Mc,r.\u0275prov=We({token:r,providedIn:"any",factory:()=>ke(my)}),r.__NG_ELEMENT_ID__=-1,r})();function Vc(r,i=rt.Default){const o=ue();return null===o?ke(r,i):ba(xn(),o,z(r),i)}function Xy(){throw new Error("invalid")}function ev(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const h=o[l+1];if(-1!==h){const _=r.data[h];Fl(o[l]),_.contentQueries(2,i[h],h)}}}function Zg(r,i,o,l,u,h,_,v,C,b,A){const x=i.blueprint.slice();return x[0]=u,x[2]=76|l,(null!==A||r&&1024&r[2])&&(x[2]|=1024),Io(x),x[3]=x[15]=r,x[8]=o,x[10]=_||r&&r[10],x[11]=v||r&&r[11],x[12]=C||r&&r[12]||null,x[9]=b||r&&r[9]||null,x[6]=h,x[20]=function ni(){return yg++}(),x[21]=A,x[16]=2==i.type?r[16]:x,x}function Ko(r,i,o,l,u){let h=r.data[i];if(null===h)h=function Kg(r,i,o,l,u){const h=bo(),_=ha(),C=r.data[i]=function Du(r,i,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,o,i,l,u);return null===r.firstChild&&(r.firstChild=C),null!==h&&(_?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(r,i,o,l,u),function qu(){return gt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const _=function da(){const r=gt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return hr(h,!0),h}function Cu(r,i,o,l){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function Qf(r,i,o){ga(i);try{const l=r.viewQuery;null!==l&&sm(1,l,o);const u=r.template;null!==u&&nv(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&ev(r,i),r.staticViewQueries&&sm(2,r.viewQuery,o);const h=r.components;null!==h&&function w0(r,i){for(let o=0;o<i.length;o++)lh(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,_f()}}function Jf(r,i,o,l){const u=i[2];if(128!=(128&u)){ga(i);try{Io(i),function Bi(r){return gt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&nv(r,i,o,2,l);const _=3==(3&u);if(_){const b=r.preOrderCheckHooks;null!==b&&ds(i,b,null)}else{const b=r.preOrderHooks;null!==b&&ma(i,b,0,null),Qr(i,0)}if(function Yo(r){for(let i=Is(r);null!==i;i=mc(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const u=o[l];512&u[2]||wo(u[3],1),u[2]|=512}}}(i),function Ja(r){for(let i=Is(r);null!==i;i=mc(i))for(let o=10;o<i.length;o++){const l=i[o],u=l[1];Gs(l)&&Jf(u,l,u.template,l[8])}}(i),null!==r.contentQueries&&ev(r,i),_){const b=r.contentCheckHooks;null!==b&&ds(i,b)}else{const b=r.contentHooks;null!==b&&ma(i,b,1),Qr(i,1)}!function I0(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)Ws(~u);else{const h=u,_=o[++l],v=o[++l];Yu(_,h),v(2,i[h])}}}finally{Ws(-1)}}(r,i);const v=r.components;null!==v&&function tv(r,i){for(let o=0;o<i.length;o++)wu(r,i[o])}(i,v);const C=r.viewQuery;if(null!==C&&sm(2,C,l),_){const b=r.viewCheckHooks;null!==b&&ds(i,b)}else{const b=r.viewHooks;null!==b&&ma(i,b,2),Qr(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,wo(i[3],-1))}finally{_f()}}}function nv(r,i,o,l,u){const h=nr(),_=2&l;try{Ws(-1),_&&i.length>22&&rh(r,i,22,!1),o(l,u)}finally{Ws(h)}}function qg(r,i,o){if(_o(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const _=r.data[h];_.contentQueries&&_.contentQueries(1,o[h],h)}}}function Yg(r,i,o){ca()&&(function Uc(r,i,o,l){const u=o.directiveStart,h=o.directiveEnd;Fr(o)&&function nm(r,i,o){const l=Cn(i,r),u=Yi(o),h=r[10],_=uh(r,Zg(r,u,null,o.onPush?32:16,l,i,h,h.createRenderer(l,o),null,null,null));r[i.index]=_}(i,o,r.data[u+o.componentOffset]),r.firstCreatePass||gs(o,i),Zn(l,i);const _=o.initialInputs;for(let v=u;v<h;v++){const C=r.data[v],b=Jr(i,r,v,o);Zn(b,i),null!==_&&S0(0,v-u,b,C,0,_),cr(C)&&(Rn(o.index,i)[8]=Jr(i,r,v,o))}}(r,i,o,Cn(o,i)),64==(64&o.flags)&&tm(r,i,o))}function Qg(r,i,o=Cn){const l=i.localNames;if(null!==l){let u=i.index+1;for(let h=0;h<l.length;h+=2){const _=l[h+1],v=-1===_?o(i,r):r[_];r[u++]=v}}}function Yi(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Si(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Si(r,i,o,l,u,h,_,v,C,b){const A=22+l,x=A+u,$=function dw(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:St);return o}(A,x),q="function"==typeof b?b():b;return $[1]={type:r,blueprint:$,template:o,queries:null,viewQuery:v,declTNode:i,data:$.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:q,incompleteFirstPass:!1}}function Ya(r,i,o,l){const u=uv(i);null===o?u.push(l):(u.push(o),r.firstCreatePass&&cv(r).push(l,u.length-1))}function Qa(r,i,o,l){for(let u in r)if(r.hasOwnProperty(u)){o=null===o?{}:o;const h=r[u];null===l?N(o,i,u,h):l.hasOwnProperty(u)&&N(o,i,l[u],h)}return o}function N(r,i,o,l){r.hasOwnProperty(o)?r[o].push(i,l):r[o]=[i,l]}function ep(r,i){const o=Rn(i,r);16&o[2]||(o[2]|=32)}function Jg(r,i,o,l){let u=!1;if(ca()){const h=null===l?null:{"":-1},_=function oh(r,i){const o=r.directiveRegistry;let l=null,u=null;if(o)for(let h=0;h<o.length;h++){const _=o[h];if(Ly(i,_.selectors,!1))if(l||(l=[]),cr(_))if(null!==_.findHostDirectiveDefs){const v=[];u=u||new Map,_.findHostDirectiveDefs(_,v,u),l.unshift(...v,_),qo(r,i,v.length)}else l.unshift(_),qo(r,i,0);else u=u||new Map,_.findHostDirectiveDefs?.(_,l,u),l.push(_)}return null===l?null:[l,u]}(r,o);let v,C;null===_?v=C=null:[v,C]=_,null!==v&&(u=!0,Xg(r,i,o,v,h,C)),h&&function ov(r,i,o){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new ae(-301,!1);l.push(i[u],h)}}}(o,l,h)}return o.mergedAttrs=vi(o.mergedAttrs,o.attrs),u}function Xg(r,i,o,l,u,h){for(let b=0;b<l.length;b++)Ia(gs(o,i),r,l[b].type);!function ir(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}(o,r.data.length,l.length);for(let b=0;b<l.length;b++){const A=l[b];A.providersResolver&&A.providersResolver(A)}let _=!1,v=!1,C=Cu(r,i,l.length,null);for(let b=0;b<l.length;b++){const A=l[b];o.mergedAttrs=vi(o.mergedAttrs,A.hostAttrs),ah(r,o,i,C,A),av(C,A,u),null!==A.contentQueries&&(o.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(o.flags|=64);const x=A.type.prototype;!_&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),_=!0),!v&&(x.ngOnChanges||x.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),v=!0),C++}!function Xf(r,i,o){const u=i.directiveEnd,h=r.data,_=i.attrs,v=[];let C=null,b=null;for(let A=i.directiveStart;A<u;A++){const x=h[A],$=o?o.get(x):null,de=$?$.outputs:null;C=Qa(x.inputs,A,C,$?$.inputs:null),b=Qa(x.outputs,A,b,de);const Re=null===C||null===_||zf(i)?null:tp(C,A,_);v.push(Re)}null!==C&&(C.hasOwnProperty("class")&&(i.flags|=8),C.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=v,i.inputs=C,i.outputs=b}(r,o,h)}function tm(r,i,o){const l=o.directiveStart,u=o.directiveEnd,h=o.index,_=function xl(){return gt.lFrame.currentDirectiveIndex}();try{Ws(h);for(let v=l;v<u;v++){const C=r.data[v],b=i[v];kl(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&sv(C,b)}}finally{Ws(-1),kl(_)}}function sv(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function qo(r,i,o){i.componentOffset=o,(r.components||(r.components=[])).push(i.index)}function av(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;cr(i)&&(o[""]=r)}}function ah(r,i,o,l,u){r.data[l]=u;const h=u.factory||(u.factory=ss(u.type)),_=new Ao(h,cr(u),Vc);r.blueprint[l]=_,o[l]=_,function Iu(r,i,o,l,u){const h=u.hostBindings;if(h){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const v=~i.index;(function em(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(_)!=v&&_.push(v),_.push(o,l,h)}}(r,i,l,Cu(r,o,u.hostVars,St),u)}function Yn(r,i,o,l,u,h){const _=Cn(r,i);!function sr(r,i,o,l,u,h,_){if(null==h)r.removeAttribute(i,u,o);else{const v=null==_?ve(h):_(h,l||"",u);r.setAttribute(i,u,v,o)}}(i[11],_,h,r.value,o,l,u)}function S0(r,i,o,l,u,h){const _=h[i];if(null!==_){const v=l.setInput;for(let C=0;C<_.length;){const b=_[C++],A=_[C++],x=_[C++];null!==v?l.setInput(o,x,b,A):o[A]=x}}}function tp(r,i,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(r.hasOwnProperty(h)){null===l&&(l=[]);const _=r[h];for(let v=0;v<_.length;v+=2)if(_[v]===i){l.push(h,_[v+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function lv(r,i,o,l){return[r,!0,!1,i,null,0,l,o,null,null]}function wu(r,i){const o=Rn(i,r);if(Gs(o)){const l=o[1];48&o[2]?Jf(l,o,l.template,o[8]):o[5]>0&&rm(o)}}function rm(r){for(let l=Is(r);null!==l;l=mc(l))for(let u=10;u<l.length;u++){const h=l[u];if(Gs(h))if(512&h[2]){const _=h[1];Jf(_,h,_.template,h[8])}else h[5]>0&&rm(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=Rn(o[l],r);Gs(u)&&u[5]>0&&rm(u)}}function lh(r,i){const o=Rn(i,r),l=o[1];(function im(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),Qf(l,o,o[8])}function uh(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Ln(r){for(;r;){r[2]|=32;const i=Ds(r);if(yo(r)&&!i)return r;r=i}return null}function ch(r,i,o,l=!0){const u=i[10];u.begin&&u.begin();try{Jf(r,i,r.template,o)}catch(_){throw l&&om(i,_),_}finally{u.end&&u.end()}}function sm(r,i,o){Fl(0),i(r,o)}function uv(r){return r[7]||(r[7]=[])}function cv(r){return r.cleanup||(r.cleanup=[])}function om(r,i){const o=r[9],l=o?o.get(nh,null):null;l&&l.handleError(i)}function Xa(r,i,o,l,u){for(let h=0;h<o.length;){const _=o[h++],v=o[h++],C=i[_],b=r.data[_];null!==b.setInput?b.setInput(C,u,l,v):C[v]=u}}function Qo(r,i,o){const l=ls(i,r);!function ou(r,i,o){r.setValue(i,o)}(r[11],l,o)}function el(r,i,o){let l=o?r.styles:null,u=o?r.classes:null,h=0;if(null!==i)for(let _=0;_<i.length;_++){const v=i[_];"number"==typeof v?h=v:1==h?u=re(u,v):2==h&&(l=re(l,v+": "+i[++_]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}function np(r,i,o,l,u=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(mn(h)),kr(h))for(let v=10;v<h.length;v++){const C=h[v],b=C[1].firstChild;null!==b&&np(C[1],C,b,l)}const _=o.type;if(8&_)np(r,i,o.child,l);else if(32&_){const v=jd(o,i);let C;for(;C=v();)l.push(C)}else if(16&_){const v=Nf(i,o);if(Array.isArray(v))l.push(...v);else{const C=Ds(i[16]);np(C[1],C,v,l,!0)}}o=u?o.projectionNext:o.next}return l}class dh{get rootNodes(){const i=this._lView,o=i[1];return np(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(kr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Gd(i,l),xo(o,l))}this._attachedToViewContainer=!1}Rf(this._lView[1],this._lView)}onDestroy(i){Ya(this._lView[1],this._lView,null,i)}markForCheck(){Ln(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ch(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $d(r,i){$o(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=i}}class hh extends dh{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ch(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class fh extends Nc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=kt(i);return new Bc(o,this.ngModule)}}function am(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class fv{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,l){l=ct(l);const u=this.injector.get(i,Bg,l);return u!==Bg||o===Bg?u:this.parentInjector.get(i,o,l)}}class Bc extends Cy{get inputs(){return am(this.componentDef.inputs)}get outputs(){return am(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function u0(r){return r.map(l0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,l,u){let h=(u=u||this.ngModule)instanceof mu?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new fv(i,h):i,v=_.get(xc,null);if(null===v)throw new ae(407,!1);const C=_.get(XC,null),b=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function b0(r,i,o){return r.selectRootElement(i,o===Pt.ShadowDom)}(b,l,this.componentDef.encapsulation):Va(b,A,function hv(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(A)),$=this.componentDef.onPush?288:272,q=Si(0,null,null,1,0,null,null,null,null,null),de=Zg(null,q,null,$,null,null,v,b,C,_,null);let Re,je;ga(de);try{const qe=this.componentDef;let ht,be=null;qe.findHostDirectiveDefs?(ht=[],be=new Map,qe.findHostDirectiveDefs(qe,ht,be),ht.push(qe)):ht=[qe];const Et=function gv(r,i){const o=r[1];return r[22]=i,Ko(o,22,2,"#host",null)}(de,x),pn=function lm(r,i,o,l,u,h,_,v){const C=u[1];!function mv(r,i,o,l){for(const u of r)i.mergedAttrs=vi(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(el(i,i.mergedAttrs,!0),null!==o&&ws(l,o,i))}(l,r,i,_);const b=h.createRenderer(i,o),A=Zg(u,Yi(o),null,o.onPush?32:16,u[r.index],r,h,b,v||null,null,null);return C.firstCreatePass&&qo(C,r,l.length-1),uh(u,A),u[r.index]=A}(Et,x,qe,ht,de,v,b);je=$s(q,22),x&&function um(r,i,o,l){if(l)un(r,o,["ng-version",Ty.full]);else{const{attrs:u,classes:h}=function c0(r){const i=[],o=[];let l=1,u=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===u?""!==h&&i.push(h,r[++l]):8===u&&o.push(h);else{if(!Ar(u))break;u=h}l++}return{attrs:i,classes:o}}(i.selectors[0]);u&&un(r,o,u),h&&h.length>0&&wi(r,o,h.join(" "))}}(b,qe,x,l),void 0!==o&&function A0(r,i,o){const l=r.projection=[];for(let u=0;u<i.length;u++){const h=o[u];l.push(null!=h?Array.from(h):null)}}(je,this.ngContentSelectors,o),Re=function _v(r,i,o,l,u,h){const _=xn(),v=u[1],C=Cn(_,u);Xg(v,u,_,o,null,l);for(let A=0;A<o.length;A++)Zn(Jr(u,v,_.directiveStart+A,_),u);tm(v,u,_),C&&Zn(C,u);const b=Jr(u,v,_.directiveStart+_.componentOffset,_);if(r[8]=u[8]=b,null!==h)for(const A of h)A(b,i);return qg(v,_,r),b}(pn,qe,ht,be,de,[yv]),Qf(q,de,null)}finally{_f()}return new pv(this.componentType,Re,Zo(je,de),de,je)}}class pv extends $f{constructor(i,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new hh(u),this.componentType=i}setInput(i,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){const h=this._rootLView;Xa(h[1],h,u,i,o),ep(h,this._tNode.index)}}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function yv(){const r=xn();To(ue()[1],r)}function ph(r){let i=function vv(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let u;if(cr(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ae(903,!1);u=i.\u0275dir}if(u){if(o){l.push(u);const _=r;_.inputs=gh(r.inputs),_.declaredInputs=gh(r.declaredInputs),_.outputs=gh(r.outputs);const v=u.hostBindings;v&&Ev(r,v);const C=u.viewQuery,b=u.contentQueries;if(C&&M0(r,C),b&&R0(r,b),le(r.inputs,u.inputs),le(r.declaredInputs,u.declaredInputs),le(r.outputs,u.outputs),cr(u)&&u.data.animation){const A=r.data;A.animation=(A.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let _=0;_<h.length;_++){const v=h[_];v&&v.ngInherit&&v(r),v===ph&&(o=!1)}}i=Object.getPrototypeOf(i)}!function cm(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=vi(u.hostAttrs,o=vi(o,u.hostAttrs))}}(l)}function gh(r){return r===on?{}:r===ot?[]:r}function M0(r,i){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{i(l,u),o(l,u)}:i}function R0(r,i){const o=r.contentQueries;r.contentQueries=o?(l,u,h)=>{i(l,u,h),o(l,u,h)}:i}function Ev(r,i){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{i(l,u),o(l,u)}:i}let rp=null;function bu(){if(!rp){const r=mt.Symbol;if(r&&r.iterator)rp=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(rp=l)}}}return rp}function mh(r){return!!fm(r)&&(Array.isArray(r)||!(r instanceof Map)&&bu()in r)}function fm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Qi(r,i,o){return r[i]=o}function Mr(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function pm(r,i,o,l){const u=ue();return Mr(u,cs(),i)&&(Ft(),Yn(qt(),u,r,i,o,l)),pm}function $c(r,i,o,l,u,h){const v=function io(r,i,o,l){const u=Mr(r,i,o);return Mr(r,i+1,l)||u}(r,function fr(){return gt.lFrame.bindingIndex}(),o,u);return Yr(2),v?i+ve(o)+l+ve(u)+h:St}function Bt(r,i,o,l,u,h,_,v){const C=ue(),b=Ft(),A=r+22,x=b.firstCreatePass?function Wt(r,i,o,l,u,h,_,v,C){const b=i.consts,A=Ko(i,r,4,_||null,mi(b,v));Jg(i,o,A,mi(b,C)),To(i,A);const x=A.tViews=Si(2,A,l,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,A),x.queries=i.queries.embeddedTView(A)),A}(A,b,C,i,o,l,u,h,_):b.data[A];hr(x,!1);const $=C[11].createComment("");Ec(b,C,$,x),Zn($,C),uh(C,C[A]=lv($,C,$,x)),Cl(x)&&Yg(b,C,x),null!=_&&Qg(C,x,v)}function Zt(r,i,o){const l=ue();return Mr(l,cs(),i)&&function si(r,i,o,l,u,h,_,v){const C=Cn(i,o);let A,b=i.inputs;!v&&null!=b&&(A=b[l])?(Xa(r,o,A,l,u),Fr(i)&&ep(o,i.index)):3&i.type&&(l=function rv(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=_?_(u,i.value||"",l):u,h.setProperty(C,l,u))}(Ft(),qt(),l,r,i,l[11],o,!1),Zt}function vh(r,i,o,l,u){const _=u?"class":"style";Xa(r,o,i.inputs[_],_,l)}function il(r,i,o,l){const u=ue(),h=Ft(),_=22+r,v=u[11],C=u[_]=Va(v,i,function yf(){return gt.lFrame.currentNamespace}()),b=h.firstCreatePass?function V0(r,i,o,l,u,h,_){const v=i.consts,b=Ko(i,r,2,u,mi(v,h));return Jg(i,o,b,mi(v,_)),null!==b.attrs&&el(b,b.attrs,!1),null!==b.mergedAttrs&&el(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(_,h,u,0,i,o,l):h.data[_];return hr(b,!0),ws(v,C,b),32!=(32&b.flags)&&Ec(h,u,C,b),0===function ua(){return gt.lFrame.elementDepthCount}()&&Zn(C,u),function Ml(){gt.lFrame.elementDepthCount++}(),Cl(b)&&(Yg(h,u,b),qg(h,b,u)),null!==l&&Qg(u,b),il}function Eh(){let r=xn();ha()?function fa(){gt.lFrame.isParent=!1}():(r=r.parent,hr(r,!1));const i=r;!function Rl(){gt.lFrame.elementDepthCount--}();const o=Ft();return o.firstCreatePass&&(To(o,r),_o(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function tc(r){return 0!=(8&r.flags)}(i)&&vh(o,i,ue(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function _a(r){return 0!=(16&r.flags)}(i)&&vh(o,i,ue(),i.stylesWithoutHost,!1),Eh}function cn(r,i,o,l){return il(r,i,o,l),Eh(),cn}function Ai(){return ue()}function Im(r){return!!r&&"function"==typeof r.then}function bv(r){return!!r&&"function"==typeof r.subscribe}const Sv=bv;function sp(r,i,o,l){const u=ue(),h=Ft(),_=xn();return function zc(r,i,o,l,u,h,_){const v=Cl(l),b=r.firstCreatePass&&cv(r),A=i[8],x=uv(i);let $=!0;if(3&l.type||_){const Re=Cn(l,i),je=_?_(Re):Re,qe=x.length,ht=_?Et=>_(mn(Et[l.index])):l.index;let be=null;if(!_&&v&&(be=function wm(r,i,o,l){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const _=u[h];if(_===o&&u[h+1]===l){const v=i[7],C=u[h+2];return v.length>C?v[C]:null}"string"==typeof _&&(h+=2)}return null}(r,i,u,l.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=h,be.__ngLastListenerFn__=h,$=!1;else{h=bm(l,i,A,h,!1);const Et=o.listen(je,u,h);x.push(h,Et),b&&b.push(u,ht,qe,qe+1)}}else h=bm(l,i,A,h,!1);const q=l.outputs;let de;if($&&null!==q&&(de=q[u])){const Re=de.length;if(Re)for(let je=0;je<Re;je+=2){const pn=i[de[je]][de[je+1]].subscribe(h),Vn=x.length;x.push(h,pn),b&&b.push(u,l.index,Vn,-(Vn+1))}}}(h,u,u[11],_,r,i,l),sp}function Tv(r,i,o,l){try{return!1!==o(l)}catch(u){return om(r,u),!1}}function bm(r,i,o,l,u){return function h(_){if(_===Function)return l;Ln(r.componentOffset>-1?Rn(r.index,i):i);let C=Tv(i,0,l,_),b=h.__ngNextListenerFn__;for(;b;)C=Tv(i,0,b,_)&&C,b=b.__ngNextListenerFn__;return u&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function Av(r=1){return function pg(r){return(gt.lFrame.contextLView=function Xu(r,i){for(;r>0;)i=i[15],r--;return i}(r,gt.lFrame.contextLView))[8]}(r)}function op(r,i){return r<<17|i<<2}function so(r){return r>>17&32767}function ap(r){return 2|r}function al(r){return(131068&r)>>2}function lp(r,i){return-131069&r|i<<2}function up(r){return 1|r}function tn(r,i,o,l,u){const h=r[o+1],_=null===i;let v=l?so(h):al(h),C=!1;for(;0!==v&&(!1===C||_);){const A=r[v+1];W0(r[v],i)&&(C=!0,r[v+1]=l?up(A):ap(A)),v=l?so(A):al(A)}C&&(r[o+1]=l?ap(h):up(h))}function W0(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Vt(r,i)>=0}function Ru(r,i){return function Ts(r,i,o,l){const u=ue(),h=Ft(),_=Yr(2);h.firstUpdatePass&&function Nv(r,i,o,l){const u=r.data;if(null===u[o+1]){const h=u[nr()],_=function Ov(r,i){return i>=r.expandoStartIndex}(r,o);(function fp(r,i){return 0!=(r.flags&(i?8:16))})(h,l)&&null===i&&!_&&(i=!1),i=function Y0(r,i,o,l){const u=function _i(r){const i=gt.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(o=ll(o=Om(null,r,i,o,l),i.attrs,l),h=null);else{const _=i.directiveStylingLast;if(-1===_||r[_]!==u)if(o=Om(u,r,i,o,l),null===h){let C=function Rm(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==al(l))return r[so(l)]}(r,i,l);void 0!==C&&Array.isArray(C)&&(C=Om(null,r,i,C[1],l),C=ll(C,i.attrs,l),function Q0(r,i,o,l){r[so(o?i.classBindings:i.styleBindings)]=l}(r,i,l,C))}else h=function Pm(r,i,o){let l;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)l=ll(l,r[h].hostAttrs,o);return ll(l,i.attrs,o)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,l),function $0(r,i,o,l,u,h){let _=h?i.classBindings:i.styleBindings,v=so(_),C=al(_);r[l]=o;let A,b=!1;if(Array.isArray(o)?(A=o[1],(null===A||Vt(o,A)>0)&&(b=!0)):A=o,u)if(0!==C){const $=so(r[v+1]);r[l+1]=op($,v),0!==$&&(r[$+1]=lp(r[$+1],l)),r[v+1]=function j0(r,i){return 131071&r|i<<17}(r[v+1],l)}else r[l+1]=op(v,0),0!==v&&(r[v+1]=lp(r[v+1],l)),v=l;else r[l+1]=op(C,0),0===v?v=l:r[C+1]=lp(r[C+1],l),C=l;b&&(r[l+1]=ap(r[l+1])),tn(r,A,l,!0),tn(r,A,l,!1),function G0(r,i,o,l,u){const h=u?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Vt(h,i)>=0&&(o[l+1]=up(o[l+1]))}(i,A,r,l,h),_=op(v,C),h?i.classBindings=_:i.styleBindings=_}(u,h,i,o,_,l)}}(h,r,_,l),i!==St&&Mr(u,_,i)&&function kv(r,i,o,l,u,h,_,v){if(!(3&i.type))return;const C=r.data,b=C[v+1],A=function Zc(r){return 1==(1&r)}(b)?Sh(C,i,o,u,al(b),_):void 0;Xo(A)||(Xo(h)||function Tm(r){return 2==(2&r)}(b)&&(h=Sh(C,null,o,u,v,_)),function $a(r,i,o,l,u){if(i)u?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:jr.DashCase;null==u?r.removeStyle(o,l,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=jr.Important),r.setStyle(o,l,u,h))}}(l,_,ls(nr(),o),u,h))}(h,h.data[nr()],u,u[11],r,u[_+1]=function xm(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=ie(y(r)))),r}(i,o),l,_)}(r,i,null,!0),Ru}function Om(r,i,o,l,u){let h=null;const _=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<_&&(h=i[v],l=ll(l,h.hostAttrs,u),h!==r);)v++;return null!==r&&(o.directiveStylingLast=v),l}function ll(r,i,o){const l=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const _=i[h];"number"==typeof _?u=_:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Wn(r,_,!!o||i[++h]))}return void 0===r?null:r}function Sh(r,i,o,l,u,h){const _=null===i;let v;for(;u>0;){const C=r[u],b=Array.isArray(C),A=b?C[1]:C,x=null===A;let $=o[u+1];$===St&&($=x?ot:void 0);let q=x?Oa($,l):A===l?$:void 0;if(b&&!Xo(q)&&(q=Oa(C,l)),Xo(q)&&(v=q,_))return v;const de=r[u+1];u=_?so(de):al(de)}if(null!==i){let C=h?i.residualClasses:i.residualStyles;null!=C&&(v=Oa(C,l))}return v}function Xo(r){return void 0!==r}function Fv(r,i=""){const o=ue(),l=Ft(),u=r+22,h=l.firstCreatePass?Ko(l,u,1,i,null):l.data[u],_=o[u]=function su(r,i){return r.createText(i)}(o[11],i);Ec(l,o,_,h),hr(h,!1)}function km(r){return pp("",r,""),km}function pp(r,i,o){const l=ue(),u=function Hc(r,i,o,l){return Mr(r,cs(),o)?i+ve(o)+l:St}(l,r,i,o);return u!==St&&Qo(l,nr(),u),pp}function Fm(r,i,o,l,u){const h=ue(),_=$c(h,r,i,o,l,u);return _!==St&&Qo(h,nr(),_),Fm}const xu=void 0;var iD=["en",[["a","p"],["AM","PM"],xu],[["AM","PM"],xu,xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xu,"{1} 'at' {0}",xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rD(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Qc={};function jm(r){const i=function sD(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=$m(i);if(o)return o;const l=i.split("-")[0];if(o=$m(l),o)return o;if("en"===l)return iD;throw new ae(701,!1)}function Hm(r){return jm(r)[dt.PluralCase]}function $m(r){return r in Qc||(Qc[r]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[r]),Qc[r]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const Jc="en-US";let wp=Jc;function Np(r,i,o,l,u){if(r=z(r),Array.isArray(r))for(let h=0;h<r.length;h++)Np(r[h],i,o,l,u);else{const h=Ft(),_=ue();let v=gu(r)?r:z(r.provide),C=vy(r);const b=xn(),A=1048575&b.providerIndexes,x=b.directiveStart,$=b.providerIndexes>>20;if(gu(r)||!r.multi){const q=new Ao(C,u,Vc),de=Bh(v,i,u?A:A+$,x);-1===de?(Ia(gs(b,_),h,v),Uh(h,r,i.length),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(q),_.push(q)):(o[de]=q,_[de]=q)}else{const q=Bh(v,i,A+$,x),de=Bh(v,i,A,A+$),je=de>=0&&o[de];if(u&&!je||!u&&!(q>=0&&o[q])){Ia(gs(b,_),h,v);const qe=function cE(r,i,o,l,u){const h=new Ao(r,o,Vc);return h.multi=[],h.index=i,h.componentProviders=0,xp(h,u,l&&!o),h}(u?ku:kp,o.length,u,l,C);!u&&je&&(o[de].providerFactory=qe),Uh(h,r,i.length,0),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),o.push(qe),_.push(qe)}else Uh(h,r,q>-1?q:de,xp(o[u?de:q],C,!u&&l));!u&&l&&je&&o[de].componentProviders++}}}function Uh(r,i,o,l){const u=gu(i),h=function Fg(r){return!!r.useClass}(i);if(u||h){const C=(h?z(i.useClass):i).prototype.ngOnDestroy;if(C){const b=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const A=b.indexOf(o);-1===A?b.push(o,[l,C]):b[A+1].push(l,C)}else b.push(o,C)}}}function xp(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Bh(r,i,o,l){for(let u=o;u<l;u++)if(i[u]===r)return u;return-1}function kp(r,i,o,l){return jh(this.multi,[])}function ku(r,i,o,l){const u=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=Jr(o,o[1],this.providerFactory.index,l);h=v.slice(0,_),jh(u,h);for(let C=_;C<v.length;C++)h.push(v[C])}else h=[],jh(u,h);return h}function jh(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function dE(r,i=[]){return o=>{o.providersResolver=(l,u)=>function SD(r,i,o){const l=Ft();if(l.firstCreatePass){const u=cr(r);Np(o,l.data,l.blueprint,u,!0),Np(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class ta{}class s_{}function TD(r,i){return new Lp(r,i??null)}class Lp extends ta{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fh(this);const l=Hn(i);this._bootstrapComponents=qa(l.bootstrap),this._r3Injector=Wy(i,o,[{provide:ta,useValue:this},{provide:Nc,useValue:this.componentFactoryResolver}],ie(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class o_ extends s_{constructor(i){super(),this.moduleType=i}create(i){return new Lp(this.moduleType,i)}}class AD extends ta{constructor(i,o,l){super(),this.componentFactoryResolver=new fh(this),this.instance=null;const u=new yy([...i,{provide:ta,useValue:this},{provide:Nc,useValue:this.componentFactoryResolver}],o||Hf(),l,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function a_(r,i,o=null){return new AD(r,i,o).injector}let l_=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Rc(0,o.type),u=l.length>0?a_([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=We({token:r,providedIn:"environment",factory:()=>new r(ke(mu))}),r})();function Hh(r){r.getStandaloneInjector=i=>i.get(l_).getOrCreateStandaloneInjector(r)}function d_(r,i,o){const l=bn()+r,u=ue();return u[l]===St?Qi(u,l,o?i.call(o):i()):function _h(r,i){return r[i]}(u,l)}function mE(r,i,o,l){return function Up(r,i,o,l,u,h){const _=i+o;return Mr(r,_,u)?Qi(r,_+1,h?l.call(h,u):l(u)):function Wh(r,i){const o=r[i];return o===St?void 0:o}(r,_+1)}(ue(),bn(),r,i,o,l)}function lo(r){return i=>{setTimeout(r,void 0,i)}}const uo=class ud extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){let u=i,h=o||(()=>null),_=l;if(i&&"object"==typeof i){const C=i;u=C.next?.bind(C),h=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(h=lo(h),u&&(u=lo(u)),_&&(_=lo(_)));const v=super.subscribe({next:u,error:h,complete:_});return i instanceof K.w0&&i.add(v),v}};function f_(){return this._results[bu()]()}class cd{get changes(){return this._changes||(this._changes=new uo)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=bu(),l=cd.prototype;l[o]||(l[o]=f_)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const u=function rr(r){return r.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function cc(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],h=i[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kh=(()=>{class r{}return r.__NG_ELEMENT_ID__=wE,r})();const dd=Kh,BD=class extends dd{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i,o){const l=this._declarationTContainer.tViews,u=Zg(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,o||null);u[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(u[19]=_.createEmbeddedView(l)),Qf(l,u,i),new dh(u)}};function wE(){return qh(xn(),ue())}function qh(r,i){return 4&r.type?new BD(i,r,Zo(r,i)):null}let Yh=(()=>{class r{}return r.__NG_ELEMENT_ID__=jp,r})();function jp(){return $p(xn(),ue())}const p_=Yh,Hp=class extends p_{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){const i=Da(this._hostTNode,this._hostLView);if(jl(i)){const o=va(i,this._hostLView),l=Mo(i);return new Dr(o[1].data[l+8],o)}return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=bE(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){let u,h;"number"==typeof l?u=l:null!=l&&(u=l.index,h=l.injector);const _=i.createEmbeddedView(o||{},h);return this.insert(_,u),_}createComponent(i,o,l,u,h){const _=i&&!function Ma(r){return"function"==typeof r}(i);let v;if(_)v=o;else{const x=o||{};v=x.index,l=x.injector,u=x.projectableNodes,h=x.environmentInjector||x.ngModuleRef}const C=_?i:new Bc(kt(i)),b=l||this.parentInjector;if(!h&&null==C.ngModule){const $=(_?b:this.parentInjector).get(mu,null);$&&(h=$)}const A=C.create(b,u,void 0,h);return this.insert(A.hostView,v),A}insert(i,o){const l=i._lView,u=l[1];if(function aa(r){return kr(r[3])}(l)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const x=l[3],$=new Hp(x,x[6],x[3]);$.detach($.indexOf(i))}}const h=this._adjustIndex(o),_=this._lContainer;!function wg(r,i,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=i),l<h-10?(i[4]=o[u],Ra(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const _=i[17];null!==_&&o!==_&&function bg(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(_,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=64}(u,l,_,h);const v=Kn(h,_),C=l[11],b=to(C,_[7]);return null!==b&&function Ig(r,i,o,l,u,h){l[0]=u,l[6]=i,$o(r,l,o,1,u,h)}(u,_[6],C,l,b,v),i.attachToViewContainerRef(),Ra(g_(_),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=bE(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Gd(this._lContainer,o);l&&(xo(g_(this._lContainer),o),Rf(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Gd(this._lContainer,o);return l&&null!=xo(g_(this._lContainer),o)?new dh(l):null}_adjustIndex(i,o=0){return i??this.length+o}};function bE(r){return r[8]}function g_(r){return r[8]||(r[8]=[])}function $p(r,i){let o;const l=i[r.index];if(kr(l))o=l;else{let u;if(8&r.type)u=mn(l);else{const h=i[11];u=h.createComment("");const _=Cn(r,i);Ba(h,to(h,_),u,function Ha(r,i){return r.nextSibling(i)}(h,_),!1)}i[r.index]=o=lv(l,i,u,r),uh(i,o)}return new Hp(o,r,i)}class m_{constructor(i){this.queryList=i,this.matches=null}clone(){return new m_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gp{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const _=o.getByIndex(h);u.push(this.queries[_.indexInDeclarationView].clone())}return new Gp(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Kp(i,o).matches&&this.queries[o].setDirty()}}class SE{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class Wp{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new Wp(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class zp{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new zp(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(i,o,__(o,h)),this.matchTNodeWithReadOption(i,o,Qs(o,i,h,!1,!1))}else l===Kh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Qs(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===Ka||u===Yh||u===Kh&&4&o.type)this.addMatch(o.index,-2);else{const h=Qs(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function __(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function ui(r,i,o,l){return-1===o?function TE(r,i){return 11&r.type?Zo(r,i):4&r.type?qh(r,i):null}(i,r):-2===o?function Zp(r,i,o){return o===Ka?Zo(i,r):o===Kh?qh(i,r):o===Yh?$p(i,r):void 0}(r,i,l):Jr(r,r[1],o,i)}function na(r,i,o,l){const u=i[19].queries[l];if(null===u.matches){const h=r.data,_=o.matches,v=[];for(let C=0;C<_.length;C+=2){const b=_[C];v.push(b<0?null:ui(i,h[b],_[C+1],o.metadata.read))}u.matches=v}return u.matches}function hd(r,i,o,l){const u=r.queries.getByIndex(o),h=u.matches;if(null!==h){const _=na(r,i,u,o);for(let v=0;v<h.length;v+=2){const C=h[v];if(C>0)l.push(_[v/2]);else{const b=h[v+1],A=i[-C];for(let x=10;x<A.length;x++){const $=A[x];$[17]===$[3]&&hd($[1],$,b,l)}if(null!==A[9]){const x=A[9];for(let $=0;$<x.length;$++){const q=x[$];hd(q[1],q,b,l)}}}}}return l}function Oi(r){const i=ue(),o=Ft(),l=Qu();Fl(l+1);const u=Kp(o,l);if(r.dirty&&function Do(r){return 4==(4&r[2])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?hd(o,i,l,[]):na(o,i,u,l);r.reset(h,wy),r.notifyOnChanges()}return!0}return!1}function y_(r,i,o,l){const u=Ft();if(u.firstCreatePass){const h=xn();(function AE(r,i,o){null===r.queries&&(r.queries=new Wp),r.queries.track(new zp(i,o))})(u,new SE(i,o,l),h.index),function HD(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function jD(r,i,o){const l=new cd(4==(4&o));Ya(r,i,l,l.destroy),null===i[19]&&(i[19]=new Gp),i[19].queries.push(new m_(l))}(u,ue(),o)}function v_(){return function Lu(r,i){return r[19].queries[i].queryList}(ue(),Qu())}function Kp(r,i){return r.queries.getByIndex(i)}function M_(...r){}const WE=new Ht("Application Initializer");let Xp=(()=>{class r{constructor(o){this.appInits=o,this.resolve=M_,this.reject=M_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(Im(h))o.push(h);else if(Sv(h)){const _=new Promise((v,C)=>{h.subscribe({complete:v,error:C})});o.push(_)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(ke(WE,8))},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const R_=new Ht("AppId",{providedIn:"root",factory:function zE(){return`${P_()}${P_()}${P_()}`}});function P_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZE=new Ht("Platform Initializer"),pl=new Ht("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),or=new Ht("appBootstrapListener");let tI=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const tg=new Ht("LocaleId",{providedIn:"root",factory:()=>ze(tg,rt.Optional|rt.SkipSelf)||function nI(){return typeof $localize<"u"&&$localize.locale||Jc}()}),rI=new Ht("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class KE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let qE=(()=>{class r{compileModuleSync(o){return new o_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=qa(Hn(o).declarations).reduce((_,v)=>{const C=kt(v);return C&&_.push(new Bc(C)),_},[]);return new KE(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const jw=(()=>Promise.resolve(0))();function QE(r){typeof Zone>"u"?jw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Rs{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uo(!1),this.onMicrotaskEmpty=new uo(!1),this.onStable=new uo(!1),this.onError=new uo(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function oI(){let r=mt.requestAnimationFrame,i=mt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Ww(r){const i=()=>{!function Gw(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(mt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,XE(r),r.isCheckStableRunning=!0,JE(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),XE(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,_,v)=>{try{return aI(r),o.invokeTask(u,h,_,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),lI(r)}},onInvoke:(o,l,u,h,_,v,C)=>{try{return aI(r),o.invoke(u,h,_,v,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),lI(r)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,XE(r),JE(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new ae(909,!1)}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,u){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+u,i,$w,M_,M_);try{return h.runTask(_,o,l)}finally{h.cancelTask(_)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const $w={};function JE(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function XE(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function aI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function lI(r){r._nesting--,JE(r)}class x_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uo,this.onMicrotaskEmpty=new uo,this.onStable=new uo,this.onError=new uo}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,u){return i.apply(o,l)}}const k_=new Ht(""),eC=new Ht("");let Jh,yr=(()=>{class r{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jh||(function rg(r){Jh=r}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),QE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())QE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(ke(Rs),ke(tC),ke(eC))},r.\u0275prov=We({token:r,factory:r.\u0275fac}),r})(),tC=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Jh?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),gl=null;const nC=new Ht("AllowMultipleToken"),F_=new Ht("PlatformDestroyListeners");class dI{constructor(i,o){this.name=i,this.token=o}}function Xh(r,i,o=[]){const l=`Platform: ${i}`,u=new Ht(l);return(h=[])=>{let _=U_();if(!_||_.injector.get(nC,!1)){const v=[...o,...h,{provide:u,useValue:!0}];r?r(v):function Gr(r){if(gl&&!gl.get(nC,!1))throw new ae(400,!1);gl=r;const i=r.get(iC);(function L_(r){const i=r.get(ZE,null);i&&i.forEach(o=>o())})(r)}(function sg(r=[],i){return Eu.create({name:i,providers:[{provide:Oc,useValue:"platform"},{provide:F_,useValue:new Set([()=>gl=null])},...r]})}(v,l))}return function V_(r){const i=U_();if(!i)throw new ae(401,!1);return i}()}}function U_(){return gl?.get(iC)??null}let iC=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const u=function oC(r,i){let o;return o="noop"===r?new x_:("zone.js"===r?void 0:r)||new Rs(i),o}(l?.ngZone,function sC(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:Rs,useValue:u}];return u.run(()=>{const _=Eu.create({providers:h,parent:this.injector,name:o.moduleType.name}),v=o.create(_),C=v.injector.get(nh,null);if(!C)throw new ae(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:A=>{C.handleError(A)}});v.onDestroy(()=>{ef(this._modules,v),b.unsubscribe()})}),function md(r,i,o){try{const l=o();return Im(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(C,u,()=>{const b=v.injector.get(Xp);return b.runInitializers(),b.donePromise.then(()=>(function Gm(r){He(r,"Expected localeId to be defined"),"string"==typeof r&&(wp=r.toLowerCase().replace(/_/g,"-"))}(v.injector.get(tg,Jc)||Jc),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,l=[]){const u=B_({},l);return function uI(r,i,o){const l=new o_(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(Vu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ae(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(F_,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(ke(Eu))},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function B_(r,i){return Array.isArray(i)?i.reduce(B_,r):{...r,...i}}let Vu=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,l,u){this._zone=o,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),_=new P.y(v=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),QE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{C.unsubscribe(),b.unsubscribe()}});this.isStable=(0,ee.T)(h,_.pipe((0,X.B)()))}bootstrap(o,l){const u=o instanceof Cy;if(!this._injector.get(Xp).done)throw!u&&vn(o),new ae(405,false);let _;_=u?o:this._injector.get(Nc).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const v=function cI(r){return r.isBoundToModule}(_)?void 0:this._injector.get(ta),b=_.create(Eu.NULL,[],l||_.selector,v),A=b.location.nativeElement,x=b.injector.get(k_,null);return x?.registerApplication(A),b.onDestroy(()=>{this.detachView(b.hostView),ef(this.components,b),x?.unregisterApplication(A)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;ef(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(or,[]);l.push(...this._bootstrapListeners),l.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>ef(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ae(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(ke(Rs),ke(mu),ke(nh))},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ef(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}function fI(){return!1}let H_=(()=>{class r{}return r.__NG_ELEMENT_ID__=uC,r})();function uC(r){return function tf(r,i,o){if(Fr(r)&&!o){const l=Rn(r.index,i);return new dh(l,l)}return 47&r.type?new dh(i[16],i):null}(xn(),ue(),16==(16&r))}class gC{constructor(){}supports(i){return mh(i)}create(i){return new yI(i)}}const _I=(r,i)=>i;class yI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||_I}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const _=!l||o&&o.currentIndex<_C(l,u,h)?o:l,v=_C(_,u,h),C=_.currentIndex;if(_===l)u--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)u++;else{h||(h=[]);const b=v-u,A=C-u;if(b!=A){for(let $=0;$<b;$++){const q=$<h.length?h[$]:h[$]=0,de=q+$;A<=de&&de<b&&(h[$]=q+1)}h[_.previousIndex]=A-b}}v!==C&&i(_,v,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!mh(i))throw new ae(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,_,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],_=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,h,_,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,_,v),l=!0),o=o._next}else u=0,function L0(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[bu()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,v=>{_=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,v,_,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,_,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new vI(o,l),h,u),i}_verifyReinsertion(i,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new mC),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class vI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class mC{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new EI,this.map.set(o,l)),l.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _C(r,i,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+i+u}class cf{constructor(){}supports(i){return i instanceof Map||fm(i)}create(){return new yC}}class yC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||fm(i)))throw new ae(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,_=u._next;return h&&(h._next=_),_&&(_._prev=h),u._next=null,u._prev=null,u}const l=new vC(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class vC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ag(){return new z_([new gC])}let z_=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||ag()),deps:[[r,new I,new Lo]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new ae(901,!1)}}return r.\u0275prov=We({token:r,providedIn:"root",factory:ag}),r})();function EC(){return new lg([new cf])}let lg=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||EC()),deps:[[r,new I,new Lo]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new ae(901,!1)}}return r.\u0275prov=We({token:r,providedIn:"root",factory:EC}),r})();const eb=Xh(null,"core",[]);let II=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(ke(Vu))},r.\u0275mod=an({type:r}),r.\u0275inj=Qt({}),r})();function tb(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Xe,me,O)=>{O.d(me,{Z:()=>Ve});var f=O(2090),K=O(4859),P=O(9681),ee=O(1877);class X{constructor(ae,Ce){this._delegate=ae,this.firebase=Ce,(0,P._addComponent)(ae,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ae,Ce=P._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(ae);return!Ae.isInitialized()&&"EXPLICIT"===(null===(ve=Ae.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:Ce})}_removeServiceInstance(ae,Ce=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(Ce)}_addComponent(ae){(0,P._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,P._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function re(){const Ye=function ie(Ye){const ae={},Ce={__esModule:!0,initializeApp:function _e(Se,V={}){const he=P.initializeApp(Se,V);if((0,f.r3)(ae,he.name))return ae[he.name];const Pe=new Ye(he,Ce);return ae[he.name]=Pe,Pe},app:Ae,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(Se){const V=Se.name,he=V.replace("-compat","");if(P._registerComponent(Se)&&"PUBLIC"===Se.type){const Pe=(Be=Ae())=>{if("function"!=typeof Be[he])throw le.create("invalid-app-argument",{appName:V});return Be[he]()};void 0!==Se.serviceProps&&(0,f.ZB)(Pe,Se.serviceProps),Ce[he]=Pe,Ye.prototype[he]=function(...Be){return this._getService.bind(this,V).apply(this,Se.multipleInstances?Be:[])}}return"PUBLIC"===Se.type?Ce[he]:null},removeApp:function ve(Se){delete ae[Se]},useAsService:function Te(Se,V){return"serverAuth"===V?null:V},modularAPIs:P}};function Ae(Se){if(!(0,f.r3)(ae,Se=Se||P._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Se});return ae[Se]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function pe(){return Object.keys(ae).map(Se=>ae[Se])}}),Ae.App=Ye,Ce}(X);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function ae(Ce){(0,f.ZB)(Ye,Ce)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ye}(),j=new ee.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=B;!function ye(Ye){(0,P.registerVersion)("@firebase/app-compat","0.2.3",Ye)}()},9681:(Xe,me,O)=>{O.r(me),O.d(me,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>ar,_DEFAULT_ENTRY_NAME:()=>Me,_addComponent:()=>jt,_addOrOverwriteComponent:()=>at,_apps:()=>He,_clearComponents:()=>Qt,_components:()=>Ue,_getProvider:()=>We,_registerComponent:()=>Lt,_removeServiceInstance:()=>_t,deleteApp:()=>Fi,getApp:()=>vr,getApps:()=>Jn,initializeApp:()=>ki,onLog:()=>rt,registerVersion:()=>lr,setLogLevel:()=>di});var f=O(5861),K=O(4859),P=O(1877),ee=O(2090),X=O(8766);class te{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function le(ke){return"VERSION"===ke.getComponent()?.type}(ze)){const ct=ze.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(ze=>ze).join(" ")}}const ie="@firebase/app",B=new P.Yd("@firebase/app"),Me="[DEFAULT]",Ne={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},He=new Map,Ue=new Map;function jt(ke,ge){try{ke.container.addComponent(ge)}catch(ze){B.debug(`Component ${ge.name} failed to register with FirebaseApp ${ke.name}`,ze)}}function at(ke,ge){ke.container.addOrOverwriteComponent(ge)}function Lt(ke){const ge=ke.name;if(Ue.has(ge))return B.debug(`There were multiple attempts to register component ${ge}.`),!1;Ue.set(ge,ke);for(const ze of He.values())jt(ze,ke);return!0}function We(ke,ge){const ze=ke.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),ke.container.getProvider(ge)}function _t(ke,ge,ze=Me){We(ke,ge).clearInstance(ze)}function Qt(){Ue.clear()}const Jt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xt{constructor(ge,ze,ct){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const ar="9.17.1";function ki(ke,ge={}){let ze=ke;"object"!=typeof ge&&(ge={name:ge});const ct=Object.assign({name:Me,automaticDataCollectionEnabled:!1},ge),pt=ct.name;if("string"!=typeof pt||!pt)throw Jt.create("bad-app-name",{appName:String(pt)});if(ze||(ze=(0,ee.aH)()),!ze)throw Jt.create("no-options");const Ct=He.get(pt);if(Ct){if((0,ee.vZ)(ze,Ct.options)&&(0,ee.vZ)(ct,Ct.config))return Ct;throw Jt.create("duplicate-app",{appName:pt})}const U=new K.H0(pt);for(const W of Ue.values())U.addComponent(W);const L=new Xt(ze,ct,U);return He.set(pt,L),L}function vr(ke=Me){const ge=He.get(ke);if(!ge&&ke===Me)return ki();if(!ge)throw Jt.create("no-app",{appName:ke});return ge}function Jn(){return Array.from(He.values())}function Fi(ke){return zt.apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(ke){const ge=ke.name;He.has(ge)&&(He.delete(ge),yield Promise.all(ke.container.getProviders().map(ze=>ze.delete())),ke.isDeleted=!0)})).apply(this,arguments)}function lr(ke,ge,ze){var ct;let pt=null!==(ct=Ne[ke])&&void 0!==ct?ct:ke;ze&&(pt+=`-${ze}`);const Ct=pt.match(/\s|\//),U=ge.match(/\s|\//);if(Ct||U){const L=[`Unable to register library "${pt}" with version "${ge}":`];return Ct&&L.push(`library name "${pt}" contains illegal characters (whitespace or "/")`),Ct&&U&&L.push("and"),U&&L.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void B.warn(L.join(" "))}Lt(new K.wA(`${pt}-version`,()=>({library:pt,version:ge}),"VERSION"))}function rt(ke,ge){if(null!==ke&&"function"!=typeof ke)throw Jt.create("invalid-log-argument");(0,P.Am)(ke,ge)}function di(ke){(0,P.Ub)(ke)}const Un="firebase-heartbeat-store";let Li=null;function mt(){return Li||(Li=(0,X.X3)("firebase-heartbeat-database",1,{upgrade:(ke,ge)=>{0===ge&&ke.createObjectStore(Un)}}).catch(ke=>{throw Jt.create("idb-open",{originalErrorMessage:ke.message})})),Li}function lt(){return(lt=(0,f.Z)(function*(ke){try{return(yield mt()).transaction(Un).objectStore(Un).get(en(ke))}catch(ge){if(ge instanceof ee.ZR)B.warn(ge.message);else{const ze=Jt.create("idb-get",{originalErrorMessage:ge?.message});B.warn(ze.message)}}})).apply(this,arguments)}function hi(ke,ge){return sn.apply(this,arguments)}function sn(){return(sn=(0,f.Z)(function*(ke,ge){try{const ct=(yield mt()).transaction(Un,"readwrite");return yield ct.objectStore(Un).put(ge,en(ke)),ct.done}catch(ze){if(ze instanceof ee.ZR)B.warn(ze.message);else{const ct=Jt.create("idb-set",{originalErrorMessage:ze?.message});B.warn(ct.message)}}})).apply(this,arguments)}function en(ke){return`${ke.name}!${ke.options.appId}`}class Ps{constructor(ge){this.container=ge,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new xt(ze),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var ge=this;return(0,f.Z)(function*(){const ct=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pt=Ut();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==pt&&!ge._heartbeatsCache.heartbeats.some(Ct=>Ct.date===pt))return ge._heartbeatsCache.heartbeats.push({date:pt,agent:ct}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(Ct=>{const U=new Date(Ct.date).valueOf();return Date.now()-U<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,f.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const ze=Ut(),{heartbeatsToSend:ct,unsentEntries:pt}=function zr(ke,ge=1024){const ze=[];let ct=ke.slice();for(const pt of ke){const Ct=ze.find(U=>U.agent===pt.agent);if(Ct){if(Ct.dates.push(pt.date),Bn(ze)>ge){Ct.dates.pop();break}}else if(ze.push({agent:pt.agent,dates:[pt.date]}),Bn(ze)>ge){ze.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:ze,unsentEntries:ct}}(ge._heartbeatsCache.heartbeats),Ct=(0,ee.L)(JSON.stringify({version:2,heartbeats:ct}));return ge._heartbeatsCache.lastSentHeartbeatDate=ze,pt.length>0?(ge._heartbeatsCache.heartbeats=pt,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),Ct})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class xt{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,f.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function st(ke){return lt.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var ze=this;return(0,f.Z)(function*(){var ct;if(yield ze._canUseIndexedDBPromise){const Ct=yield ze.read();return hi(ze.app,{lastSentHeartbeatDate:null!==(ct=ge.lastSentHeartbeatDate)&&void 0!==ct?ct:Ct.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var ze=this;return(0,f.Z)(function*(){var ct;if(yield ze._canUseIndexedDBPromise){const Ct=yield ze.read();return hi(ze.app,{lastSentHeartbeatDate:null!==(ct=ge.lastSentHeartbeatDate)&&void 0!==ct?ct:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...ge.heartbeats]})}})()}}function Bn(ke){return(0,ee.L)(JSON.stringify({version:2,heartbeats:ke})).length}!function Zr(ke){Lt(new K.wA("platform-logger",ge=>new te(ge),"PRIVATE")),Lt(new K.wA("heartbeat",ge=>new Ps(ge),"PRIVATE")),lr(ie,"0.9.3",ke),lr(ie,"0.9.3","esm2017"),lr("fire-js","")}("")},4859:(Xe,me,O)=>{O.d(me,{H0:()=>ie,wA:()=>P,zt:()=>X});var f=O(5861),K=O(2090);class P{constructor(B,j,z){this.name=B,this.instanceFactory=j,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ee="[DEFAULT]";class X{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const z=new K.BH;if(this.instancesDeferred.set(j,z),this.isInitialized(j)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:j});Oe&&z.resolve(Oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const z=this.normalizeInstanceIdentifier(B?.identifier),Oe=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(ye){if(Oe)return null;throw ye}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function le(re){return"EAGER"===re.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[j,z]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(j);try{const ye=this.getOrInitializeService({instanceIdentifier:Oe});z.resolve(ye)}catch{}}}}clearInstance(B=ee){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,f.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(z=>"INTERNAL"in z).map(z=>z.INTERNAL.delete()),...j.filter(z=>"_delete"in z).map(z=>z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ee){return this.instances.has(B)}getOptions(B=ee){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,z=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:z,options:j});for(const[ye,Ve]of this.instancesDeferred.entries())z===this.normalizeInstanceIdentifier(ye)&&Ve.resolve(Oe);return Oe}onInit(B,j){var z;const Oe=this.normalizeInstanceIdentifier(j),ye=null!==(z=this.onInitCallbacks.get(Oe))&&void 0!==z?z:new Set;ye.add(B),this.onInitCallbacks.set(Oe,ye);const Ve=this.instances.get(Oe);return Ve&&B(Ve,Oe),()=>{ye.delete(B)}}invokeOnInitCallbacks(B,j){const z=this.onInitCallbacks.get(j);if(z)for(const Oe of z)try{Oe(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let z=this.instances.get(B);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(re=B,re===ee?void 0:re),options:j}),this.instances.set(B,z),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(z,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,z)}catch{}var re;return z||null}normalizeInstanceIdentifier(B=ee){return this.component?this.component.multipleInstances?B:ee:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new X(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,me,O)=>{O.d(me,{Am:()=>re,Ub:()=>ie,Yd:()=>le,in:()=>K});const f=[];var K=(()=>{return(B=K||(K={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",K;var B})();const P={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ee=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},te=(B,j,...z)=>{if(j<B.logLevel)return;const Oe=(new Date).toISOString(),ye=X[j];if(!ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ye](`[${Oe}]  ${B.name}:`,...z)};class le{constructor(j){this.name=j,this._logLevel=ee,this._logHandler=te,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in K))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...j),this._logHandler(this,K.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...j),this._logHandler(this,K.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,K.INFO,...j),this._logHandler(this,K.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,K.WARN,...j),this._logHandler(this,K.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...j),this._logHandler(this,K.ERROR,...j)}}function ie(B){f.forEach(j=>{j.setLogLevel(B)})}function re(B,j){for(const z of f){let Oe=null;j&&j.level&&(Oe=P[j.level]),z.userLogHandler=null===B?null:(ye,Ve,...Ye)=>{const ae=Ye.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch{return null}}).filter(Ce=>Ce).join(" ");Ve>=(Oe??ye.logLevel)&&B({level:K[Ve].toLowerCase(),message:ae,args:Ye,type:ye.name})}}}},259:(Xe,me,O)=>{O.d(me,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=O(9681);(0,f.registerVersion)("firebase","9.17.1","app")},9260:(Xe,me,O)=>{O.d(me,{Z:()=>f.Z});var f=O(3942);f.Z.registerVersion("firebase","9.17.1","app-compat")},407:(Xe,me,O)=>{O.r(me);var f=O(5861),K=O(3942),P=O(2090),ee=O(9681),X=O(1877),te=O(655),le=O(4859);const Ve=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ye=function ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ae=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new X.Yd("@firebase/auth");function Ae(m,...c){ve.logLevel<=X.in.ERROR&&ve.error(`Auth (${ee.SDK_VERSION}): ${m}`,...c)}function _e(m,...c){throw Se(m,...c)}function pe(m,...c){return Se(m,...c)}function De(m,c,p){const y=Object.assign(Object.assign({},Ye()),{[c]:p});return new P.LL("auth","Firebase",y).create(c,{appName:m.name})}function Te(m,c,p){if(!(c instanceof p))throw p.name!==c.constructor.name&&_e(m,"argument-error"),De(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(m,...c){if("string"!=typeof m){const p=c[0],y=[...c.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(p,...y)}return ae.create(m,...c)}function V(m,c,...p){if(!m)throw Se(c,...p)}function he(m){const c="INTERNAL ASSERTION FAILED: "+m;throw Ae(c),new Error(c)}function Pe(m,c){m||he(c)}const Be=new Map;function tt(m){Pe(m instanceof Function,"Expected a class definition");let c=Be.get(m);return c?(Pe(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,Be.set(m,c),c)}function oe(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function fe(){return"http:"===Ie()||"https:"===Ie()}function Ie(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class He{constructor(c,p){this.shortDelay=c,this.longDelay=p,Pe(p>c,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fe()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(m,c){Pe(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return c?`${p}${c.startsWith("/")?c.slice(1):c}`:p}class jt{static initialize(c,p,y){this.fetchImpl=c,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const at={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lt=new He(3e4,6e4);function We(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function _t(m,c,p,y){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,f.Z)(function*(m,c,p,y,S={}){return nn(m,S,(0,f.Z)(function*(){let M={},G={};y&&("GET"===c?G=y:M={body:JSON.stringify(y)});const se=(0,P.xO)(Object.assign({key:m.config.apiKey},G)).slice(1),xe=yield m._getAdditionalHeaders();return xe["Content-Type"]="application/json",m.languageCode&&(xe["X-Firebase-Locale"]=m.languageCode),jt.fetch()(ki(m,m.config.apiHost,p,se),Object.assign({method:c,headers:xe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function nn(m,c,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,f.Z)(function*(m,c,p){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},at),c);try{const S=new vr(m),M=yield Promise.race([p(),S.promise]);S.clearNetworkTimeout();const G=yield M.json();if("needConfirmation"in G)throw Jn(m,"account-exists-with-different-credential",G);if(M.ok&&!("errorMessage"in G))return G;{const se=M.ok?G.errorMessage:G.error.message,[xe,Ze]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw Jn(m,"credential-already-in-use",G);if("EMAIL_EXISTS"===xe)throw Jn(m,"email-already-in-use",G);if("USER_DISABLED"===xe)throw Jn(m,"user-disabled",G);const it=y[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw De(m,it,Ze);_e(m,it)}}catch(S){if(S instanceof P.ZR)throw S;_e(m,"network-request-failed")}})).apply(this,arguments)}function Xt(m,c,p,y){return ar.apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(m,c,p,y,S={}){const M=yield _t(m,c,p,y,S);return"mfaPendingCredential"in M&&_e(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function ki(m,c,p,y){const S=`${c}${p}?${y}`;return m.config.emulator?Ue(m.config,S):`${m.config.apiScheme}://${S}`}class vr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(pe(this.auth,"network-request-failed")),Lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(m,c,p){const y={appName:m.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const S=pe(m,c,y);return S.customData._tokenResponse=p,S}function zt(){return(zt=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function lr(m,c){return rt.apply(this,arguments)}function rt(){return(rt=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function di(m,c){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function rn(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function mt(){return(mt=(0,f.Z)(function*(m,c=!1){const p=(0,P.m9)(m),y=yield p.getIdToken(c),S=lt(y);V(S&&S.exp&&S.auth_time&&S.iat,p.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,G=M?.sign_in_provider;return{claims:S,token:y,authTime:rn(st(S.auth_time)),issuedAtTime:rn(st(S.iat)),expirationTime:rn(st(S.exp)),signInProvider:G||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function st(m){return 1e3*Number(m)}function lt(m){const[c,p,y]=m.split(".");if(void 0===c||void 0===p||void 0===y)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(p);return S?JSON.parse(S):(Ae("Failed to decode base64 JWT payload"),null)}catch(S){return Ae("Caught error parsing JWT payload as JSON",S?.toString()),null}}function sn(m,c){return en.apply(this,arguments)}function en(){return(en=(0,f.Z)(function*(m,c,p=!1){if(p)return c;try{return yield c}catch(y){throw y instanceof P.ZR&&Pr(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function Pr({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Nn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var p;if(c){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const S=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(c=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(c);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),y)}iteration(){var c=this;return(0,f.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&c.schedule(!0))}c.schedule()})()}}class Ps{constructor(c,p){this.createdAt=c,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ut(m){return zr.apply(this,arguments)}function zr(){return(zr=(0,f.Z)(function*(m){var c;const p=m.auth,y=yield m.getIdToken(),S=yield sn(m,di(p,{idToken:y}));V(S?.users.length,p,"internal-error");const M=S.users[0];m._notifyReloadListener(M);const G=null!==(c=M.providerUserInfo)&&void 0!==c&&c.length?ke(M.providerUserInfo):[],se=Zr(m.providerData,G),it=!!m.isAnonymous&&!(m.email&&M.passwordHash||se?.length),nt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:se,metadata:new Ps(M.createdAt,M.lastLoginAt),isAnonymous:it};Object.assign(m,nt)})).apply(this,arguments)}function Bn(){return(Bn=(0,f.Z)(function*(m){const c=(0,P.m9)(m);yield Ut(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Zr(m,c){return[...m.filter(y=>!c.some(S=>S.providerId===y.providerId)),...c]}function ke(m){return m.map(c=>{var{providerId:p}=c,y=(0,te._T)(c,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function ze(){return(ze=(0,f.Z)(function*(m,c){const p=yield nn(m,{},(0,f.Z)(function*(){const y=(0,P.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:S,apiKey:M}=m.config,G=ki(m,S,"/v1/token",`key=${M}`),se=yield m._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",jt.fetch()(G,{method:"POST",headers:se,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){V(c.idToken,"internal-error"),V(typeof c.idToken<"u","internal-error"),V(typeof c.refreshToken<"u","internal-error");const p="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function hi(m){const c=lt(m);return V(c,"internal-error"),V(typeof c.exp<"u","internal-error"),V(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,p)}getToken(c,p=!1){var y=this;return(0,f.Z)(function*(){return V(!y.accessToken||y.refreshToken,c,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(c,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,p){var y=this;return(0,f.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:G}=yield function ge(m,c){return ze.apply(this,arguments)}(c,p);y.updateTokensAndExpiration(S,M,Number(G))})()}updateTokensAndExpiration(c,p,y){this.refreshToken=p||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(c,p){const{refreshToken:y,accessToken:S,expirationTime:M}=p,G=new ct;return y&&(V("string"==typeof y,"internal-error",{appName:c}),G.refreshToken=y),S&&(V("string"==typeof S,"internal-error",{appName:c}),G.accessToken=S),M&&(V("number"==typeof M,"internal-error",{appName:c}),G.expirationTime=M),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new ct,this.toJSON())}_performRefresh(){return he("not implemented")}}function pt(m,c){V("string"==typeof m||typeof m>"u","internal-error",{appName:c})}class Ct{constructor(c){var{uid:p,auth:y,stsTokenManager:S}=c,M=(0,te._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Ps(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(c){var p=this;return(0,f.Z)(function*(){const y=yield sn(p,p.stsTokenManager.getToken(p.auth,c));return V(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(c){return function Li(m){return mt.apply(this,arguments)}(this,c)}reload(){return function xt(m){return Bn.apply(this,arguments)}(this)}_assign(c){this!==c&&(V(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(p=>Object.assign({},p)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new Ct(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,p=!1){var y=this;return(0,f.Z)(function*(){let S=!1;c.idToken&&c.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(c),S=!0),p&&(yield Ut(y)),yield y.auth._persistUserIfCurrent(y),S&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var c=this;return(0,f.Z)(function*(){const p=yield c.getIdToken();return yield sn(c,function Fi(m,c){return zt.apply(this,arguments)}(c.auth,{idToken:p})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,p){var y,S,M,G,se,xe,Ze,it;const nt=null!==(y=p.displayName)&&void 0!==y?y:void 0,On=null!==(S=p.email)&&void 0!==S?S:void 0,Tr=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,fu=null!==(G=p.photoURL)&&void 0!==G?G:void 0,bc=null!==(se=p.tenantId)&&void 0!==se?se:void 0,Wa=null!==(xe=p._redirectEventId)&&void 0!==xe?xe:void 0,ii=null!==(Ze=p.createdAt)&&void 0!==Ze?Ze:void 0,ro=null!==(it=p.lastLoginAt)&&void 0!==it?it:void 0,{uid:Sc,emailVerified:Wo,isAnonymous:Qd,providerData:Uf,stsTokenManager:Jd}=p;V(Sc&&Jd,c,"internal-error");const Ag=ct.fromJSON(this.name,Jd);V("string"==typeof Sc,c,"internal-error"),pt(nt,c.name),pt(On,c.name),V("boolean"==typeof Wo,c,"internal-error"),V("boolean"==typeof Qd,c,"internal-error"),pt(Tr,c.name),pt(fu,c.name),pt(bc,c.name),pt(Wa,c.name),pt(ii,c.name),pt(ro,c.name);const za=new Ct({uid:Sc,auth:c,email:On,emailVerified:Wo,displayName:nt,isAnonymous:Qd,photoURL:fu,phoneNumber:Tr,tenantId:bc,stsTokenManager:Ag,createdAt:ii,lastLoginAt:ro});return Uf&&Array.isArray(Uf)&&(za.providerData=Uf.map(Tc=>Object.assign({},Tc))),Wa&&(za._redirectEventId=Wa),za}static _fromIdTokenResponse(c,p,y=!1){return(0,f.Z)(function*(){const S=new ct;S.updateFromServerResponse(p);const M=new Ct({uid:p.localId,auth:c,stsTokenManager:S,isAnonymous:y});return yield Ut(M),M})()}}const L=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,y){var S=this;return(0,f.Z)(function*(){S.storage[p]=y})()}_get(p){var y=this;return(0,f.Z)(function*(){const S=y.storage[p];return void 0===S?null:S})()}_remove(p){var y=this;return(0,f.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return m.type="NONE",m})();function W(m,c,p){return`firebase:${m}:${c}:${p}`}class ce{constructor(c,p,y){this.persistence=c,this.auth=p,this.userKey=y;const{config:S,name:M}=this.auth;this.fullUserKey=W(this.userKey,S.apiKey,M),this.fullPersistenceKey=W("persistence",S.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,f.Z)(function*(){const p=yield c.persistence._get(c.fullUserKey);return p?Ct._fromJSON(c.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var p=this;return(0,f.Z)(function*(){if(p.persistence===c)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=c,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,p,y="authUser"){return(0,f.Z)(function*(){if(!p.length)return new ce(tt(L),c,y);const S=(yield Promise.all(p.map(function(){var Ze=(0,f.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let M=S[0]||tt(L);const G=W(y,c.config.apiKey,c.name);let se=null;for(const Ze of p)try{const it=yield Ze._get(G);if(it){const nt=Ct._fromJSON(c,it);Ze!==M&&(se=nt),M=Ze;break}}catch{}const xe=S.filter(Ze=>Ze._shouldAllowMigration);return M._shouldAllowMigration&&xe.length?(M=xe[0],se&&(yield M._set(G,se.toJSON())),yield Promise.all(p.map(function(){var Ze=(0,f.Z)(function*(it){if(it!==M)try{yield it._remove(G)}catch{}});return function(it){return Ze.apply(this,arguments)}}())),new ce(M,c,y)):new ce(M,c,y)})()}}function Y(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(on(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Ke(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Mn(c))return"Blackberry";if(At(c))return"Webos";if(Dt(c))return"Safari";if((c.includes("chrome/")||Pt(c))&&!c.includes("edge/"))return"Chrome";if(ot(c))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function Ke(m=(0,P.z$)()){return/firefox\//i.test(m)}function Dt(m=(0,P.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Pt(m=(0,P.z$)()){return/crios\//i.test(m)}function on(m=(0,P.z$)()){return/iemobile/i.test(m)}function ot(m=(0,P.z$)()){return/android/i.test(m)}function Mn(m=(0,P.z$)()){return/blackberry/i.test(m)}function At(m=(0,P.z$)()){return/webos/i.test(m)}function In(m=(0,P.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Cd(m=(0,P.z$)()){return In(m)||ot(m)||At(m)||Mn(m)||/windows phone/i.test(m)||on(m)}function ra(m,c=[]){let p;switch(m){case"Browser":p=Y((0,P.z$)());break;case"Worker":p=`${Y((0,P.z$)())}-${m}`;break;default:p=m}const y=c.length?c.join(","):"FirebaseCore-web";return`${p}/JsCore/${ee.SDK_VERSION}/${y}`}class _l{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,p){const y=M=>new Promise((G,se)=>{try{G(c(M))}catch(xe){se(xe)}});y.onAbort=p,this.queue.push(y);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(c){var p=this;return(0,f.Z)(function*(){if(p.auth.currentUser===c)return;const y=[];try{for(const S of p.queue)yield S(c),S.onAbort&&y.push(S.onAbort)}catch(S){y.reverse();for(const M of y)try{M()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Bu{constructor(c,p,y){this.app=c,this.heartbeatServiceProvider=p,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ju(this),this.idTokenSubscription=new ju(this),this.beforeStateQueue=new _l(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(c,p){var y=this;return p&&(this._popupRedirectResolver=tt(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var S,M;if(!y._deleted&&(y.persistenceManager=yield ce.create(y,c),!y._deleted)){if(null!==(S=y._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(M=y.currentUser)||void 0===M?void 0:M.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,f.Z)(function*(){if(c._deleted)return;const p=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||p){if(c.currentUser&&p&&c.currentUser.uid===p.uid)return c._currentUser._assign(p),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(p,!0)}})()}initializeCurrentUser(c){var p=this;return(0,f.Z)(function*(){var y;const S=yield p.assertedPersistence.getCurrentUser();let M=S,G=!1;if(c&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const se=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,xe=M?._redirectEventId,Ze=yield p.tryRedirectSignIn(c);(!se||se===xe)&&Ze?.user&&(M=Ze.user,G=!0)}if(!M)return p.directlySetCurrentUser(null);if(!M._redirectEventId){if(G)try{yield p.beforeStateQueue.runMiddleware(M)}catch(se){M=S,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(se))}return M?p.reloadAndSetCurrentUserOrClear(M):p.directlySetCurrentUser(null)}return V(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===M._redirectEventId?p.directlySetCurrentUser(M):p.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(c){var p=this;return(0,f.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,c,!0)}catch{yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(c){var p=this;return(0,f.Z)(function*(){try{yield Ut(c)}catch(y){if("auth/network-request-failed"!==y?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Ne(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,f.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var p=this;return(0,f.Z)(function*(){const y=c?(0,P.m9)(c):null;return y&&V(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(c,p=!1){var y=this;return(0,f.Z)(function*(){if(!y._deleted)return c&&V(y.tenantId===c.tenantId,y,"tenant-id-mismatch"),p||(yield y.beforeStateQueue.runMiddleware(c)),y.queue((0,f.Z)(function*(){yield y.directlySetCurrentUser(c),y.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,f.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(tt(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new P.LL("auth","Firebase",c())}onAuthStateChanged(c,p,y){return this.registerStateListener(this.authStateSubscription,c,p,y)}beforeAuthStateChanged(c,p){return this.beforeStateQueue.pushCallback(c,p)}onIdTokenChanged(c,p,y){return this.registerStateListener(this.idTokenSubscription,c,p,y)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,p){var y=this;return(0,f.Z)(function*(){const S=yield y.getOrInitRedirectPersistenceManager(p);return null===c?S.removeCurrentUser():S.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const y=c&&tt(c)||p._popupRedirectResolver;V(y,p,"argument-error"),p.redirectPersistenceManager=yield ce.create(p,[tt(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(c){var p=this;return(0,f.Z)(function*(){var y,S;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===c?p._currentUser:(null===(S=p.redirectUser)||void 0===S?void 0:S._redirectEventId)===c?p.redirectUser:null})()}_persistUserIfCurrent(c){var p=this;return(0,f.Z)(function*(){if(c===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,p,y,S){if(this._deleted)return()=>{};const M="function"==typeof p?p:p.next.bind(p),G=this._isInitialized?Promise.resolve():this._initializationPromise;return V(G,this,"internal-error"),G.then(()=>M(this.currentUser)),"function"==typeof p?c.addObserver(p,y,S):c.addObserver(p)}directlySetCurrentUser(c){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==c&&p._currentUser._stopProactiveRefresh(),c&&p.isProactiveRefreshEnabled&&c._startProactiveRefresh(),p.currentUser=c,c?yield p.assertedPersistence.setCurrentUser(c):yield p.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ra(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,f.Z)(function*(){var p;const y={"X-Client-Version":c.clientVersion};c.app.options.appId&&(y["X-Firebase-gmpid"]=c.app.options.appId);const S=yield null===(p=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return S&&(y["X-Firebase-Client"]=S),y})()}}function an(m){return(0,P.m9)(m)}class ju{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,P.ne)(p=>this.observer=p)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function go(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function kt(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class gn{constructor(c,p){this.providerId=c,this.signInMethod=p}toJSON(){return he("not implemented")}_getIdTokenResponse(c){return he("not implemented")}_linkToIdToken(c,p){return he("not implemented")}_getReauthenticationResolver(c){return he("not implemented")}}function vn(m,c){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:resetPassword",We(m,c))})).apply(this,arguments)}function Er(m,c){return $e.apply(this,arguments)}function $e(){return($e=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function yt(m,c){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:update",We(m,c))})).apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(m,c){return Xt(m,"POST","/v1/accounts:signInWithPassword",We(m,c))})).apply(this,arguments)}function En(m,c){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:sendOobCode",We(m,c))})).apply(this,arguments)}function ln(m,c){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(m,c){return En(m,c)})).apply(this,arguments)}function xs(m,c){return It.apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(m,c){return En(m,c)})).apply(this,arguments)}function vl(m,c){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(m,c){return En(m,c)})).apply(this,arguments)}function El(m,c){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,f.Z)(function*(m,c){return En(m,c)})).apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(m,c){return Xt(m,"POST","/v1/accounts:signInWithEmailLink",We(m,c))})).apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(m,c){return Xt(m,"POST","/v1/accounts:signInWithEmailLink",We(m,c))})).apply(this,arguments)}class Ui extends gn{constructor(c,p,y,S=null){super("password",y),this._email=c,this._password=p,this._tenantId=S}static _fromEmailAndPassword(c,p){return new Ui(c,p,"password")}static _fromEmailAndCode(c,p,y=null){return new Ui(c,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(c){var p=this;return(0,f.Z)(function*(){switch(p.signInMethod){case"password":return function Xn(m,c){return fi.apply(this,arguments)}(c,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function $n(m,c){return ks.apply(this,arguments)}(c,{email:p._email,oobCode:p._password});default:_e(c,"internal-error")}})()}_linkToIdToken(c,p){var y=this;return(0,f.Z)(function*(){switch(y.signInMethod){case"password":return Er(c,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function ns(m,c){return xr.apply(this,arguments)}(c,{idToken:p,email:y._email,oobCode:y._password});default:_e(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function pi(m,c){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,f.Z)(function*(m,c){return Xt(m,"POST","/v1/accounts:signInWithIdp",We(m,c))})).apply(this,arguments)}class Cr extends gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const p=new Cr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(p.idToken=c.idToken),c.accessToken&&(p.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(p.nonce=c.nonce),c.pendingToken&&(p.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(p.accessToken=c.oauthToken,p.secret=c.oauthTokenSecret):_e("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:S}=p,M=(0,te._T)(p,["providerId","signInMethod"]);if(!y||!S)return null;const G=new Cr(y,S);return G.idToken=M.idToken||void 0,G.accessToken=M.accessToken||void 0,G.secret=M.secret,G.nonce=M.nonce,G.pendingToken=M.pendingToken||null,G}_getIdTokenResponse(c){return pi(c,this.buildRequest())}_linkToIdToken(c,p){const y=this.buildRequest();return y.idToken=p,pi(c,y)}_getReauthenticationResolver(c){const p=this.buildRequest();return p.autoCreate=!1,pi(c,p)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),c.postBody=(0,P.xO)(p)}return c}}function Hu(m,c){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:sendVerificationCode",We(m,c))})).apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(m,c){return Xt(m,"POST","/v1/accounts:signInWithPhoneNumber",We(m,c))})).apply(this,arguments)}function $u(){return($u=(0,f.Z)(function*(m,c){const p=yield Xt(m,"POST","/v1/accounts:signInWithPhoneNumber",We(m,c));if(p.temporaryProof)throw Jn(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ur={USER_NOT_FOUND:"user-not-found"};function _o(){return(_o=(0,f.Z)(function*(m,c){return Xt(m,"POST","/v1/accounts:signInWithPhoneNumber",We(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),ur)})).apply(this,arguments)}class Fr extends gn{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,p){return new Fr({verificationId:c,verificationCode:p})}static _fromTokenResponse(c,p){return new Fr({phoneNumber:c,temporaryProof:p})}_getIdTokenResponse(c){return function rs(m,c){return er.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,p){return function Gn(m,c){return $u.apply(this,arguments)}(c,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function kr(m,c){return _o.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:p,verificationId:y,verificationCode:S}=this.params;return c&&p?{temporaryProof:c,phoneNumber:p}:{sessionInfo:y,code:S}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:p,verificationCode:y,phoneNumber:S,temporaryProof:M}=c;return y||p||S||M?new Fr({verificationId:p,verificationCode:y,phoneNumber:S,temporaryProof:M}):null}}class yo{constructor(c){var p,y,S,M,G,se;const xe=(0,P.zd)((0,P.pd)(c)),Ze=null!==(p=xe.apiKey)&&void 0!==p?p:null,it=null!==(y=xe.oobCode)&&void 0!==y?y:null,nt=function Cl(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=xe.mode)&&void 0!==S?S:null);V(Ze&&it&&nt,"argument-error"),this.apiKey=Ze,this.operation=nt,this.code=it,this.continueUrl=null!==(M=xe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(G=xe.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(se=xe.tenantId)&&void 0!==se?se:null}static parseLink(c){const p=function cr(m){const c=(0,P.zd)((0,P.pd)(m)).link,p=c?(0,P.zd)((0,P.pd)(c)).deep_link_id:null,y=(0,P.zd)((0,P.pd)(m)).deep_link_id;return(y?(0,P.zd)((0,P.pd)(y)).link:null)||y||p||c||m}(c);try{return new yo(p)}catch{return null}}}let Dl=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,y){return Ui._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const S=yo.parseLink(y);return V(S,"argument-error"),Ui._fromEmailAndCode(p,S.code,S.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class gi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Ls extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class vo extends Ls{static credentialFromJSON(c){const p="string"==typeof c?JSON.parse(c):c;return V("providerId"in p&&"signInMethod"in p,"argument-error"),Cr._fromParams(p)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return V(c.idToken||c.accessToken,"argument-error"),Cr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return vo.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return vo.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:S,pendingToken:M,nonce:G,providerId:se}=c;if(!y&&!S&&!p&&!M||!se)return null;try{return new vo(se)._credential({idToken:p,accessToken:y,nonce:G,pendingToken:M})}catch{return null}}}let Il=(()=>{class m extends Ls{constructor(){super("facebook.com")}static credential(p){return Cr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Id=(()=>{class m extends Ls{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return Cr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:S}=p;if(!y&&!S)return null;try{return m.credential(y,S)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),wd=(()=>{class m extends Ls{constructor(){super("github.com")}static credential(p){return Cr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Vs extends gn{constructor(c,p){super(c,c),this.pendingToken=p}_getIdTokenResponse(c){return pi(c,this.buildRequest())}_linkToIdToken(c,p){const y=this.buildRequest();return y.idToken=p,pi(c,y)}_getReauthenticationResolver(c){const p=this.buildRequest();return p.autoCreate=!1,pi(c,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:S,pendingToken:M}=p;return y&&S&&M&&y===S?new Vs(y,M):null}static _create(c,p){return new Vs(c,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qr extends gi{constructor(c){V(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return qr.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return qr.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const p=Vs.fromJSON(c);return V(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:p,providerId:y}=c;if(!p||!y)return null;try{return Vs._create(y,p)}catch{return null}}}let gf=(()=>{class m extends Ls{constructor(){super("twitter.com")}static credential(p,y){return Cr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:S}=p;if(!y||!S)return null;try{return m.credential(y,S)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function wl(m,c){return bl.apply(this,arguments)}function bl(){return(bl=(0,f.Z)(function*(m,c){return Xt(m,"POST","/v1/accounts:signUp",We(m,c))})).apply(this,arguments)}class tr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,p,y,S=!1){return(0,f.Z)(function*(){const M=yield Ct._fromIdTokenResponse(c,y,S),G=Sl(y);return new tr({user:M,providerId:G,_tokenResponse:y,operationType:p})})()}static _forOperation(c,p,y){return(0,f.Z)(function*(){yield c._updateTokensIfNecessary(y,!0);const S=Sl(y);return new tr({user:c,providerId:S,_tokenResponse:y,operationType:p})})()}}function Sl(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function bd(){return(bd=(0,f.Z)(function*(m){var c;const p=an(m);if(yield p._initializationPromise,null!==(c=p.currentUser)&&void 0!==c&&c.isAnonymous)return new tr({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield wl(p,{returnSecureToken:!0}),S=yield tr._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(S.user),S})).apply(this,arguments)}class Tl extends P.ZR{constructor(c,p,y,S){var M;super(p.code,p.message),this.operationType=y,this.user=S,Object.setPrototypeOf(this,Tl.prototype),this.customData={appName:c.name,tenantId:null!==(M=c.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(c,p,y,S){return new Tl(c,p,y,S)}}function ss(m,c,p,y){return("reauthenticate"===c?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Tl._fromErrorAndOperation(m,M,c,y):M})}function os(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function Us(){return(Us=(0,f.Z)(function*(m,c){const p=(0,P.m9)(m);yield as(!0,p,c);const{providerUserInfo:y}=yield lr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[c]}),S=os(y||[]);return p.providerData=p.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function sa(m,c){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,f.Z)(function*(m,c,p=!1){const y=yield sn(m,c._linkToIdToken(m.auth,yield m.getIdToken()),p);return tr._forOperation(m,"link",y)})).apply(this,arguments)}function as(m,c,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(m,c,p){yield Ut(c);const S=!1===m?"provider-already-linked":"no-such-provider";V(os(c.providerData).has(p)===m,c.auth,S)})).apply(this,arguments)}function Wu(m,c){return js.apply(this,arguments)}function js(){return(js=(0,f.Z)(function*(m,c,p=!1){const{auth:y}=m,S="reauthenticate";try{const M=yield sn(m,ss(y,S,c,m),p);V(M.idToken,y,"internal-error");const G=lt(M.idToken);V(G,y,"internal-error");const{sub:se}=G;return V(m.uid===se,y,"user-mismatch"),tr._forOperation(m,S,M)}catch(M){throw"auth/user-not-found"===M?.code&&_e(y,"user-mismatch"),M}})).apply(this,arguments)}function Hs(m,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(m,c,p=!1){const y="signIn",S=yield ss(m,y,c),M=yield tr._fromIdTokenResponse(m,y,S);return p||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function hn(m,c){return oa.apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(m,c){return Hs(an(m),c)})).apply(this,arguments)}function mn(m,c){return Co.apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(m,c){const p=(0,P.m9)(m);return yield as(!1,p,c.providerId),sa(p,c)})).apply(this,arguments)}function ls(m,c){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(m,c){return Wu((0,P.m9)(m),c)})).apply(this,arguments)}function Al(m,c){return $s.apply(this,arguments)}function $s(){return($s=(0,f.Z)(function*(m,c){return Xt(m,"POST","/v1/accounts:signInWithCustomToken",We(m,c))})).apply(this,arguments)}function Rn(){return(Rn=(0,f.Z)(function*(m,c){const p=an(m),y=yield Al(p,{token:c,returnSecureToken:!0}),S=yield tr._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(S.user),S})).apply(this,arguments)}class Do{constructor(c,p){this.factorId=c,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(c,p){return"phoneInfo"in p?Gs._fromServerResponse(c,p):_e(c,"internal-error")}}class Gs extends Do{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,p){return new Gs(p)}}function aa(m,c,p){var y;V((null===(y=p.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),V(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=p.url,c.dynamicLinkDomain=p.dynamicLinkDomain,c.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(V(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=p.iOS.bundleId),p.android&&(V(p.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=p.android.installApp,c.androidMinimumVersionCode=p.android.minimumVersion,c.androidPackageName=p.android.packageName)}function Io(){return(Io=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m),S={requestType:"PASSWORD_RESET",email:c};p&&aa(y,S,p),yield xs(y,S)})).apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(m,c,p){yield vn((0,P.m9)(m),{oobCode:c,newPassword:p})})).apply(this,arguments)}function zu(){return(zu=(0,f.Z)(function*(m,c){yield yt((0,P.m9)(m),{oobCode:c})})).apply(this,arguments)}function ua(m,c){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,f.Z)(function*(m,c){const p=(0,P.m9)(m),y=yield vn(p,{oobCode:c}),S=y.requestType;switch(V(S,p,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(y.mfaInfo,p,"internal-error");default:V(y.email,p,"internal-error")}let M=null;return y.mfaInfo&&(M=Do._fromServerResponse(an(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function ca(){return(ca=(0,f.Z)(function*(m,c){const{data:p}=yield ua((0,P.m9)(m),c);return p.email})).apply(this,arguments)}function Pl(){return(Pl=(0,f.Z)(function*(m,c,p){const y=an(m),S=yield wl(y,{returnSecureToken:!0,email:c,password:p}),M=yield tr._fromIdTokenResponse(y,"signIn",S);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}function Ol(){return(Ol=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m),S={requestType:"EMAIL_SIGNIN",email:c};V(p.handleCodeInApp,y,"argument-error"),p&&aa(y,S,p),yield vl(y,S)})).apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m),S=Dl.credentialWithLink(c,p||oe());return V(S._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),hn(y,S)})).apply(this,arguments)}function da(m,c){return hr.apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:createAuthUri",We(m,c))})).apply(this,arguments)}function fa(){return(fa=(0,f.Z)(function*(m,c){const y={identifier:c,continueUri:fe()?oe():"http://localhost"},{signinMethods:S}=yield da((0,P.m9)(m),y);return S||[]})).apply(this,arguments)}function Nl(){return(Nl=(0,f.Z)(function*(m,c){const p=(0,P.m9)(m),S={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&aa(p.auth,S,c);const{email:M}=yield ln(p.auth,S);M!==m.email&&(yield m.reload())})).apply(this,arguments)}function bn(){return(bn=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};p&&aa(y.auth,M,p);const{email:G}=yield El(y.auth,M);G!==m.email&&(yield m.reload())})).apply(this,arguments)}function fr(m,c){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(m,{displayName:c,photoURL:p}){if(void 0===c&&void 0===p)return;const y=(0,P.m9)(m),M={idToken:yield y.getIdToken(),displayName:c,photoUrl:p,returnSecureToken:!0},G=yield sn(y,fr(y.auth,M));y.displayName=G.displayName||null,y.photoURL=G.photoUrl||null;const se=y.providerData.find(({providerId:xe})=>"password"===xe);se&&(se.displayName=y.displayName,se.photoURL=y.photoURL),yield y._updateTokensIfNecessary(G)})).apply(this,arguments)}function Yu(m,c,p){return xl.apply(this,arguments)}function xl(){return(xl=(0,f.Z)(function*(m,c,p){const{auth:y}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(M.email=c),p&&(M.password=p);const G=yield sn(m,Er(y,M));yield m._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class _i{constructor(c,p,y={}){this.isNewUser=c,this.providerId=p,this.profile=y}}class Qu extends _i{constructor(c,p,y,S){super(c,p,y),this.username=S}}class Fl extends _i{constructor(c,p){super(c,"facebook.com",p)}}class Ju extends Qu{constructor(c,p){super(c,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Td extends _i{constructor(c,p){super(c,"google.com",p)}}class ga extends Qu{constructor(c,p,y){super(c,"twitter.com",p,y)}}function Ad(m){const{user:c,_tokenResponse:p}=m;return c.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function kl(m){var c,p;if(!m)return null;const{providerId:y}=m,S=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&m?.idToken){const G=null===(p=null===(c=lt(m.idToken))||void 0===c?void 0:c.firebase)||void 0===p?void 0:p.sign_in_provider;if(G)return new _i(M,"anonymous"!==G&&"custom"!==G?G:null)}if(!y)return null;switch(y){case"facebook.com":return new Fl(M,S);case"github.com":return new Ju(M,S);case"google.com":return new Td(M,S);case"twitter.com":return new ga(M,S,m.screenName||null);case"custom":case"anonymous":return new _i(M,null);default:return new _i(M,y,S)}}(p)}class zs{constructor(c,p,y){this.type=c,this.credential=p,this.auth=y}static _fromIdtoken(c,p){return new zs("enroll",c,p)}static _fromMfaPendingCredential(c){return new zs("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var p,y;if(c?.multiFactorSession){if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.pendingCredential)return zs._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(y=c.multiFactorSession)&&void 0!==y&&y.idToken)return zs._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Vl{constructor(c,p,y){this.session=c,this.hints=p,this.signInResolver=y}static _fromError(c,p){const y=an(c),S=p.customData._serverResponse,M=(S.mfaInfo||[]).map(se=>Do._fromServerResponse(y,se));V(S.mfaPendingCredential,y,"internal-error");const G=zs._fromMfaPendingCredential(S.mfaPendingCredential);return new Vl(G,M,function(){var se=(0,f.Z)(function*(xe){const Ze=yield xe._process(y,G);delete S.mfaInfo,delete S.mfaPendingCredential;const it=Object.assign(Object.assign({},S),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(p.operationType){case"signIn":const nt=yield tr._fromIdTokenResponse(y,p.operationType,it);return yield y._updateCurrentUser(nt.user),nt;case"reauthenticate":return V(p.user,y,"internal-error"),tr._forOperation(p.user,p.operationType,it);default:_e(y,"internal-error")}});return function(xe){return se.apply(this,arguments)}}())}resolveSignIn(c){var p=this;return(0,f.Z)(function*(){return p.signInResolver(c)})()}}function Md(m,c){return _t(m,"POST","/v2/accounts/mfaEnrollment:start",We(m,c))}class To{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>Do._fromServerResponse(c.auth,y)))})}static _fromUser(c){return new To(c)}getSession(){var c=this;return(0,f.Z)(function*(){return zs._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,p){var y=this;return(0,f.Z)(function*(){const S=c,M=yield y.getSession(),G=yield sn(y.user,S._process(y.user.auth,M,p));return yield y.user._updateTokensIfNecessary(G),y.user.reload()})()}unenroll(c){var p=this;return(0,f.Z)(function*(){const y="string"==typeof c?c:c.uid,S=yield p.user.getIdToken();try{const M=yield sn(p.user,function vf(m,c){return _t(m,"POST","/v2/accounts/mfaEnrollment:withdraw",We(m,c))}(p.user.auth,{idToken:S,mfaEnrollmentId:y}));p.enrolledFactors=p.enrolledFactors.filter(({uid:G})=>G!==y),yield p.user._updateTokensIfNecessary(M),yield p.user.reload()}catch(M){throw M}})()}}const ds=new WeakMap,Qr="__sak";class hs{constructor(c,p){this.storageRetriever=c,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Qr,"1"),this.storage.removeItem(Qr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,p){return this.storage.setItem(c,JSON.stringify(p)),Promise.resolve()}_get(c){const p=this.storage.getItem(c);return Promise.resolve(p?JSON.parse(p):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ul=(()=>{class m extends hs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rd(){const m=(0,P.z$)();return Dt(m)||In(m)}()&&function po(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cd(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const S=this.storage.getItem(y),M=this.localCache[y];S!==M&&p(y,M,S)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((se,xe,Ze)=>{this.notifyListeners(se,Ze)});const S=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(S);if(p.newValue!==se)null!==p.newValue?this.storage.setItem(S,p.newValue):this.storage.removeItem(S);else if(this.localCache[S]===p.newValue&&!y)return}const M=()=>{const se=this.storage.getItem(S);!y&&this.localCache[S]===se||this.notifyListeners(S,se)},G=this.storage.getItem(S);!function fo(){return(0,P.w1)()&&10===document.documentMode}()||G===p.newValue||p.newValue===p.oldValue?M():setTimeout(M,10)}notifyListeners(p,y){this.localCache[p]=y;const S=this.listeners[p];if(S)for(const M of Array.from(S))M(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var S=()=>super._set,M=this;return(0,f.Z)(function*(){yield S().call(M,p,y),M.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,S=this;return(0,f.Z)(function*(){const M=yield y().call(S,p);return S.localCache[p]=JSON.stringify(M),M})()}_remove(p){var y=()=>super._remove,S=this;return(0,f.Z)(function*(){yield y().call(S,p),delete S.localCache[p]})()}}return m.type="LOCAL",m})(),fs=(()=>{class m extends hs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return m.type="SESSION",m})();let _a=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(M=>M.isListeningto(p));if(y)return y;const S=new m(p);return this.receivers.push(S),S}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,f.Z)(function*(){const S=p,{eventId:M,eventType:G,data:se}=S.data,xe=y.handlersMap[G];if(!xe?.size)return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:G});const Ze=Array.from(xe).map(function(){var nt=(0,f.Z)(function*(On){return On(S.origin,se)});return function(On){return nt.apply(this,arguments)}}()),it=yield function tc(m){return Promise.all(m.map(function(){var c=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return c.apply(this,arguments)}}()))}(Ze);S.ports[0].postMessage({status:"done",eventId:M,eventType:G,response:it})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function ps(m="",c=10){let p="";for(let y=0;y<c;y++)p+=Math.floor(10*Math.random());return m+p}class Bl{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,p,y=50){var S=this;return(0,f.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let G,se;return new Promise((xe,Ze)=>{const it=ps("",20);M.port1.start();const nt=setTimeout(()=>{Ze(new Error("unsupported_event"))},y);se={messageChannel:M,onMessage(On){const Tr=On;if(Tr.data.eventId===it)switch(Tr.data.status){case"ack":clearTimeout(nt),G=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),xe(Tr.data.response);break;default:clearTimeout(nt),clearTimeout(G),Ze(new Error("invalid_response"))}}},S.handlers.add(se),M.port1.addEventListener("message",se.onMessage),S.target.postMessage({eventType:c,eventId:it,data:p},[M.port2])}).finally(()=>{se&&S.removeMessageHandler(se)})})()}}function un(){return window}function Zs(){return typeof un().WorkerGlobalScope<"u"&&"function"==typeof un().importScripts}function Ks(){return(Ks=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ya="firebaseLocalStorageDb",Hi="firebaseLocalStorage",Ro="fbase_key";class $i{constructor(c){this.request=c}toPromise(){return new Promise((c,p)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function qs(m,c){return m.transaction([Hi],c?"readwrite":"readonly").objectStore(Hi)}function Po(){const m=indexedDB.open(ya,1);return new Promise((c,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(Hi,{keyPath:Ro})}catch(S){p(S)}}),m.addEventListener("success",(0,f.Z)(function*(){const y=m.result;y.objectStoreNames.contains(Hi)?c(y):(y.close(),yield function Ys(){const m=indexedDB.deleteDatabase(ya);return new $i(m).toPromise()}(),c(yield Po()))}))})}function gr(m,c,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,f.Z)(function*(m,c,p){const y=qs(m,!0).put({[Ro]:c,value:p});return new $i(y).toPromise()})).apply(this,arguments)}function ms(){return(ms=(0,f.Z)(function*(m,c){const p=qs(m,!1).get(c),y=yield new $i(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Ca(m,c){const p=qs(m,!0).delete(c);return new $i(p).toPromise()}const _s=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield Po()),p.db})()}_withRetries(p){var y=this;return(0,f.Z)(function*(){let S=0;for(;;)try{const M=yield y._openDb();return yield p(M)}catch(M){if(S++>3)throw M;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return Zs()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=_a._getInstance(function Mo(){return Zs()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,f.Z)(function*(S,M){return{keyProcessed:(yield p._poll()).includes(M.key)}});return function(S,M){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,f.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var y,S;if(p.activeServiceWorker=yield function vi(){return Ks.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Bl(p.activeServiceWorker);const M=yield p.sender._send("ping",{},800);M&&null!==(y=M[0])&&void 0!==y&&y.fulfilled&&null!==(S=M[0])&&void 0!==S&&S.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,f.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function jl(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Po();return yield gr(p,Qr,"1"),yield Ca(p,Qr),!0}catch{}return!1})()}_withPendingWrite(p){var y=this;return(0,f.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var S=this;return(0,f.Z)(function*(){return S._withPendingWrite((0,f.Z)(function*(){return yield S._withRetries(M=>gr(M,p,y)),S.localCache[p]=y,S.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,f.Z)(function*(){const S=yield y._withRetries(M=>function gs(m,c){return ms.apply(this,arguments)}(M,p));return y.localCache[p]=S,S})()}_remove(p){var y=this;return(0,f.Z)(function*(){return y._withPendingWrite((0,f.Z)(function*(){return yield y._withRetries(S=>Ca(S,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const y=yield p._withRetries(G=>{const se=qs(G,!1).getAll();return new $i(se).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:G,value:se}of y)M.add(G),JSON.stringify(p.localCache[G])!==JSON.stringify(se)&&(p.notifyListeners(G,se),S.push(G));for(const G of Object.keys(p.localCache))p.localCache[G]&&!M.has(G)&&(p.notifyListeners(G,null),S.push(G));return S})()}notifyListeners(p,y){this.localCache[p]=y;const S=this.listeners[p];if(S)for(const M of Array.from(S))M(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function wa(m,c){return _t(m,"POST","/v2/accounts/mfaSignIn:start",We(m,c))}function Hl(){return(Hl=(0,f.Z)(function*(m){return(yield _t(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jr(m){return new Promise((c,p)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=c,y.onerror=S=>{const M=pe("internal-error");M.customData=S,p(M)},y.type="text/javascript",y.charset="UTF-8",function Qs(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(y)})}function $l(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Dr=1e12;class Ef{constructor(c){this.auth=c,this.counter=Dr,this._widgets=new Map}render(c,p){const y=this.counter;return this._widgets.set(y,new Wl(c,this.auth.name,p||{})),this.counter++,y}reset(c){var p;const y=c||Dr;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(c){var p;return(null===(p=this._widgets.get(c||Dr))||void 0===p?void 0:p.getResponse())||""}execute(c){var p=this;return(0,f.Z)(function*(){var y;return null===(y=p._widgets.get(c||Dr))||void 0===y||y.execute(),""})()}}class Wl{constructor(c,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof c?document.getElementById(c):c;V(S,"argument-error",{appName:p}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sa(m){const c=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)c.push(p.charAt(Math.floor(Math.random()*p.length)));return c.join("")}(50);const{callback:c,"expired-callback":p}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zl=$l("rcb"),rc=new He(3e4,6e4);class Gi{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=un().grecaptcha)||void 0===c||!c.render)}load(c,p=""){return V(function Ta(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),c,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(un().grecaptcha):new Promise((y,S)=>{const M=un().setTimeout(()=>{S(pe(c,"network-request-failed"))},rc.get());un()[zl]=()=>{un().clearTimeout(M),delete un()[zl];const se=un().grecaptcha;if(!se)return void S(pe(c,"internal-error"));const xe=se.render;se.render=(Ze,it)=>{const nt=xe(Ze,it);return this.counter++,nt},this.hostLanguage=p,y(se)},Jr(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:zl,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(M),S(pe(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var p;return!(null===(p=un().grecaptcha)||void 0===p||!p.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Oo{load(c){return(0,f.Z)(function*(){return new Ef(c)})()}clearedOneInstance(){}}const Zl="recaptcha",sc={theme:"light",type:"image"};class No{constructor(c,p=Object.assign({},sc),y){this.parameters=p,this.type=Zl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=an(y),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof c?document.getElementById(c):c;V(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Oo:new Gi,this.validateStartingState()}verify(){var c=this;return(0,f.Z)(function*(){c.assertNotDestroyed();const p=yield c.render(),y=c.getAssertedRecaptcha();return y.getResponse(p)||new Promise(M=>{const G=se=>{se&&(c.tokenChangeListeners.delete(G),M(se))};c.tokenChangeListeners.add(G),c.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof c)c(p);else if("string"==typeof c){const y=un()[c];"function"==typeof y&&y(p)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,f.Z)(function*(){if(yield c.init(),!c.widgetId){let p=c.container;if(!c.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}c.widgetId=c.getAssertedRecaptcha().render(p,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,f.Z)(function*(){V(fe()&&!Zs(),c.auth,"internal-error"),yield function gg(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const p=yield function Ei(m){return Hl.apply(this,arguments)}(c.auth);V(p,c.auth,"internal-error"),c.parameters.sitekey=p})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pd{constructor(c,p){this.verificationId=c,this.onConfirmation=p}confirm(c){const p=Fr._fromVerification(this.verificationId,c);return this.onConfirmation(p)}}function ei(){return(ei=(0,f.Z)(function*(m,c,p){const y=an(m),S=yield lc(y,c,(0,P.m9)(p));return new Pd(S,M=>hn(y,M))})).apply(this,arguments)}function oc(){return(oc=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m);yield as(!1,y,"phone");const S=yield lc(y.auth,c,(0,P.m9)(p));return new Pd(S,M=>mn(y,M))})).apply(this,arguments)}function Kl(){return(Kl=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m),S=yield lc(y.auth,c,(0,P.m9)(p));return new Pd(S,M=>ls(y,M))})).apply(this,arguments)}function lc(m,c,p){return Od.apply(this,arguments)}function Od(){return(Od=(0,f.Z)(function*(m,c,p){var y;const S=yield p.verify();try{let M;if(V("string"==typeof S,m,"argument-error"),V(p.type===Zl,m,"argument-error"),M="string"==typeof c?{phoneNumber:c}:c,"session"in M){const G=M.session;if("phoneNumber"in M)return V("enroll"===G.type,m,"internal-error"),(yield Md(m,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{V("signin"===G.type,m,"internal-error");const se=(null===(y=M.multiFactorHint)||void 0===y?void 0:y.uid)||M.multiFactorUid;return V(se,m,"missing-multi-factor-info"),(yield wa(m,{mfaPendingCredential:G.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield Hu(m,{phoneNumber:M.phoneNumber,recaptchaToken:S});return G}}finally{p._reset()}})).apply(this,arguments)}function uc(){return(uc=(0,f.Z)(function*(m,c){yield sa((0,P.m9)(m),c)})).apply(this,arguments)}let Yl=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=an(p)}verifyPhoneNumber(p,y){return lc(this.auth,p,(0,P.m9)(y))}static credential(p,y){return Fr._fromVerification(p,y)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:S}=p;return y&&S?Fr._fromTokenResponse(y,S):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Yt(m,c){return c?tt(c):(V(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Aa extends gn{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return pi(c,this._buildIdpRequest())}_linkToIdToken(c,p){return pi(c,this._buildIdpRequest(p))}_getReauthenticationResolver(c){return pi(c,this._buildIdpRequest())}_buildIdpRequest(c){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(p.idToken=c),p}}function Ma(m){return Hs(m.auth,new Aa(m),m.bypassAuthState)}function cc(m){const{auth:c,user:p}=m;return V(p,c,"internal-error"),Wu(p,new Aa(m),m.bypassAuthState)}function rr(m){return ti.apply(this,arguments)}function ti(){return(ti=(0,f.Z)(function*(m){const{auth:c,user:p}=m;return V(p,c,"internal-error"),sa(p,new Aa(m),m.bypassAuthState)})).apply(this,arguments)}class Ra{constructor(c,p,y,S,M=!1){this.auth=c,this.resolver=y,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var c=this;return new Promise(function(){var p=(0,f.Z)(function*(y,S){c.pendingPromise={resolve:y,reject:S};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(M){c.reject(M)}});return function(y,S){return p.apply(this,arguments)}}())}onAuthEvent(c){var p=this;return(0,f.Z)(function*(){const{urlResponse:y,sessionId:S,postBody:M,tenantId:G,error:se,type:xe}=c;if(se)return void p.reject(se);const Ze={auth:p.auth,requestUri:y,sessionId:S,tenantId:G||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(xe)(Ze))}catch(it){p.reject(it)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Ma;case"linkViaPopup":case"linkViaRedirect":return rr;case"reauthViaPopup":case"reauthViaRedirect":return cc;default:_e(this.auth,"internal-error")}}resolve(c){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xo=new He(2e3,1e4);function Pa(){return(Pa=(0,f.Z)(function*(m,c,p){const y=an(m);Te(m,c,gi);const S=Yt(y,p);return new Oa(y,"signInViaPopup",c,S).executeNotNull()})).apply(this,arguments)}function Nd(){return(Nd=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m);Te(y.auth,c,gi);const S=Yt(y.auth,p);return new Oa(y.auth,"reauthViaPopup",c,S,y).executeNotNull()})).apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m);Te(y.auth,c,gi);const S=Yt(y.auth,p);return new Oa(y.auth,"linkViaPopup",c,S,y).executeNotNull()})).apply(this,arguments)}let Oa=(()=>{class m extends Ra{constructor(p,y,S,M,G){super(p,y,M,G),this.provider=S,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const y=yield p.execute();return V(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,f.Z)(function*(){Pe(1===p.filter.length,"Popup operations only handle one event");const y=ps();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(S=>{p.reject(S)}),p.resolver._isIframeWebStorageSupported(p.auth,S=>{S||p.reject(pe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,S;this.pollId=null!==(S=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,xo.get())};p()}}return m.currentPopupAction=null,m})();const Lr=new Map;class et extends Ra{constructor(c,p,y=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var c=()=>super.execute,p=this;return(0,f.Z)(function*(){let y=Lr.get(p.auth._key());if(!y){try{const M=(yield function Wi(m,c){return _n.apply(this,arguments)}(p.resolver,p.auth))?yield c().call(p):null;y=()=>Promise.resolve(M)}catch(S){y=()=>Promise.reject(S)}Lr.set(p.auth._key(),y)}return p.bypassAuthState||Lr.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(c){var p=()=>super.onAuthEvent,y=this;return(0,f.Z)(function*(){if("signInViaRedirect"===c.type)return p().call(y,c);if("unknown"!==c.type){if(c.eventId){const S=yield y.auth._redirectUserForId(c.eventId);if(S)return y.user=S,p().call(y,c);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function _n(){return(_n=(0,f.Z)(function*(m,c){const p=Fo(c),y=ko(m);if(!(yield y._isAvailable()))return!1;const S="true"===(yield y._get(p));return yield y._remove(p),S})).apply(this,arguments)}function Ql(m,c){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(m,c){return ko(m)._set(Fo(c),"true")})).apply(this,arguments)}function dc(m,c){Lr.set(m._key(),c)}function ko(m){return tt(m._redirectPersistence)}function Fo(m){return W("pendingRedirect",m.config.apiKey,m.name)}function D(){return(D=(0,f.Z)(function*(m,c,p){const y=an(m);Te(m,c,gi),yield y._initializationPromise;const S=Yt(y,p);return yield Ql(S,y),S._openRedirect(y,c,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m);Te(y.auth,c,gi),yield y.auth._initializationPromise;const S=Yt(y.auth,p);yield Ql(S,y.auth);const M=yield ft(y);return S._openRedirect(y.auth,c,"reauthViaRedirect",M)})).apply(this,arguments)}function Ee(){return(Ee=(0,f.Z)(function*(m,c,p){const y=(0,P.m9)(m);Te(y.auth,c,gi),yield y.auth._initializationPromise;const S=Yt(y.auth,p);yield as(!1,y,c.providerId),yield Ql(S,y.auth);const M=yield ft(y);return S._openRedirect(y.auth,c,"linkViaRedirect",M)})).apply(this,arguments)}function Je(){return(Je=(0,f.Z)(function*(m,c){return yield an(m)._initializationPromise,Qe(m,c,!1)})).apply(this,arguments)}function Qe(m,c){return vt.apply(this,arguments)}function vt(){return(vt=(0,f.Z)(function*(m,c,p=!1){const y=an(m),S=Yt(y,c),G=yield new et(y,S,p).execute();return G&&!p&&(delete G.user._redirectEventId,yield y._persistUserIfCurrent(G.user),yield y._setRedirectUser(null,c)),G})).apply(this,arguments)}function ft(m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(m){const c=ps(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class ys{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(c,y)&&(p=!0,this.sendToConsumer(c,y),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Vr(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Es(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=c,p=!0)),p}sendToConsumer(c,p){var y;if(c.error&&!Es(c)){const S=(null===(y=c.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(pe(this.auth,S))}else p.onAuthEvent(c)}isEventForConsumer(c,p){const y=null===p.eventId||!!c.eventId&&c.eventId===p.eventId;return p.filter.includes(c.type)&&y}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vs(c))}saveEventToCache(c){this.cachedEventUids.add(vs(c)),this.lastProcessedEventTime=Date.now()}}function vs(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function Es({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===c?.code}function Ur(m){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(m,c={}){return _t(m,"GET","/v1/projects",c)})).apply(this,arguments)}const Cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Df=/^https?/;function hc(){return(hc=(0,f.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield Ur(m);for(const p of c)try{if(xd(p))return}catch{}_e(m,"unauthorized-domain")})).apply(this,arguments)}function xd(m){const c=oe(),{protocol:p,hostname:y}=new URL(c);if(m.startsWith("chrome-extension://")){const G=new URL(m);return""===G.hostname&&""===y?"chrome-extension:"===p&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===p&&G.hostname===y}if(!Df.test(p))return!1;if(Cs.test(m))return y===m;const S=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(y)}const Fn=new He(3e4,6e4);function Na(){const m=un().___jsl;if(m?.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let wr=null;function br(m){return wr=wr||function mg(m){return new Promise((c,p)=>{var y,S,M;function G(){Na(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Na(),p(pe(m,"network-request-failed"))},timeout:Fn.get()})}if(null!==(S=null===(y=un().gapi)||void 0===y?void 0:y.iframes)&&void 0!==S&&S.Iframe)c(gapi.iframes.getContext());else{if(null===(M=un().gapi)||void 0===M||!M.load){const se=$l("iframefcb");return un()[se]=()=>{gapi.load?G():p(pe(m,"network-request-failed"))},Jr(`https://apis.google.com/js/api.js?onload=${se}`).catch(xe=>p(xe))}G()}}).catch(c=>{throw wr=null,c})}(m),wr}const kd=new He(5e3,15e3),Xs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mr(m){const c=m.config;V(c.authDomain,m,"auth-domain-config-required");const p=c.emulator?Ue(c,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:c.apiKey,appName:m.name,v:ee.SDK_VERSION},S=xa.get(m.config.apiHost);S&&(y.eid=S);const M=m._getFrameworks();return M.length&&(y.fw=M.join(",")),`${p}?${(0,P.xO)(y).slice(1)}`}function Fd(){return Fd=(0,f.Z)(function*(m){const c=yield br(m),p=un().gapi;return V(p,m,"internal-error"),c.open({where:document.body,url:mr(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xs,dontclear:!0},y=>new Promise(function(){var S=(0,f.Z)(function*(M,G){yield y.restyle({setHideOnLeave:!1});const se=pe(m,"network-request-failed"),xe=un().setTimeout(()=>{G(se)},kd.get());function Ze(){un().clearTimeout(xe),M(y)}y.ping(Ze).then(Ze,()=>{G(se)})});return function(M,G){return S.apply(this,arguments)}}()))}),Fd.apply(this,arguments)}const Xl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jr{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nu(m,c,p,y,S,M){V(m.config.authDomain,m,"auth-domain-config-required"),V(m.config.apiKey,m,"invalid-api-key");const G={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:y,v:ee.SDK_VERSION,eventId:S};if(c instanceof gi){c.setDefaultLanguage(m.languageCode),G.providerId=c.providerId||"",(0,P.xb)(c.getCustomParameters())||(G.customParameters=JSON.stringify(c.getCustomParameters()));for(const[xe,Ze]of Object.entries(M||{}))G[xe]=Ze}if(c instanceof Ls){const xe=c.getScopes().filter(Ze=>""!==Ze);xe.length>0&&(G.scopes=xe.join(","))}m.tenantId&&(G.tid=m.tenantId);const se=G;for(const xe of Object.keys(se))void 0===se[xe]&&delete se[xe];return`${function yg({config:m}){return m.emulator?Ue(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,P.xO)(se).slice(1)}`}const ni="webStorageSupport",pc=class bf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=Qe,this._overrideRedirectResult=dc}_openPopup(c,p,y,S){var M=this;return(0,f.Z)(function*(){var G;Pe(null===(G=M.eventManagers[c._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const se=nu(c,p,y,oe(),S);return function wt(m,c,p,y=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),G=Math.max((window.screen.availWidth-y)/2,0).toString();let se="";const xe=Object.assign(Object.assign({},Xl),{width:y.toString(),height:S.toString(),top:M,left:G}),Ze=(0,P.z$)().toLowerCase();p&&(se=Pt(Ze)?"_blank":p),Ke(Ze)&&(c=c||"http://localhost",xe.scrollbars="yes");const it=Object.entries(xe).reduce((On,[Tr,fu])=>`${On}${Tr}=${fu},`,"");if(function jn(m=(0,P.z$)()){var c;return In(m)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Ze)&&"_self"!==se)return function tu(m,c){const p=document.createElement("a");p.href=m,p.target=c;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(c||"",se),new jr(null);const nt=window.open(c||"",se,it);V(nt,m,"popup-blocked");try{nt.focus()}catch{}return new jr(nt)}(c,se,ps())})()}_openRedirect(c,p,y,S){var M=this;return(0,f.Z)(function*(){return yield M._originValidation(c),function ji(m){un().location.href=m}(nu(c,p,y,oe(),S)),new Promise(()=>{})})()}_initialize(c){const p=c._key();if(this.eventManagers[p]){const{manager:S,promise:M}=this.eventManagers[p];return S?Promise.resolve(S):(Pe(M,"If manager is not set, promise should be"),M)}const y=this.initAndGetManager(c);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(c){var p=this;return(0,f.Z)(function*(){const y=yield function Vo(m){return Fd.apply(this,arguments)}(c),S=new ys(c);return y.register("authEvent",M=>(V(M?.authEvent,c,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[c._key()]={manager:S},p.iframes[c._key()]=y,S})()}_isIframeWebStorageSupported(c,p){this.iframes[c._key()].send(ni,{type:ni},S=>{var M;const G=null===(M=S?.[0])||void 0===M?void 0:M[ni];void 0!==G&&p(!!G),_e(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const p=c._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function zn(m){return hc.apply(this,arguments)}(c)),this.originValidationPromises[p]}get _shouldInitProactively(){return Cd()||Dt()||In()}};class Sf{constructor(c){this.factorId=c}_process(c,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(c,p.credential,y);case"signin":return this._finalizeSignIn(c,p.credential);default:return he("unexpected MultiFactorSessionType")}}}class Tf extends Sf{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Tf(c)}_finalizeEnroll(c,p,y){return function yf(m,c){return _t(m,"POST","/v2/accounts/mfaEnrollment:finalize",We(m,c))}(c,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,p){return function ba(m,c){return _t(m,"POST","/v2/accounts/mfaSignIn:finalize",We(m,c))}(c,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $t=(()=>{class m{constructor(){}static assertion(p){return Tf._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var Ci="@firebase/auth";class Vd{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const p=this.auth.onIdTokenChanged(y=>{c(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,p),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const p=this.internalListeners.get(c);p&&(this.internalListeners.delete(c),p(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Di(){return window}function jo(){return(jo=(0,f.Z)(function*(m,c,p){var y;const{BuildInfo:S}=Di();Pe(c.sessionId,"AuthEvent did not contain a session ID");const M=yield gc(c.sessionId),G={};return In()?G.ibi=S.packageName:ot()?G.apn=S.packageName:_e(m,"operation-not-supported-in-this-environment"),S.displayName&&(G.appDisplayName=S.displayName),G.sessionId=M,nu(m,p,c.type,void 0,null!==(y=c.eventId)&&void 0!==y?y:void 0,G)})).apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(m){const{BuildInfo:c}=Di(),p={};In()?p.iosBundleId=c.packageName:ot()?p.androidPackageName=c.packageName:_e(m,"operation-not-supported-in-this-environment"),yield Ur(m,p)})).apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(m,c,p){const{cordova:y}=Di();let S=()=>{};try{yield new Promise((M,G)=>{let se=null;function xe(){var nt;M();const On=null===(nt=y.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof On&&On(),"function"==typeof p?.close&&p.close()}function Ze(){se||(se=window.setTimeout(()=>{G(pe(m,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===document?.visibilityState&&Ze()}c.addPassiveListener(xe),document.addEventListener("resume",Ze,!1),ot()&&document.addEventListener("visibilitychange",it,!1),S=()=>{c.removePassiveListener(xe),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",it,!1),se&&window.clearTimeout(se)}})}finally{S()}})).apply(this,arguments)}function gc(m){return Is.apply(this,arguments)}function Is(){return(Is=(0,f.Z)(function*(m){const c=mc(m),p=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(p)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mc(m){if(Pe(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const c=new ArrayBuffer(m.length),p=new Uint8Array(c);for(let y=0;y<m.length;y++)p[y]=m.charCodeAt(y);return p}(0,P.Pz)("authIdTokenMaxAge"),function Fa(m){(0,ee._registerComponent)(new le.wA("auth",(c,{options:p})=>{const y=c.getProvider("app").getImmediate(),S=c.getProvider("heartbeat"),{apiKey:M,authDomain:G}=y.options;return((se,xe)=>{V(M&&!M.includes(":"),"invalid-api-key",{appName:se.name}),V(!G?.includes(":"),"argument-error",{appName:se.name});const Ze={apiKey:M,authDomain:G,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ra(m)},it=new Bu(se,xe,Ze);return function ne(m,c){const p=c?.persistence||[],y=(Array.isArray(p)?p:[p]).map(tt);c?.errorMap&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(y,c?.popupRedirectResolver)}(it,p),it})(y,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,p,y)=>{c.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new le.wA("auth-internal",c=>{const p=an(c.getProvider("auth").getImmediate());return new Vd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Ci,"0.21.3",function Zn(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ee.registerVersion)(Ci,"0.21.3","esm2017")}("Browser");class La extends ys{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(c)),super.onEvent(c)}initialized(){var c=this;return(0,f.Z)(function*(){yield c.initPromise})()}}function Hd(m){return Va.apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(m){const c=yield $d()._get(Ua(m));return c&&(yield $d()._remove(Ua(m))),c})).apply(this,arguments)}function Ig(){const m=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const y=Math.floor(Math.random()*c.length);m.push(c.charAt(y))}return m.join("")}function $d(){return tt(Ul)}function Ua(m){return W("authEvent",m.config.apiKey,m.name)}function au(m){if(!m?.includes("?"))return{};const[c,...p]=m.split("?");return(0,P.zd)(p.join("?"))}const lu=class Rf{constructor(){this._redirectPersistence=fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qe,this._overrideRedirectResult=dc}_initialize(c){var p=this;return(0,f.Z)(function*(){const y=c._key();let S=p.eventManagers.get(y);return S||(S=new La(c),p.eventManagers.set(y,S),p.attachCallbackListeners(c,S)),S})()}_openPopup(c){_e(c,"operation-not-supported-in-this-environment")}_openRedirect(c,p,y,S){var M=this;return(0,f.Z)(function*(){!function Cg(m){var c,p,y,S,M,G,se,xe,Ze,it;const nt=Di();V("function"==typeof(null===(c=nt?.universalLinks)||void 0===c?void 0:c.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(p=nt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(M=null===(S=null===(y=nt?.cordova)||void 0===y?void 0:y.plugins)||void 0===S?void 0:S.browsertab)||void 0===M?void 0:M.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(xe=null===(se=null===(G=nt?.cordova)||void 0===G?void 0:G.plugins)||void 0===se?void 0:se.browsertab)||void 0===xe?void 0:xe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(it=null===(Ze=nt?.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===it?void 0:it.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const G=yield M._initialize(c);yield G.initialized(),G.resetRedirect(),function zi(){Lr.clear()}(),yield M._originValidation(c);const se=function su(m,c,p=null){return{type:c,eventId:p,urlResponse:null,sessionId:Ig(),postBody:null,tenantId:m.tenantId,error:pe(m,"no-auth-event")}}(c,y,S);yield function ou(m,c){return $d()._set(Ua(m),c)}(c,se);const xe=yield function Mt(m,c,p){return jo.apply(this,arguments)}(c,se,p),Ze=yield function jd(m){const{cordova:c}=Di();return new Promise(p=>{c.plugins.browsertab.isAvailable(y=>{let S=null;y?c.plugins.browsertab.openUrl(m):S=c.InAppBrowser.open(m,function Os(m=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),p(S)})})}(xe);return function ru(m,c,p){return Ds.apply(this,arguments)}(c,G,Ze)})()}_isIframeWebStorageSupported(c,p){throw new Error("Method not implemented.")}_originValidation(c){const p=c._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Eg(m){return Ii.apply(this,arguments)}(c)),this.originValidationPromises[p]}attachCallbackListeners(c,p){const{universalLinks:y,handleOpenURL:S,BuildInfo:M}=Di(),G=setTimeout((0,f.Z)(function*(){yield Hd(c),p.onEvent(uu())}),500),se=function(){var it=(0,f.Z)(function*(nt){clearTimeout(G);const On=yield Hd(c);let Tr=null;On&&nt?.url&&(Tr=function Dg(m,c){var p,y;const S=function bg(m){const c=au(m),p=c.link?decodeURIComponent(c.link):void 0,y=au(p).link,S=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return au(S).link||S||y||p||m}(c);if(S.includes("/__/auth/callback")){const M=au(S),G=M.firebaseError?function wg(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,se=null===(y=null===(p=G?.code)||void 0===p?void 0:p.split("auth/"))||void 0===y?void 0:y[1],xe=se?pe(se):null;return xe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:S,postBody:null}}return null}(On,nt.url)),p.onEvent(Tr||uu())});return function(On){return it.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,se);const xe=S,Ze=`${M.packageName.toLowerCase()}://`;Di().handleOpenURL=function(){var it=(0,f.Z)(function*(nt){if(nt.toLowerCase().startsWith(Ze)&&se({url:nt}),"function"==typeof xe)try{xe(nt)}catch(On){console.error(On)}});return function(nt){return it.apply(this,arguments)}}()}};function uu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}function ja(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Of(m=(0,P.z$)()){return!("file:"!==ja()&&"ionic:"!==ja()&&"capacitor:"!==ja()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function vc(){try{const m=self.localStorage,c=ps();if(m)return m.setItem(c,"1"),m.removeItem(c),!function Wd(m=(0,P.z$)()){return function to(){return(0,P.w1)()&&11===document?.documentMode}()||function Ha(m=(0,P.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,P.hl)()}catch{return cu()&&(0,P.hl)()}return!1}function cu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zi(){return(function Pf(){return"http:"===ja()||"https:"===ja()}()||(0,P.ru)()||Of())&&!function yc(){return(0,P.b$)()||(0,P.UG)()}()&&vc()&&!cu()}function zd(){return Of()&&typeof document<"u"}function Ho(){return(Ho=(0,f.Z)(function*(){return!!zd()&&new Promise(m=>{const c=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),m(!0)})})})).apply(this,arguments)}const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},ri=V,Cc="persistence";function Zd(m){return du.apply(this,arguments)}function du(){return(du=(0,f.Z)(function*(m){yield m._initializationPromise;const c=$a(),p=W(Cc,m.config.apiKey,m.name);c&&c.setItem(p,m._getPersistence())})).apply(this,arguments)}function $a(){var m;try{return(null===(m=function Nf(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const Ki=V;class wi{constructor(){this.browserResolver=tt(pc),this.cordovaResolver=tt(lu),this.underlyingResolver=null,this._redirectPersistence=fs,this._completeRedirectFn=Qe,this._overrideRedirectResult=dc}_initialize(c){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,p,y,S){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(c,p,y,S)})()}_openRedirect(c,p,y,S){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(c,p,y,S)})()}_isIframeWebStorageSupported(c,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,p)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return zd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ki(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,f.Z)(function*(){if(c.underlyingResolver)return;const p=yield function Ec(){return Ho.apply(this,arguments)}();c.underlyingResolver=p?c.cordovaResolver:c.browserResolver})()}}function ws(m){return m.unwrap()}function Dc(m){return kf(m)}function kf(m){const{_tokenResponse:c}=m instanceof P.ZR?m.customData:m;if(!c)return null;if(!(m instanceof P.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Yl.credentialFromResult(m);const p=c.providerId;if(!p||"password"===p)return null;let y;switch(p){case"google.com":y=Id;break;case"facebook.com":y=Il;break;case"github.com":y=wd;break;case"twitter.com":y=gf;break;default:const{oauthIdToken:S,oauthAccessToken:M,oauthTokenSecret:G,pendingToken:se,nonce:xe}=c;return M||G||S||se?se?p.startsWith("saml.")?Vs._create(p,se):Cr._fromParams({providerId:p,signInMethod:p,pendingToken:se,idToken:S,accessToken:M}):new vo(p).credential({idToken:S,accessToken:M,rawNonce:xe}):null}return m instanceof P.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function Sr(m,c){return c.catch(p=>{throw p instanceof P.ZR&&function no(m,c){var p;const y=null===(p=c.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new qd(m,function kn(m,c){var p;const y=(0,P.m9)(m),S=c;return V(c.customData.operationType,y,"argument-error"),V(null===(p=S.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),Vl._fromError(y,S)}(m,c));else if(y){const S=kf(c),M=c;S&&(M.credential=S,M.tenantId=y.tenantId||void 0,M.email=y.email||void 0,M.phoneNumber=y.phoneNumber||void 0)}}(m,p),p}).then(p=>{const S=p.user;return{operationType:p.operationType,credential:Dc(p),additionalUserInfo:Ad(p),user:bs.getOrCreate(S)}})}function Ff(m,c){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,f.Z)(function*(m,c){const p=yield c;return{verificationId:p.verificationId,confirm:y=>Sr(m,p.confirm(y))}})).apply(this,arguments)}class qd{constructor(c,p){this.resolver=p,this.auth=function Go(m){return m.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Sr(ws(this.auth),this.resolver.resolveSignIn(c))}}class bs{constructor(c){this._delegate=c,this.multiFactor=function ma(m){const c=(0,P.m9)(m);return ds.has(c)||ds.set(c,To._fromUser(c)),ds.get(c)}(c)}static getOrCreate(c){return bs.USER_MAP.has(c)||bs.USER_MAP.set(c,new bs(c)),bs.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var p=this;return(0,f.Z)(function*(){return Sr(p.auth,mn(p._delegate,c))})()}linkWithPhoneNumber(c,p){var y=this;return(0,f.Z)(function*(){return Ff(y.auth,function Cf(m,c,p){return oc.apply(this,arguments)}(y._delegate,c,p))})()}linkWithPopup(c){var p=this;return(0,f.Z)(function*(){return Sr(p.auth,function ly(m,c,p){return Wn.apply(this,arguments)}(p._delegate,c,wi))})()}linkWithRedirect(c){var p=this;return(0,f.Z)(function*(){return yield Zd(an(p.auth)),function Z(m,c,p){return function Q(m,c,p){return Ee.apply(this,arguments)}(m,c,p)}(p._delegate,c,wi)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var p=this;return(0,f.Z)(function*(){return Sr(p.auth,ls(p._delegate,c))})()}reauthenticateWithPhoneNumber(c,p){return Ff(this.auth,function ac(m,c,p){return Kl.apply(this,arguments)}(this._delegate,c,p))}reauthenticateWithPopup(c){return Sr(this.auth,function ay(m,c,p){return Nd.apply(this,arguments)}(this._delegate,c,wi))}reauthenticateWithRedirect(c){var p=this;return(0,f.Z)(function*(){return yield Zd(an(p.auth)),function I(m,c,p){return function T(m,c,p){return F.apply(this,arguments)}(m,c,p)}(p._delegate,c,wi)})()}sendEmailVerification(c){return function Ku(m,c){return Nl.apply(this,arguments)}(this._delegate,c)}unlink(c){var p=this;return(0,f.Z)(function*(){return yield function ia(m,c){return Us.apply(this,arguments)}(p._delegate,c),p})()}updateEmail(c){return function qu(m,c){return Yu((0,P.m9)(m),c,null)}(this._delegate,c)}updatePassword(c){return function So(m,c){return Yu((0,P.m9)(m),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function ql(m,c){return uc.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function cs(m,c){return Yr.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,p){return function pa(m,c,p){return bn.apply(this,arguments)}(this._delegate,c,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bs.USER_MAP=new WeakMap;const Ga=V;let hu=(()=>{class m{constructor(p,y){if(this.app=p,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=p.options;Ga(S,"invalid-api-key",{appName:p.name}),Ga(S,"invalid-api-key",{appName:p.name});const M=typeof window<"u"?wi:void 0;this._delegate=y.initialize({options:{persistence:Lf(S,p.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,y){!function yl(m,c,p){const y=an(m);V(y._canInitEmulator,y,"emulator-config-failed"),V(/^https?:\/\//.test(c),y,"invalid-emulator-scheme");const S=!!p?.disableWarnings,M=go(c),{host:G,port:se}=function mo(m){const c=go(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(y);if(S){const M=S[1];return{host:M,port:kt(y.substr(M.length+1))}}{const[M,G]=y.split(":");return{host:M,port:kt(G)}}}(c);y.config.emulator={url:`${M}//${G}${null===se?"":`:${se}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:G,port:se,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function wn(){function m(){const c=document.createElement("p"),p=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,p,y)}applyActionCode(p){return function la(m,c){return zu.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return ua(this._delegate,p)}confirmPasswordReset(p,y){return function wo(m,c,p){return gt.apply(this,arguments)}(this._delegate,p,y)}createUserWithEmailAndPassword(p,y){var S=this;return(0,f.Z)(function*(){return Sr(S._delegate,function Sd(m,c,p){return Pl.apply(this,arguments)}(S._delegate,p,y))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ha(m,c){return fa.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Zu(m,c){return"EMAIL_SIGNIN"===yo.parseLink(c)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,f.Z)(function*(){Ga(Zi(),p._delegate,"operation-not-supported-in-this-environment");const y=yield function Le(m,c){return Je.apply(this,arguments)}(p._delegate,wi);return y?Sr(p._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Sg(m,c){an(m)._logFramework(c)}(this._delegate,p)}onAuthStateChanged(p,y,S){const{next:M,error:G,complete:se}=Ic(p,y,S);return this._delegate.onAuthStateChanged(M,G,se)}onIdTokenChanged(p,y,S){const{next:M,error:G,complete:se}=Ic(p,y,S);return this._delegate.onIdTokenChanged(M,G,se)}sendSignInLinkToEmail(p,y){return function Ft(m,c,p){return Ol.apply(this,arguments)}(this._delegate,p,y)}sendPasswordResetEmail(p,y){return function mi(m,c,p){return Io.apply(this,arguments)}(this._delegate,p,y||void 0)}setPersistence(p){var y=this;return(0,f.Z)(function*(){let S;switch(function $o(m,c){ri(Object.values(Kn).includes(c),m,"invalid-persistence-type"),(0,P.b$)()?ri(c!==Kn.SESSION,m,"unsupported-persistence-type"):(0,P.UG)()?ri(c===Kn.NONE,m,"unsupported-persistence-type"):cu()?ri(c===Kn.NONE||c===Kn.LOCAL&&(0,P.hl)(),m,"unsupported-persistence-type"):ri(c===Kn.NONE||vc(),m,"unsupported-persistence-type")}(y._delegate,p),p){case Kn.SESSION:S=fs;break;case Kn.LOCAL:S=(yield tt(_s)._isAvailable())?_s:Ul;break;case Kn.NONE:S=L;break;default:return _e("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Sr(this._delegate,function Gu(m){return bd.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Sr(this._delegate,hn(this._delegate,p))}signInWithCustomToken(p){return Sr(this._delegate,function us(m,c){return Rn.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,y){return Sr(this._delegate,function ue(m,c,p){return hn((0,P.m9)(m),Dl.credential(c,p))}(this._delegate,p,y))}signInWithEmailLink(p,y){return Sr(this._delegate,function xn(m,c,p){return bo.apply(this,arguments)}(this._delegate,p,y))}signInWithPhoneNumber(p,y){return Ff(this._delegate,function Ht(m,c,p){return ei.apply(this,arguments)}(this._delegate,p,y))}signInWithPopup(p){var y=this;return(0,f.Z)(function*(){return Ga(Zi(),y._delegate,"operation-not-supported-in-this-environment"),Sr(y._delegate,function Js(m,c,p){return Pa.apply(this,arguments)}(y._delegate,p,wi))})()}signInWithRedirect(p){var y=this;return(0,f.Z)(function*(){return Ga(Zi(),y._delegate,"operation-not-supported-in-this-environment"),yield Zd(y._delegate),function Jl(m,c,p){return function Lo(m,c,p){return D.apply(this,arguments)}(m,c,p)}(y._delegate,p,wi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Rl(m,c){return ca.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Kn,m})();function Ic(m,c,p){let y=m;"function"!=typeof m&&({next:y,error:c,complete:p}=m);const S=y;return{next:G=>S(G&&bs.getOrCreate(G)),error:c,complete:p}}function Lf(m,c){const p=function xf(m,c){const p=$a();if(!p)return[];const y=W(Cc,m,c);switch(p.getItem(y)){case Kn.NONE:return[L];case Kn.LOCAL:return[_s,fs];case Kn.SESSION:return[fs];default:return[]}}(m,c);if(typeof self<"u"&&!p.includes(_s)&&p.push(_s),typeof window<"u")for(const y of[Ul,fs])p.includes(y)||p.push(y);return p.includes(L)||p.push(L),p}class wc{constructor(){this.providerId="phone",this._delegate=new Yl(ws(K.Z.auth()))}static credential(c,p){return Yl.credential(c,p)}verifyPhoneNumber(c,p){return this._delegate.verifyPhoneNumber(c,p)}unwrap(){return this._delegate}}wc.PHONE_SIGN_IN_METHOD=Yl.PHONE_SIGN_IN_METHOD,wc.PROVIDER_ID=Yl.PROVIDER_ID;const Yd=V;class Vf{constructor(c,p,y=K.Z.app()){var S;Yd(null===(S=y.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new No(c,p,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tg(m){m.INTERNAL.registerComponent(new le.wA("auth-compat",c=>{const p=c.getProvider("app-compat").getImmediate(),y=c.getProvider("auth");return new hu(p,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Dl,FacebookAuthProvider:Il,GithubAuthProvider:wd,GoogleAuthProvider:Id,OAuthProvider:vo,SAMLAuthProvider:qr,PhoneAuthProvider:wc,PhoneMultiFactorGenerator:$t,RecaptchaVerifier:Vf,TwitterAuthProvider:gf,Auth:hu,AuthCredential:gn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.3.3")}(K.Z)},8766:(Xe,me,O)=>{O.d(me,{Lj:()=>_e,X3:()=>Ae});var f=O(5861);let P,ee;const le=new WeakMap,ie=new WeakMap,re=new WeakMap,B=new WeakMap,j=new WeakMap;let ye={get(V,he,Pe){if(V instanceof IDBTransaction){if("done"===he)return ie.get(V);if("objectStoreNames"===he)return V.objectStoreNames||re.get(V);if("store"===he)return Pe.objectStoreNames[1]?void 0:Pe.objectStore(Pe.objectStoreNames[0])}return Ce(V[he])},set:(V,he,Pe)=>(V[he]=Pe,!0),has:(V,he)=>V instanceof IDBTransaction&&("done"===he||"store"===he)||he in V};function ae(V){return"function"==typeof V?function Ye(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...he){return V.apply(ve(this),he),Ce(le.get(this))}:function(...he){return Ce(V.apply(ve(this),he))}:function(he,...Pe){const Be=V.call(ve(this),he,...Pe);return re.set(Be,he.sort?he.sort():[he]),Ce(Be)}}(V):(V instanceof IDBTransaction&&function Oe(V){if(ie.has(V))return;const he=new Promise((Pe,Be)=>{const tt=()=>{V.removeEventListener("complete",Ge),V.removeEventListener("error",ne),V.removeEventListener("abort",ne)},Ge=()=>{Pe(),tt()},ne=()=>{Be(V.error||new DOMException("AbortError","AbortError")),tt()};V.addEventListener("complete",Ge),V.addEventListener("error",ne),V.addEventListener("abort",ne)});ie.set(V,he)}(V),((V,he)=>he.some(Pe=>V instanceof Pe))(V,function X(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,ye):V)}function Ce(V){if(V instanceof IDBRequest)return function z(V){const he=new Promise((Pe,Be)=>{const tt=()=>{V.removeEventListener("success",Ge),V.removeEventListener("error",ne)},Ge=()=>{Pe(Ce(V.result)),tt()},ne=()=>{Be(V.error),tt()};V.addEventListener("success",Ge),V.addEventListener("error",ne)});return he.then(Pe=>{Pe instanceof IDBCursor&&le.set(Pe,V)}).catch(()=>{}),j.set(he,V),he}(V);if(B.has(V))return B.get(V);const he=ae(V);return he!==V&&(B.set(V,he),j.set(he,V)),he}const ve=V=>j.get(V);function Ae(V,he,{blocked:Pe,upgrade:Be,blocking:tt,terminated:Ge}={}){const ne=indexedDB.open(V,he),oe=Ce(ne);return Be&&ne.addEventListener("upgradeneeded",fe=>{Be(Ce(ne.result),fe.oldVersion,fe.newVersion,Ce(ne.transaction))}),Pe&&ne.addEventListener("blocked",()=>Pe()),oe.then(fe=>{Ge&&fe.addEventListener("close",()=>Ge()),tt&&fe.addEventListener("versionchange",()=>tt())}).catch(()=>{}),oe}function _e(V,{blocked:he}={}){const Pe=indexedDB.deleteDatabase(V);return he&&Pe.addEventListener("blocked",()=>he()),Ce(Pe).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Te=new Map;function Se(V,he){if(!(V instanceof IDBDatabase)||he in V||"string"!=typeof he)return;if(Te.get(he))return Te.get(he);const Pe=he.replace(/FromIndex$/,""),Be=he!==Pe,tt=De.includes(Pe);if(!(Pe in(Be?IDBIndex:IDBObjectStore).prototype)||!tt&&!pe.includes(Pe))return;const Ge=function(){var ne=(0,f.Z)(function*(oe,...fe){const Ie=this.transaction(oe,tt?"readwrite":"readonly");let Me=Ie.store;return Be&&(Me=Me.index(fe.shift())),(yield Promise.all([Me[Pe](...fe),tt&&Ie.done]))[0]});return function(fe){return ne.apply(this,arguments)}}();return Te.set(he,Ge),Ge}!function Ve(V){ye=V(ye)}(V=>({...V,get:(he,Pe,Be)=>Se(he,Pe)||V.get(he,Pe,Be),has:(he,Pe)=>!!Se(he,Pe)||V.has(he,Pe)}))},5861:(Xe,me,O)=>{function f(P,ee,X,te,le,ie,re){try{var B=P[ie](re),j=B.value}catch(z){return void X(z)}B.done?ee(j):Promise.resolve(j).then(te,le)}function K(P){return function(){var ee=this,X=arguments;return new Promise(function(te,le){var ie=P.apply(ee,X);function re(j){f(ie,te,le,re,B,"next",j)}function B(j){f(ie,te,le,re,B,"throw",j)}re(void 0)})}}O.d(me,{Z:()=>K})}},Xe=>{Xe(Xe.s=4913)}]);